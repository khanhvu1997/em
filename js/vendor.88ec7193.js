(globalThis["webpackChunkntv"]=globalThis["webpackChunkntv"]||[]).push([[736],{7518:e=>{e.exports=function(e,t,r){const n=void 0!==e.__vccOpts?e.__vccOpts:e,i=n[t];if(void 0===i)n[t]=r;else for(const o in r)void 0===i[o]&&(i[o]=r[o])}},1959:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,BK:()=>ze,Bj:()=>o,EB:()=>u,Fl:()=>Je,IU:()=>Oe,Jd:()=>x,PG:()=>Le,SU:()=>Ve,Um:()=>xe,WL:()=>Ge,X$:()=>D,X3:()=>Pe,XI:()=>Be,Xl:()=>Ie,dq:()=>je,iH:()=>Ue,j:()=>A,lk:()=>C,nZ:()=>l,qj:()=>ke,qq:()=>w,yT:()=>Re});var n=r(2323);let i;class o{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new o(e)}function s(e,t=i){t&&t.active&&t.effects.push(e)}function l(){return i}function u(e){i&&i.cleanups.push(e)}const c=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&g)>0,f=e=>(e.n&g)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=g},p=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];d(i)&&!f(i)?i.delete(e):t[r++]=i,i.w&=~g,i.n&=~g}t.length=r}},v=new WeakMap;let m=0,g=1;const y=30;let b;const E=Symbol(""),S=Symbol("");class w{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,r)}run(){if(!this.active)return this.fn();let e=b,t=_;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,_=!0,g=1<<++m,m<=y?h(this):T(this),this.fn()}finally{m<=y&&p(this),g=1<<--m,b=this.parent,_=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(T(this),this.onStop&&this.onStop(),this.active=!1)}}function T(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let _=!0;const k=[];function x(){k.push(_),_=!1}function C(){const e=k.pop();_=void 0===e||e}function A(e,t,r){if(_&&b){let t=v.get(e);t||v.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=c());const i=void 0;L(n,i)}}function L(e,t){let r=!1;m<=y?f(e)||(e.n|=g,r=!d(e)):r=!e.has(b),r&&(e.add(b),b.deps.push(e))}function D(e,t,r,i,o,a){const s=v.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===r&&(0,n.kJ)(e)){const e=Number(i);s.forEach(((t,r)=>{("length"===r||r>=e)&&l.push(t)}))}else switch(void 0!==r&&l.push(s.get(r)),t){case"add":(0,n.kJ)(e)?(0,n.S0)(r)&&l.push(s.get("length")):(l.push(s.get(E)),(0,n._N)(e)&&l.push(s.get(S)));break;case"delete":(0,n.kJ)(e)||(l.push(s.get(E)),(0,n._N)(e)&&l.push(s.get(S)));break;case"set":(0,n._N)(e)&&l.push(s.get(E));break}if(1===l.length)l[0]&&R(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);R(c(e))}}function R(e,t){const r=(0,n.kJ)(e)?e:[...e];for(const n of r)n.computed&&P(n,t);for(const n of r)n.computed||P(n,t)}function P(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function O(e,t){var r;return null===(r=v.get(e))||void 0===r?void 0:r.get(t)}const I=(0,n.fY)("__proto__,__v_isRef,__isVue"),F=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(n.yk)),N=q(),M=q(!1,!0),$=q(!0),j=U();function U(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=Oe(this);for(let t=0,i=this.length;t<i;t++)A(r,"get",t+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(Oe)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){x();const r=Oe(this)[t].apply(this,e);return C(),r}})),e}function B(e){const t=Oe(this);return A(t,"has",e),t.hasOwnProperty(e)}function q(e=!1,t=!1){return function(r,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&o===(e?t?we:Se:t?Ee:be).get(r))return r;const a=(0,n.kJ)(r);if(!e){if(a&&(0,n.RI)(j,i))return Reflect.get(j,i,o);if("hasOwnProperty"===i)return B}const s=Reflect.get(r,i,o);return((0,n.yk)(i)?F.has(i):I(i))?s:(e||A(r,"get",i),t?s:je(s)?a&&(0,n.S0)(i)?s:s.value:(0,n.Kn)(s)?e?Ce(s):ke(s):s)}}const H=K(),V=K(!0);function K(e=!1){return function(t,r,i,o){let a=t[r];if(De(a)&&je(a)&&!je(i))return!1;if(!e&&(Re(i)||De(i)||(a=Oe(a),i=Oe(i)),!(0,n.kJ)(t)&&je(a)&&!je(i)))return a.value=i,!0;const s=(0,n.kJ)(t)&&(0,n.S0)(r)?Number(r)<t.length:(0,n.RI)(t,r),l=Reflect.set(t,r,i,o);return t===Oe(o)&&(s?(0,n.aU)(i,a)&&D(t,"set",r,i,a):D(t,"add",r,i)),l}}function G(e,t){const r=(0,n.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&r&&D(e,"delete",t,void 0,i),o}function z(e,t){const r=Reflect.has(e,t);return(0,n.yk)(t)&&F.has(t)||A(e,"has",t),r}function W(e){return A(e,"iterate",(0,n.kJ)(e)?"length":E),Reflect.ownKeys(e)}const Y={get:N,set:H,deleteProperty:G,has:z,ownKeys:W},Z={get:$,set(e,t){return!0},deleteProperty(e,t){return!0}},X=(0,n.l7)({},Y,{get:M,set:V}),J=e=>e,Q=e=>Reflect.getPrototypeOf(e);function ee(e,t,r=!1,n=!1){e=e["__v_raw"];const i=Oe(e),o=Oe(t);r||(t!==o&&A(i,"get",t),A(i,"get",o));const{has:a}=Q(i),s=n?J:r?Ne:Fe;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void(e!==i&&e.get(t))}function te(e,t=!1){const r=this["__v_raw"],n=Oe(r),i=Oe(e);return t||(e!==i&&A(n,"has",e),A(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function re(e,t=!1){return e=e["__v_raw"],!t&&A(Oe(e),"iterate",E),Reflect.get(e,"size",e)}function ne(e){e=Oe(e);const t=Oe(this),r=Q(t),n=r.has.call(t,e);return n||(t.add(e),D(t,"add",e,e)),this}function ie(e,t){t=Oe(t);const r=Oe(this),{has:i,get:o}=Q(r);let a=i.call(r,e);a||(e=Oe(e),a=i.call(r,e));const s=o.call(r,e);return r.set(e,t),a?(0,n.aU)(t,s)&&D(r,"set",e,t,s):D(r,"add",e,t),this}function oe(e){const t=Oe(this),{has:r,get:n}=Q(t);let i=r.call(t,e);i||(e=Oe(e),i=r.call(t,e));const o=n?n.call(t,e):void 0,a=t.delete(e);return i&&D(t,"delete",e,void 0,o),a}function ae(){const e=Oe(this),t=0!==e.size,r=void 0,n=e.clear();return t&&D(e,"clear",void 0,void 0,r),n}function se(e,t){return function(r,n){const i=this,o=i["__v_raw"],a=Oe(o),s=t?J:e?Ne:Fe;return!e&&A(a,"iterate",E),o.forEach(((e,t)=>r.call(n,s(e),s(t),i)))}}function le(e,t,r){return function(...i){const o=this["__v_raw"],a=Oe(o),s=(0,n._N)(a),l="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...i),d=r?J:t?Ne:Fe;return!t&&A(a,"iterate",u?S:E),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ue(e){return function(...t){return"delete"!==e&&this}}function ce(){const e={get(e){return ee(this,e)},get size(){return re(this)},has:te,add:ne,set:ie,delete:oe,clear:ae,forEach:se(!1,!1)},t={get(e){return ee(this,e,!1,!0)},get size(){return re(this)},has:te,add:ne,set:ie,delete:oe,clear:ae,forEach:se(!1,!0)},r={get(e){return ee(this,e,!0)},get size(){return re(this,!0)},has(e){return te.call(this,e,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:se(!0,!1)},n={get(e){return ee(this,e,!0,!0)},get size(){return re(this,!0)},has(e){return te.call(this,e,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:se(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=le(i,!1,!1),r[i]=le(i,!0,!1),t[i]=le(i,!1,!0),n[i]=le(i,!0,!0)})),[e,r,t,n]}const[de,fe,he,pe]=ce();function ve(e,t){const r=t?e?pe:he:e?fe:de;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,n.RI)(r,i)&&i in t?r:t,i,o)}const me={get:ve(!1,!1)},ge={get:ve(!1,!0)},ye={get:ve(!0,!1)};const be=new WeakMap,Ee=new WeakMap,Se=new WeakMap,we=new WeakMap;function Te(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _e(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Te((0,n.W7)(e))}function ke(e){return De(e)?e:Ae(e,!1,Y,me,be)}function xe(e){return Ae(e,!1,X,ge,Ee)}function Ce(e){return Ae(e,!0,Z,ye,Se)}function Ae(e,t,r,i,o){if(!(0,n.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const s=_e(e);if(0===s)return e;const l=new Proxy(e,2===s?i:r);return o.set(e,l),l}function Le(e){return De(e)?Le(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function De(e){return!(!e||!e["__v_isReadonly"])}function Re(e){return!(!e||!e["__v_isShallow"])}function Pe(e){return Le(e)||De(e)}function Oe(e){const t=e&&e["__v_raw"];return t?Oe(t):e}function Ie(e){return(0,n.Nj)(e,"__v_skip",!0),e}const Fe=e=>(0,n.Kn)(e)?ke(e):e,Ne=e=>(0,n.Kn)(e)?Ce(e):e;function Me(e){_&&b&&(e=Oe(e),L(e.dep||(e.dep=c())))}function $e(e,t){e=Oe(e);const r=e.dep;r&&R(r)}function je(e){return!(!e||!0!==e.__v_isRef)}function Ue(e){return qe(e,!1)}function Be(e){return qe(e,!0)}function qe(e,t){return je(e)?e:new He(e,t)}class He{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Oe(e),this._value=t?e:Fe(e)}get value(){return Me(this),this._value}set value(e){const t=this.__v_isShallow||Re(e)||De(e);e=t?e:Oe(e),(0,n.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Fe(e),$e(this,e))}}function Ve(e){return je(e)?e.value:e}const Ke={get:(e,t,r)=>Ve(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return je(i)&&!je(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Ge(e){return Le(e)?e:new Proxy(e,Ke)}function ze(e){const t=(0,n.kJ)(e)?new Array(e.length):{};for(const r in e)t[r]=Ye(e,r);return t}class We{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return O(Oe(this._object),this._key)}}function Ye(e,t,r){const n=e[t];return je(n)?n:new We(e,t,r)}var Ze;class Xe{constructor(e,t,r,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Ze]=!1,this._dirty=!0,this.effect=new w(e,(()=>{this._dirty||(this._dirty=!0,$e(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this["__v_isReadonly"]=r}get value(){const e=Oe(this);return Me(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Je(e,t,r=!1){let i,o;const a=(0,n.mf)(e);a?(i=e,o=n.dG):(i=e.get,o=e.set);const s=new Xe(i,o,a||!o,r);return s}Ze="__v_isReadonly"},3673:(e,t,r)=>{"use strict";r.d(t,{$d:()=>a,Ah:()=>Le,Cn:()=>N,FN:()=>Tr,Fl:()=>jr,HY:()=>Ht,JJ:()=>G,Jd:()=>Ae,Ko:()=>qe,LL:()=>je,P$:()=>ne,Q6:()=>ue,RC:()=>fe,U2:()=>oe,Uk:()=>fr,Us:()=>Lt,Wm:()=>lr,Xn:()=>xe,Y3:()=>y,Y8:()=>ee,YP:()=>Y,_:()=>sr,aZ:()=>ce,bv:()=>ke,dD:()=>F,dl:()=>me,f3:()=>z,h:()=>Ur,iD:()=>er,ic:()=>Ce,j4:()=>tr,kq:()=>hr,lR:()=>Bt,nK:()=>le,se:()=>ge,up:()=>Me,w5:()=>M,wF:()=>_e,wg:()=>Yt,wy:()=>Ie});var n=r(1959),i=r(2323);function o(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){s(o,t,r)}return i}function a(e,t,r,n){if((0,i.mf)(e)){const a=o(e,t,r,n);return a&&(0,i.tI)(a)&&a.catch((e=>{s(e,t,r)})),a}const l=[];for(let i=0;i<e.length;i++)l.push(a(e[i],t,r,n));return l}function s(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const i=t.proxy,a=r;while(n){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,a))return;n=n.parent}const s=t.appContext.config.errorHandler;if(s)return void o(s,null,10,[e,i,a])}l(e,r,i,n)}function l(e,t,r,n=!0){console.error(e)}let u=!1,c=!1;const d=[];let f=0;const h=[];let p=null,v=0;const m=Promise.resolve();let g=null;function y(e){const t=g||m;return e?t.then(this?e.bind(this):e):t}function b(e){let t=f+1,r=d.length;while(t<r){const n=t+r>>>1,i=x(d[n]);i<e?t=n+1:r=n}return t}function E(e){d.length&&d.includes(e,u&&e.allowRecurse?f+1:f)||(null==e.id?d.push(e):d.splice(b(e.id),0,e),S())}function S(){u||c||(c=!0,g=m.then(A))}function w(e){const t=d.indexOf(e);t>f&&d.splice(t,1)}function T(e){(0,i.kJ)(e)?h.push(...e):p&&p.includes(e,e.allowRecurse?v+1:v)||h.push(e),S()}function _(e,t=(u?f+1:0)){for(0;t<d.length;t++){const e=d[t];e&&e.pre&&(d.splice(t,1),t--,e())}}function k(e){if(h.length){const e=[...new Set(h)];if(h.length=0,p)return void p.push(...e);for(p=e,p.sort(((e,t)=>x(e)-x(t))),v=0;v<p.length;v++)p[v]();p=null,v=0}}const x=e=>null==e.id?1/0:e.id,C=(e,t)=>{const r=x(e)-x(t);if(0===r){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function A(e){c=!1,u=!0,d.sort(C);i.dG;try{for(f=0;f<d.length;f++){const e=d[f];e&&!1!==e.active&&o(e,null,14)}}finally{f=0,d.length=0,k(e),u=!1,g=null,(d.length||h.length)&&A(e)}}new Set;new Map;function L(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||i.kT;let o=r;const s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in n){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:a}=n[e]||i.kT;a&&(o=r.map((e=>(0,i.HD)(e)?e.trim():e))),t&&(o=r.map(i.h5))}let u;let c=n[u=(0,i.hR)(t)]||n[u=(0,i.hR)((0,i._A)(t))];!c&&s&&(c=n[u=(0,i.hR)((0,i.rs)(t))]),c&&a(c,e,6,o);const d=n[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,a(d,e,6,o)}}function D(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(void 0!==o)return o;const a=e.emits;let s={},l=!1;if(!(0,i.mf)(e)){const n=e=>{const r=D(e,t,!0);r&&(l=!0,(0,i.l7)(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return a||l?((0,i.kJ)(a)?a.forEach((e=>s[e]=null)):(0,i.l7)(s,a),(0,i.Kn)(e)&&n.set(e,s),s):((0,i.Kn)(e)&&n.set(e,null),null)}function R(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let P=null,O=null;function I(e){const t=P;return P=e,O=e&&e.type.__scopeId||null,t}function F(e){O=e}function N(){O=null}function M(e,t=P,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&Jt(-1);const i=I(t);let o;try{o=e(...r)}finally{I(i),n._d&&Jt(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function $(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:a,propsOptions:[l],slots:u,attrs:c,emit:d,render:f,renderCache:h,data:p,setupState:v,ctx:m,inheritAttrs:g}=e;let y,b;const E=I(e);try{if(4&r.shapeFlag){const e=o||n;y=pr(f.call(e,e,h,a,v,p,m)),b=c}else{const e=t;0,y=pr(e.length>1?e(a,{attrs:c,slots:u,emit:d}):e(a,null)),b=t.props?c:j(c)}}catch(w){zt.length=0,s(w,e,1),y=lr(Kt)}let S=y;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=S;e.length&&7&t&&(l&&e.some(i.tR)&&(b=U(b,l)),S=dr(S,b))}return r.dirs&&(S=dr(S),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(S.transition=r.transition),y=S,I(E),y}const j=e=>{let t;for(const r in e)("class"===r||"style"===r||(0,i.F7)(r))&&((t||(t={}))[r]=e[r]);return t},U=(e,t)=>{const r={};for(const n in e)(0,i.tR)(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function B(e,t,r){const{props:n,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!i&&!s||s&&s.$stable)||n!==a&&(n?!a||q(n,a,u):!!a);if(1024&l)return!0;if(16&l)return n?q(n,a,u):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(a[r]!==n[r]&&!R(u,r))return!0}}return!1}function q(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!R(r,o))return!0}return!1}function H({vnode:e,parent:t},r){while(t&&t.subTree===e)(e=t.vnode).el=r,t=t.parent}const V=e=>e.__isSuspense;function K(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):T(e)}function G(e,t){if(wr){let r=wr.provides;const n=wr.parent&&wr.parent.provides;n===r&&(r=wr.provides=Object.create(n)),r[e]=t}else 0}function z(e,t,r=!1){const n=wr||P;if(n){const o=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&(0,i.mf)(t)?t.call(n.proxy):t}else 0}const W={};function Y(e,t,r){return Z(e,t,r)}function Z(e,t,{immediate:r,deep:s,flush:l,onTrack:u,onTrigger:c}=i.kT){const d=(0,n.nZ)()===(null===wr||void 0===wr?void 0:wr.scope)?wr:null;let f,h,p=!1,v=!1;if((0,n.dq)(e)?(f=()=>e.value,p=(0,n.yT)(e)):(0,n.PG)(e)?(f=()=>e,s=!0):(0,i.kJ)(e)?(v=!0,p=e.some((e=>(0,n.PG)(e)||(0,n.yT)(e))),f=()=>e.map((e=>(0,n.dq)(e)?e.value:(0,n.PG)(e)?Q(e):(0,i.mf)(e)?o(e,d,2):void 0))):f=(0,i.mf)(e)?t?()=>o(e,d,2):()=>{if(!d||!d.isUnmounted)return h&&h(),a(e,d,3,[g])}:i.dG,t&&s){const e=f;f=()=>Q(e())}let m,g=e=>{h=w.onStop=()=>{o(e,d,4)}};if(Lr){if(g=i.dG,t?r&&a(t,d,3,[f(),v?[]:void 0,g]):f(),"sync"!==l)return i.dG;{const e=qr();m=e.__watcherHandles||(e.__watcherHandles=[])}}let y=v?new Array(e.length).fill(W):W;const b=()=>{if(w.active)if(t){const e=w.run();(s||p||(v?e.some(((e,t)=>(0,i.aU)(e,y[t]))):(0,i.aU)(e,y)))&&(h&&h(),a(t,d,3,[e,y===W?void 0:v&&y[0]===W?[]:y,g]),y=e)}else w.run()};let S;b.allowRecurse=!!t,"sync"===l?S=b:"post"===l?S=()=>At(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),S=()=>E(b));const w=new n.qq(f,S);t?r?b():y=w.run():"post"===l?At(w.run.bind(w),d&&d.suspense):w.run();const T=()=>{w.stop(),d&&d.scope&&(0,i.Od)(d.scope.effects,w)};return m&&m.push(T),T}function X(e,t,r){const n=this.proxy,o=(0,i.HD)(e)?e.includes(".")?J(n,e):()=>n[e]:e.bind(n,n);let a;(0,i.mf)(t)?a=t:(a=t.handler,r=t);const s=wr;_r(this);const l=Z(o,a.bind(n),r);return s?_r(s):kr(),l}function J(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function Q(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,n.dq)(e))Q(e.value,t);else if((0,i.kJ)(e))for(let r=0;r<e.length;r++)Q(e[r],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{Q(e,t)}));else if((0,i.PO)(e))for(const r in e)Q(e[r],t);return e}function ee(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ke((()=>{e.isMounted=!0})),Ae((()=>{e.isUnmounting=!0})),e}const te=[Function,Array],re={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:te,onEnter:te,onAfterEnter:te,onEnterCancelled:te,onBeforeLeave:te,onLeave:te,onAfterLeave:te,onLeaveCancelled:te,onBeforeAppear:te,onAppear:te,onAfterAppear:te,onAppearCancelled:te},setup(e,{slots:t}){const r=Tr(),i=ee();let o;return()=>{const a=t.default&&ue(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==Kt){0,s=t,e=!0;break}}const l=(0,n.IU)(e),{mode:u}=l;if(i.isLeaving)return ae(s);const c=se(s);if(!c)return ae(s);const d=oe(c,l,i,r);le(c,d);const f=r.subTree,h=f&&se(f);let p=!1;const{getTransitionKey:v}=c.type;if(v){const e=v();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(h&&h.type!==Kt&&(!nr(c,h)||p)){const e=oe(h,l,i,r);if(le(h,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==r.update.active&&r.update()},ae(s);"in-out"===u&&c.type!==Kt&&(e.delayLeave=(e,t,r)=>{const n=ie(i,h);n[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=r})}return s}}},ne=re;function ie(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function oe(e,t,r,n){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:b,onAppearCancelled:E}=t,S=String(e.key),w=ie(r,e),T=(e,t)=>{e&&a(e,n,9,t)},_=(e,t)=>{const r=t[1];T(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&r():e.length<=1&&r()},k={mode:s,persisted:l,beforeEnter(t){let n=u;if(!r.isMounted){if(!o)return;n=g||u}t._leaveCb&&t._leaveCb(!0);const i=w[S];i&&nr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),T(n,[t])},enter(e){let t=c,n=d,i=f;if(!r.isMounted){if(!o)return;t=y||c,n=b||d,i=E||f}let a=!1;const s=e._enterCb=t=>{a||(a=!0,T(t?i:n,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?_(t,[e,s]):s()},leave(t,n){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return n();T(h,[t]);let o=!1;const a=t._leaveCb=r=>{o||(o=!0,n(),T(r?m:v,[t]),t._leaveCb=void 0,w[i]===e&&delete w[i])};w[i]=e,p?_(p,[t,a]):a()},clone(e){return oe(e,t,r,n)}};return k}function ae(e){if(pe(e))return e=dr(e),e.children=null,e}function se(e){return pe(e)?e.children?e.children[0]:void 0:e}function le(e,t){6&e.shapeFlag&&e.component?le(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ue(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const s=null==r?a.key:String(r)+String(null!=a.key?a.key:o);a.type===Ht?(128&a.patchFlag&&i++,n=n.concat(ue(a.children,t,s))):(t||a.type!==Kt)&&n.push(null!=s?dr(a,{key:s}):a)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function ce(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const de=e=>!!e.type.__asyncLoader;function fe(e){(0,i.mf)(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:o,delay:a=200,timeout:l,suspensible:u=!0,onError:c}=e;let d,f=null,h=0;const p=()=>(h++,f=null,v()),v=()=>{let e;return f||(e=f=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),c)return new Promise(((t,r)=>{const n=()=>t(p()),i=()=>r(e);c(e,n,i,h+1)}));throw e})).then((t=>e!==f&&f?f:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),d=t,t))))};return ce({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return d},setup(){const e=wr;if(d)return()=>he(d,e);const t=t=>{f=null,s(t,e,13,!o)};if(u&&e.suspense||Lr)return v().then((t=>()=>he(t,e))).catch((e=>(t(e),()=>o?lr(o,{error:e}):null)));const i=(0,n.iH)(!1),c=(0,n.iH)(),h=(0,n.iH)(!!a);return a&&setTimeout((()=>{h.value=!1}),a),null!=l&&setTimeout((()=>{if(!i.value&&!c.value){const e=new Error(`Async component timed out after ${l}ms.`);t(e),c.value=e}}),l),v().then((()=>{i.value=!0,e.parent&&pe(e.parent.vnode)&&E(e.parent.update)})).catch((e=>{t(e),c.value=e})),()=>i.value&&d?he(d,e):c.value&&o?lr(o,{error:c.value}):r&&!h.value?lr(r):void 0}})}function he(e,t){const{ref:r,props:n,children:i,ce:o}=t.vnode,a=lr(e,n,i);return a.ref=r,a.ce=o,delete t.vnode.ce,a}const pe=e=>e.type.__isKeepAlive;RegExp,RegExp;function ve(e,t){return(0,i.kJ)(e)?e.some((e=>ve(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!(0,i.Kj)(e)&&e.test(t)}function me(e,t){ye(e,"a",t)}function ge(e,t){ye(e,"da",t)}function ye(e,t,r=wr){const n=e.__wdc||(e.__wdc=()=>{let t=r;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(we(t,n,r),r){let e=r.parent;while(e&&e.parent)pe(e.parent.vnode)&&be(n,t,r,e),e=e.parent}}function be(e,t,r,n){const o=we(t,e,n,!0);Le((()=>{(0,i.Od)(n[t],o)}),r)}function Ee(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Se(e){return 128&e.shapeFlag?e.ssContent:e}function we(e,t,r=wr,i=!1){if(r){const o=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(r.isUnmounted)return;(0,n.Jd)(),_r(r);const o=a(t,r,e,i);return kr(),(0,n.lk)(),o});return i?o.unshift(s):o.push(s),s}}const Te=e=>(t,r=wr)=>(!Lr||"sp"===e)&&we(e,((...e)=>t(...e)),r),_e=Te("bm"),ke=Te("m"),xe=Te("bu"),Ce=Te("u"),Ae=Te("bum"),Le=Te("um"),De=Te("sp"),Re=Te("rtg"),Pe=Te("rtc");function Oe(e,t=wr){we("ec",e,t)}function Ie(e,t){const r=P;if(null===r)return e;const n=Nr(r)||r.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,r,s,l=i.kT]=t[a];e&&((0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Q(r),o.push({dir:e,instance:n,value:r,oldValue:void 0,arg:s,modifiers:l}))}return e}function Fe(e,t,r,i){const o=e.dirs,s=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let c=u.dir[i];c&&((0,n.Jd)(),a(c,r,8,[e.el,u,e,t]),(0,n.lk)())}}const Ne="components";function Me(e,t){return Ue(Ne,e,!0,t)||e}const $e=Symbol();function je(e){return(0,i.HD)(e)?Ue(Ne,e,!1)||e:e||$e}function Ue(e,t,r=!0,n=!1){const o=P||wr;if(o){const r=o.type;if(e===Ne){const e=Mr(r,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return r}const a=Be(o[e]||r[e],t)||Be(o.appContext[e],t);return!a&&n?r:a}}function Be(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function qe(e,t,r,n){let o;const a=r&&r[n];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let r=0,n=e.length;r<n;r++)o[r]=t(e[r],r,void 0,a&&a[r])}else if("number"===typeof e){0,o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,a&&a[r])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,r)=>t(e,r,void 0,a&&a[r])));else{const r=Object.keys(e);o=new Array(r.length);for(let n=0,i=r.length;n<i;n++){const i=r[n];o[n]=t(e[i],i,n,a&&a[n])}}else o=[];return r&&(r[n]=o),o}const He=e=>e?xr(e)?Nr(e)||e.proxy:He(e.parent):null,Ve=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>He(e.parent),$root:e=>He(e.root),$emit:e=>e.emit,$options:e=>Je(e),$forceUpdate:e=>e.f||(e.f=()=>E(e.update)),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>X.bind(e)}),Ke=(e,t)=>e!==i.kT&&!e.__isScriptSetup&&(0,i.RI)(e,t),Ge={get({_:e},t){const{ctx:r,setupState:o,data:a,props:s,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const n=l[t];if(void 0!==n)switch(n){case 1:return o[t];case 2:return a[t];case 4:return r[t];case 3:return s[t]}else{if(Ke(o,t))return l[t]=1,o[t];if(a!==i.kT&&(0,i.RI)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=3,s[t];if(r!==i.kT&&(0,i.RI)(r,t))return l[t]=4,r[t];ze&&(l[t]=0)}}const f=Ve[t];let h,p;return f?("$attrs"===t&&(0,n.j)(e,"get",t),f(e)):(h=u.__cssModules)&&(h=h[t])?h:r!==i.kT&&(0,i.RI)(r,t)?(l[t]=4,r[t]):(p=c.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,r){const{data:n,setupState:o,ctx:a}=e;return Ke(o,t)?(o[t]=r,!0):n!==i.kT&&(0,i.RI)(n,t)?(n[t]=r,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:a}},s){let l;return!!r[s]||e!==i.kT&&(0,i.RI)(e,s)||Ke(t,s)||(l=a[0])&&(0,i.RI)(l,s)||(0,i.RI)(n,s)||(0,i.RI)(Ve,s)||(0,i.RI)(o.config.globalProperties,s)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:(0,i.RI)(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let ze=!0;function We(e){const t=Je(e),r=e.proxy,o=e.ctx;ze=!1,t.beforeCreate&&Ze(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:u,provide:c,inject:d,created:f,beforeMount:h,mounted:p,beforeUpdate:v,updated:m,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:E,destroyed:S,unmounted:w,render:T,renderTracked:_,renderTriggered:k,errorCaptured:x,serverPrefetch:C,expose:A,inheritAttrs:L,components:D,directives:R,filters:P}=t,O=null;if(d&&Ye(d,o,O,e.appContext.config.unwrapInjectedRef),l)for(const n in l){const e=l[n];(0,i.mf)(e)&&(o[n]=e.bind(r))}if(a){0;const t=a.call(r,r);0,(0,i.Kn)(t)&&(e.data=(0,n.qj)(t))}if(ze=!0,s)for(const n in s){const e=s[n],t=(0,i.mf)(e)?e.bind(r,r):(0,i.mf)(e.get)?e.get.bind(r,r):i.dG;0;const a=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(r):i.dG,l=jr({get:t,set:a});Object.defineProperty(o,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const n in u)Xe(u[n],o,r,n);if(c){const e=(0,i.mf)(c)?c.call(r):c;Reflect.ownKeys(e).forEach((t=>{G(t,e[t])}))}function I(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(f&&Ze(f,e,"c"),I(_e,h),I(ke,p),I(xe,v),I(Ce,m),I(me,g),I(ge,y),I(Oe,x),I(Pe,_),I(Re,k),I(Ae,E),I(Le,w),I(De,C),(0,i.kJ)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});T&&e.render===i.dG&&(e.render=T),null!=L&&(e.inheritAttrs=L),D&&(e.components=D),R&&(e.directives=R)}function Ye(e,t,r=i.dG,o=!1){(0,i.kJ)(e)&&(e=nt(e));for(const a in e){const r=e[a];let s;s=(0,i.Kn)(r)?"default"in r?z(r.from||a,r.default,!0):z(r.from||a):z(r),(0,n.dq)(s)&&o?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[a]=s}}function Ze(e,t,r){a((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function Xe(e,t,r,n){const o=n.includes(".")?J(r,n):()=>r[n];if((0,i.HD)(e)){const r=t[e];(0,i.mf)(r)&&Y(o,r)}else if((0,i.mf)(e))Y(o,e.bind(r));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>Xe(e,t,r,n)));else{const n=(0,i.mf)(e.handler)?e.handler.bind(r):t[e.handler];(0,i.mf)(n)&&Y(o,n,e)}else 0}function Je(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let u;return l?u=l:o.length||r||n?(u={},o.length&&o.forEach((e=>Qe(u,e,s,!0))),Qe(u,t,s)):u=t,(0,i.Kn)(t)&&a.set(t,u),u}function Qe(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&Qe(e,o,r,!0),i&&i.forEach((t=>Qe(e,t,r,!0)));for(const a in t)if(n&&"expose"===a);else{const n=et[a]||r&&r[a];e[a]=n?n(e[a],t[a]):t[a]}return e}const et={data:tt,props:ot,emits:ot,methods:ot,computed:ot,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:ot,directives:ot,watch:at,provide:tt,inject:rt};function tt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function rt(e,t){return ot(nt(e),nt(t))}function nt(e){if((0,i.kJ)(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function ot(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function at(e,t){if(!e)return t;if(!t)return e;const r=(0,i.l7)(Object.create(null),e);for(const n in t)r[n]=it(e[n],t[n]);return r}function st(e,t,r,o=!1){const a={},s={};(0,i.Nj)(s,ir,1),e.propsDefaults=Object.create(null),ut(e,t,a,s);for(const n in e.propsOptions[0])n in a||(a[n]=void 0);r?e.props=o?a:(0,n.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function lt(e,t,r,o){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,u=(0,n.IU)(a),[c]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let n;ut(e,t,a,s)&&(d=!0);for(const o in u)t&&((0,i.RI)(t,o)||(n=(0,i.rs)(o))!==o&&(0,i.RI)(t,n))||(c?!r||void 0===r[o]&&void 0===r[n]||(a[o]=ct(c,u,o,void 0,e,!0)):delete a[o]);if(s!==u)for(const e in s)t&&(0,i.RI)(t,e)||(delete s[e],d=!0)}else if(8&l){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let o=r[n];if(R(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,i.RI)(s,o))l!==s[o]&&(s[o]=l,d=!0);else{const t=(0,i._A)(o);a[t]=ct(c,u,t,l,e,!1)}else l!==s[o]&&(s[o]=l,d=!0)}}d&&(0,n.X$)(e,"set","$attrs")}function ut(e,t,r,o){const[a,s]=e.propsOptions;let l,u=!1;if(t)for(let n in t){if((0,i.Gg)(n))continue;const c=t[n];let d;a&&(0,i.RI)(a,d=(0,i._A)(n))?s&&s.includes(d)?(l||(l={}))[d]=c:r[d]=c:R(e.emitsOptions,n)||n in o&&c===o[n]||(o[n]=c,u=!0)}if(s){const t=(0,n.IU)(r),o=l||i.kT;for(let n=0;n<s.length;n++){const l=s[n];r[l]=ct(a,t,l,o[l],e,!(0,i.RI)(o,l))}}return u}function ct(e,t,r,n,o,a){const s=e[r];if(null!=s){const e=(0,i.RI)(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=o;r in i?n=i[r]:(_r(o),n=i[r]=e.call(null,t),kr())}else n=e}s[0]&&(a&&!e?n=!1:!s[1]||""!==n&&n!==(0,i.rs)(r)||(n=!0))}return n}function dt(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const a=e.props,s={},l=[];let u=!1;if(!(0,i.mf)(e)){const n=e=>{u=!0;const[r,n]=dt(e,t,!0);(0,i.l7)(s,r),n&&l.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!a&&!u)return(0,i.Kn)(e)&&n.set(e,i.Z6),i.Z6;if((0,i.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,i._A)(a[d]);ft(e)&&(s[e]=i.kT)}else if(a){0;for(const e in a){const t=(0,i._A)(e);if(ft(t)){const r=a[e],n=s[t]=(0,i.kJ)(r)||(0,i.mf)(r)?{type:r}:Object.assign({},r);if(n){const e=vt(Boolean,n.type),r=vt(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||(0,i.RI)(n,"default"))&&l.push(t)}}}}const c=[s,l];return(0,i.Kn)(e)&&n.set(e,c),c}function ft(e){return"$"!==e[0]}function ht(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function pt(e,t){return ht(e)===ht(t)}function vt(e,t){return(0,i.kJ)(t)?t.findIndex((t=>pt(t,e))):(0,i.mf)(t)&&pt(t,e)?0:-1}const mt=e=>"_"===e[0]||"$stable"===e,gt=e=>(0,i.kJ)(e)?e.map(pr):[pr(e)],yt=(e,t,r)=>{if(t._n)return t;const n=M(((...e)=>gt(t(...e))),r);return n._c=!1,n},bt=(e,t,r)=>{const n=e._ctx;for(const o in e){if(mt(o))continue;const r=e[o];if((0,i.mf)(r))t[o]=yt(o,r,n);else if(null!=r){0;const e=gt(r);t[o]=()=>e}}},Et=(e,t)=>{const r=gt(t);e.slots.default=()=>r},St=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=(0,n.IU)(t),(0,i.Nj)(t,"_",r)):bt(t,e.slots={})}else e.slots={},t&&Et(e,t);(0,i.Nj)(e.slots,ir,1)},wt=(e,t,r)=>{const{vnode:n,slots:o}=e;let a=!0,s=i.kT;if(32&n.shapeFlag){const e=t._;e?r&&1===e?a=!1:((0,i.l7)(o,t),r||1!==e||delete o._):(a=!t.$stable,bt(t,o)),s=t}else t&&(Et(e,t),s={default:1});if(a)for(const i in o)mt(i)||i in s||delete o[i]};function Tt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _t=0;function kt(e,t){return function(r,n=null){(0,i.mf)(r)||(r=Object.assign({},r)),null==n||(0,i.Kn)(n)||(n=null);const o=Tt(),a=new Set;let s=!1;const l=o.app={_uid:_t++,_component:r,_props:n,_container:null,_context:o,_instance:null,version:Hr,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,i.mf)(e.install)?(a.add(e),e.install(l,...t)):(0,i.mf)(e)&&(a.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,a,u){if(!s){0;const c=lr(r,n);return c.appContext=o,a&&t?t(c,i):e(c,i,u),s=!0,l._container=i,i.__vue_app__=l,Nr(c.component)||c.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l}};return l}}function xt(e,t,r,a,s=!1){if((0,i.kJ)(e))return void e.forEach(((e,n)=>xt(e,t&&((0,i.kJ)(t)?t[n]:t),r,a,s)));if(de(a)&&!s)return;const l=4&a.shapeFlag?Nr(a.component)||a.component.proxy:a.el,u=s?null:l,{i:c,r:d}=e;const f=t&&t.r,h=c.refs===i.kT?c.refs={}:c.refs,p=c.setupState;if(null!=f&&f!==d&&((0,i.HD)(f)?(h[f]=null,(0,i.RI)(p,f)&&(p[f]=null)):(0,n.dq)(f)&&(f.value=null)),(0,i.mf)(d))o(d,c,12,[u,h]);else{const t=(0,i.HD)(d),o=(0,n.dq)(d);if(t||o){const n=()=>{if(e.f){const r=t?(0,i.RI)(p,d)?p[d]:h[d]:d.value;s?(0,i.kJ)(r)&&(0,i.Od)(r,l):(0,i.kJ)(r)?r.includes(l)||r.push(l):t?(h[d]=[l],(0,i.RI)(p,d)&&(p[d]=h[d])):(d.value=[l],e.k&&(h[e.k]=d.value))}else t?(h[d]=u,(0,i.RI)(p,d)&&(p[d]=u)):o&&(d.value=u,e.k&&(h[e.k]=u))};u?(n.id=-1,At(n,r)):n()}else 0}}function Ct(){}const At=K;function Lt(e){return Dt(e)}function Dt(e,t){Ct();const r=(0,i.E9)();r.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:l,createText:u,createComment:c,setText:d,setElementText:f,parentNode:h,nextSibling:p,setScopeId:v=i.dG,insertStaticContent:m}=e,g=(e,t,r,n=null,i=null,o=null,a=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!nr(e,t)&&(n=J(e),z(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case Vt:y(e,t,r,n);break;case Kt:b(e,t,r,n);break;case Gt:null==e&&S(t,r,n,a);break;case Ht:I(e,t,r,n,i,o,a,s,l);break;default:1&d?C(e,t,r,n,i,o,a,s,l):6&d?F(e,t,r,n,i,o,a,s,l):(64&d||128&d)&&u.process(e,t,r,n,i,o,a,s,l,ee)}null!=c&&i&&xt(c,e&&e.ref,o,t||e,!t)},y=(e,t,r,n)=>{if(null==e)o(t.el=u(t.children),r,n);else{const r=t.el=e.el;t.children!==e.children&&d(r,t.children)}},b=(e,t,r,n)=>{null==e?o(t.el=c(t.children||""),r,n):t.el=e.el},S=(e,t,r,n)=>{[e.el,e.anchor]=m(e.children,t,r,n,e.el,e.anchor)},T=({el:e,anchor:t},r,n)=>{let i;while(e&&e!==t)i=p(e),o(e,r,n),e=i;o(t,r,n)},x=({el:e,anchor:t})=>{let r;while(e&&e!==t)r=p(e),a(e),e=r;a(t)},C=(e,t,r,n,i,o,a,s,l)=>{a=a||"svg"===t.type,null==e?A(t,r,n,i,o,a,s,l):R(e,t,i,o,a,s,l)},A=(e,t,r,n,a,u,c,d)=>{let h,p;const{type:v,props:m,shapeFlag:g,transition:y,dirs:b}=e;if(h=e.el=l(e.type,u,m&&m.is,m),8&g?f(h,e.children):16&g&&D(e.children,h,null,n,a,u&&"foreignObject"!==v,c,d),b&&Fe(e,null,n,"created"),L(h,e,e.scopeId,c,n),m){for(const t in m)"value"===t||(0,i.Gg)(t)||s(h,t,null,m[t],u,e.children,n,a,X);"value"in m&&s(h,"value",null,m.value),(p=m.onVnodeBeforeMount)&&yr(p,n,e)}b&&Fe(e,null,n,"beforeMount");const E=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;E&&y.beforeEnter(h),o(h,t,r),((p=m&&m.onVnodeMounted)||E||b)&&At((()=>{p&&yr(p,n,e),E&&y.enter(h),b&&Fe(e,null,n,"mounted")}),a)},L=(e,t,r,n,i)=>{if(r&&v(e,r),n)for(let o=0;o<n.length;o++)v(e,n[o]);if(i){let r=i.subTree;if(t===r){const t=i.vnode;L(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,r,n,i,o,a,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?vr(e[u]):pr(e[u]);g(null,l,t,r,n,i,o,a,s)}},R=(e,t,r,n,o,a,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:h}=t;c|=16&e.patchFlag;const p=e.props||i.kT,v=t.props||i.kT;let m;r&&Rt(r,!1),(m=v.onVnodeBeforeUpdate)&&yr(m,r,t,e),h&&Fe(t,e,r,"beforeUpdate"),r&&Rt(r,!0);const g=o&&"foreignObject"!==t.type;if(d?P(e.dynamicChildren,d,u,r,n,g,a):l||q(e,t,u,null,r,n,g,a,!1),c>0){if(16&c)O(u,t,p,v,r,n,o);else if(2&c&&p.class!==v.class&&s(u,"class",null,v.class,o),4&c&&s(u,"style",p.style,v.style,o),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],l=p[a],c=v[a];c===l&&"value"!==a||s(u,a,l,c,o,e.children,r,n,X)}}1&c&&e.children!==t.children&&f(u,t.children)}else l||null!=d||O(u,t,p,v,r,n,o);((m=v.onVnodeUpdated)||h)&&At((()=>{m&&yr(m,r,t,e),h&&Fe(t,e,r,"updated")}),n)},P=(e,t,r,n,i,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],c=l.el&&(l.type===Ht||!nr(l,u)||70&l.shapeFlag)?h(l.el):r;g(l,u,c,null,n,i,o,a,!0)}},O=(e,t,r,n,o,a,l)=>{if(r!==n){if(r!==i.kT)for(const u in r)(0,i.Gg)(u)||u in n||s(e,u,r[u],null,l,t.children,o,a,X);for(const u in n){if((0,i.Gg)(u))continue;const c=n[u],d=r[u];c!==d&&"value"!==u&&s(e,u,d,c,l,t.children,o,a,X)}"value"in n&&s(e,"value",r.value,n.value)}},I=(e,t,r,n,i,a,s,l,c)=>{const d=t.el=e?e.el:u(""),f=t.anchor=e?e.anchor:u("");let{patchFlag:h,dynamicChildren:p,slotScopeIds:v}=t;v&&(l=l?l.concat(v):v),null==e?(o(d,r,n),o(f,r,n),D(t.children,r,f,i,a,s,l,c)):h>0&&64&h&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,r,i,a,s,l),(null!=t.key||i&&t===i.subTree)&&Pt(e,t,!0)):q(e,t,r,f,i,a,s,l,c)},F=(e,t,r,n,i,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,a,l):N(t,r,n,i,o,a,l):M(e,t,l)},N=(e,t,r,n,i,o,a)=>{const s=e.component=Sr(e,n,i);if(pe(e)&&(s.ctx.renderer=ee),Dr(s),s.asyncDep){if(i&&i.registerDep(s,j),!e.el){const e=s.subTree=lr(Kt);b(null,e,t,r)}}else j(s,e,t,r,i,o,a)},M=(e,t,r)=>{const n=t.component=e.component;if(B(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void U(n,t,r);n.next=t,w(n.update),n.update()}else t.el=e.el,n.vnode=t},j=(e,t,r,o,a,s,l)=>{const u=()=>{if(e.isMounted){let t,{next:r,bu:n,u:o,parent:u,vnode:c}=e,d=r;0,Rt(e,!1),r?(r.el=c.el,U(e,r,l)):r=c,n&&(0,i.ir)(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&yr(t,u,r,c),Rt(e,!0);const f=$(e);0;const p=e.subTree;e.subTree=f,g(p,f,h(p.el),J(p),e,a,s),r.el=f.el,null===d&&H(e,f.el),o&&At(o,a),(t=r.props&&r.props.onVnodeUpdated)&&At((()=>yr(t,u,r,c)),a)}else{let n;const{el:l,props:u}=t,{bm:c,m:d,parent:f}=e,h=de(t);if(Rt(e,!1),c&&(0,i.ir)(c),!h&&(n=u&&u.onVnodeBeforeMount)&&yr(n,f,t),Rt(e,!0),l&&re){const r=()=>{e.subTree=$(e),re(l,e.subTree,e,a,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{0;const n=e.subTree=$(e);0,g(null,n,r,o,e,a,s),t.el=n.el}if(d&&At(d,a),!h&&(n=u&&u.onVnodeMounted)){const e=t;At((()=>yr(n,f,e)),a)}(256&t.shapeFlag||f&&de(f.vnode)&&256&f.vnode.shapeFlag)&&e.a&&At(e.a,a),e.isMounted=!0,t=r=o=null}},c=e.effect=new n.qq(u,(()=>E(d)),e.scope),d=e.update=()=>c.run();d.id=e.uid,Rt(e,!0),d()},U=(e,t,r)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,lt(e,t.props,i,r),wt(e,t.children,r),(0,n.Jd)(),_(),(0,n.lk)()},q=(e,t,r,n,i,o,a,s,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void K(u,d,r,n,i,o,a,s,l);if(256&h)return void V(u,d,r,n,i,o,a,s,l)}8&p?(16&c&&X(u,i,o),d!==u&&f(r,d)):16&c?16&p?K(u,d,r,n,i,o,a,s,l):X(u,i,o,!0):(8&c&&f(r,""),16&p&&D(d,r,n,i,o,a,s,l))},V=(e,t,r,n,o,a,s,l,u)=>{e=e||i.Z6,t=t||i.Z6;const c=e.length,d=t.length,f=Math.min(c,d);let h;for(h=0;h<f;h++){const n=t[h]=u?vr(t[h]):pr(t[h]);g(e[h],n,r,null,o,a,s,l,u)}c>d?X(e,o,a,!0,!1,f):D(t,r,n,o,a,s,l,u,f)},K=(e,t,r,n,o,a,s,l,u)=>{let c=0;const d=t.length;let f=e.length-1,h=d-1;while(c<=f&&c<=h){const n=e[c],i=t[c]=u?vr(t[c]):pr(t[c]);if(!nr(n,i))break;g(n,i,r,null,o,a,s,l,u),c++}while(c<=f&&c<=h){const n=e[f],i=t[h]=u?vr(t[h]):pr(t[h]);if(!nr(n,i))break;g(n,i,r,null,o,a,s,l,u),f--,h--}if(c>f){if(c<=h){const e=h+1,i=e<d?t[e].el:n;while(c<=h)g(null,t[c]=u?vr(t[c]):pr(t[c]),r,i,o,a,s,l,u),c++}}else if(c>h)while(c<=f)z(e[c],o,a,!0),c++;else{const p=c,v=c,m=new Map;for(c=v;c<=h;c++){const e=t[c]=u?vr(t[c]):pr(t[c]);null!=e.key&&m.set(e.key,c)}let y,b=0;const E=h-v+1;let S=!1,w=0;const T=new Array(E);for(c=0;c<E;c++)T[c]=0;for(c=p;c<=f;c++){const n=e[c];if(b>=E){z(n,o,a,!0);continue}let i;if(null!=n.key)i=m.get(n.key);else for(y=v;y<=h;y++)if(0===T[y-v]&&nr(n,t[y])){i=y;break}void 0===i?z(n,o,a,!0):(T[i-v]=c+1,i>=w?w=i:S=!0,g(n,t[i],r,null,o,a,s,l,u),b++)}const _=S?Ot(T):i.Z6;for(y=_.length-1,c=E-1;c>=0;c--){const e=v+c,i=t[e],f=e+1<d?t[e+1].el:n;0===T[c]?g(null,i,r,f,o,a,s,l,u):S&&(y<0||c!==_[y]?G(i,r,f,2):y--)}}},G=(e,t,r,n,i=null)=>{const{el:a,type:s,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void G(e.component.subTree,t,r,n);if(128&c)return void e.suspense.move(t,r,n);if(64&c)return void s.move(e,t,r,ee);if(s===Ht){o(a,t,r);for(let e=0;e<u.length;e++)G(u[e],t,r,n);return void o(e.anchor,t,r)}if(s===Gt)return void T(e,t,r);const d=2!==n&&1&c&&l;if(d)if(0===n)l.beforeEnter(a),o(a,t,r),At((()=>l.enter(a)),i);else{const{leave:e,delayLeave:n,afterLeave:i}=l,s=()=>o(a,t,r),u=()=>{e(a,(()=>{s(),i&&i()}))};n?n(a,s,u):u()}else o(a,t,r)},z=(e,t,r,n=!1,i=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:f}=e;if(null!=s&&xt(s,null,r,e,!0),256&c)return void t.ctx.deactivate(e);const h=1&c&&f,p=!de(e);let v;if(p&&(v=a&&a.onVnodeBeforeUnmount)&&yr(v,t,e),6&c)Z(e.component,r,n);else{if(128&c)return void e.suspense.unmount(r,n);h&&Fe(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,r,i,ee,n):u&&(o!==Ht||d>0&&64&d)?X(u,t,r,!1,!0):(o===Ht&&384&d||!i&&16&c)&&X(l,t,r),n&&W(e)}(p&&(v=a&&a.onVnodeUnmounted)||h)&&At((()=>{v&&yr(v,t,e),h&&Fe(e,null,t,"unmounted")}),r)},W=e=>{const{type:t,el:r,anchor:n,transition:i}=e;if(t===Ht)return void Y(r,n);if(t===Gt)return void x(e);const o=()=>{a(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,a=()=>t(r,o);n?n(e.el,o,a):a()}else o()},Y=(e,t)=>{let r;while(e!==t)r=p(e),a(e),e=r;a(t)},Z=(e,t,r)=>{const{bum:n,scope:o,update:a,subTree:s,um:l}=e;n&&(0,i.ir)(n),o.stop(),a&&(a.active=!1,z(s,e,t,r)),l&&At(l,t),At((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,r,n=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)z(e[a],t,r,n,i)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Q=(e,t,r)=>{null==e?t._vnode&&z(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,r),_(),k(),t._vnode=e},ee={p:g,um:z,m:G,r:W,mt:N,mc:D,pc:q,pbc:P,n:J,o:e};let te,re;return t&&([te,re]=t(ee)),{render:Q,hydrate:te,createApp:kt(Q,te)}}function Rt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Pt(e,t,r=!1){const n=e.children,o=t.children;if((0,i.kJ)(n)&&(0,i.kJ)(o))for(let i=0;i<n.length;i++){const e=n[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=vr(o[i]),t.el=e.el),r||Pt(e,t)),t.type===Vt&&(t.el=e.el)}}function Ot(e){const t=e.slice(),r=[0];let n,i,o,a,s;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(i=r[r.length-1],e[i]<l){t[n]=i,r.push(n);continue}o=0,a=r.length-1;while(o<a)s=o+a>>1,e[r[s]]<l?o=s+1:a=s;l<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}o=r.length,a=r[o-1];while(o-- >0)r[o]=a,a=t[a];return r}const It=e=>e.__isTeleport,Ft=e=>e&&(e.disabled||""===e.disabled),Nt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Mt=(e,t)=>{const r=e&&e.to;if((0,i.HD)(r)){if(t){const e=t(r);return e}return null}return r},$t={__isTeleport:!0,process(e,t,r,n,i,o,a,s,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:v,createComment:m}}=u,g=Ft(t.props);let{shapeFlag:y,children:b,dynamicChildren:E}=t;if(null==e){const e=t.el=v(""),u=t.anchor=v("");h(e,r,n),h(u,r,n);const d=t.target=Mt(t.props,p),f=t.targetAnchor=v("");d&&(h(f,d),a=a||Nt(d));const m=(e,t)=>{16&y&&c(b,e,t,i,o,a,s,l)};g?m(r,u):d&&m(d,f)}else{t.el=e.el;const n=t.anchor=e.anchor,c=t.target=e.target,h=t.targetAnchor=e.targetAnchor,v=Ft(e.props),m=v?r:c,y=v?n:h;if(a=a||Nt(c),E?(f(e.dynamicChildren,E,m,i,o,a,s),Pt(e,t,!0)):l||d(e,t,m,y,i,o,a,s,!1),g)v||jt(t,r,n,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Mt(t.props,p);e&&jt(t,e,null,u,0)}else v&&jt(t,c,h,u,1)}qt(t)},remove(e,t,r,n,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:d,props:f}=e;if(d&&o(c),(a||!Ft(f))&&(o(u),16&s))for(let h=0;h<l.length;h++){const e=l[h];i(e,t,r,!0,!!e.dynamicChildren)}},move:jt,hydrate:Ut};function jt(e,t,r,{o:{insert:n},m:i},o=2){0===o&&n(e.targetAnchor,t,r);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=e,d=2===o;if(d&&n(a,t,r),(!d||Ft(c))&&16&l)for(let f=0;f<u.length;f++)i(u[f],t,r,2);d&&n(s,t,r)}function Ut(e,t,r,n,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l}},u){const c=t.target=Mt(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(Ft(t.props))t.anchor=u(a(e),t,s(e),r,n,i,o),t.targetAnchor=l;else{t.anchor=a(e);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(l,t,c,r,n,i,o)}qt(t)}return t.anchor&&a(t.anchor)}const Bt=$t;function qt(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;while(r!==e.targetAnchor)1===r.nodeType&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Ht=Symbol(void 0),Vt=Symbol(void 0),Kt=Symbol(void 0),Gt=Symbol(void 0),zt=[];let Wt=null;function Yt(e=!1){zt.push(Wt=e?null:[])}function Zt(){zt.pop(),Wt=zt[zt.length-1]||null}let Xt=1;function Jt(e){Xt+=e}function Qt(e){return e.dynamicChildren=Xt>0?Wt||i.Z6:null,Zt(),Xt>0&&Wt&&Wt.push(e),e}function er(e,t,r,n,i,o){return Qt(sr(e,t,r,n,i,o,!0))}function tr(e,t,r,n,i){return Qt(lr(e,t,r,n,i,!0))}function rr(e){return!!e&&!0===e.__v_isVNode}function nr(e,t){return e.type===t.type&&e.key===t.key}const ir="__vInternal",or=({key:e})=>null!=e?e:null,ar=({ref:e,ref_key:t,ref_for:r})=>null!=e?(0,i.HD)(e)||(0,n.dq)(e)||(0,i.mf)(e)?{i:P,r:e,k:t,f:!!r}:e:null;function sr(e,t=null,r=null,n=0,o=null,a=(e===Ht?0:1),s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&or(t),ref:t&&ar(t),scopeId:O,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:P};return l?(mr(u,r),128&a&&e.normalize(u)):r&&(u.shapeFlag|=(0,i.HD)(r)?8:16),Xt>0&&!s&&Wt&&(u.patchFlag>0||6&a)&&32!==u.patchFlag&&Wt.push(u),u}const lr=ur;function ur(e,t=null,r=null,o=0,a=null,s=!1){if(e&&e!==$e||(e=Kt),rr(e)){const n=dr(e,t,!0);return r&&mr(n,r),Xt>0&&!s&&Wt&&(6&n.shapeFlag?Wt[Wt.indexOf(e)]=n:Wt.push(n)),n.patchFlag|=-2,n}if($r(e)&&(e=e.__vccOpts),t){t=cr(t);let{class:e,style:r}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(r)&&((0,n.X3)(r)&&!(0,i.kJ)(r)&&(r=(0,i.l7)({},r)),t.style=(0,i.j5)(r))}const l=(0,i.HD)(e)?1:V(e)?128:It(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return sr(e,t,r,o,a,l,s,!0)}function cr(e){return e?(0,n.X3)(e)||ir in e?(0,i.l7)({},e):e:null}function dr(e,t,r=!1){const{props:n,ref:o,patchFlag:a,children:s}=e,l=t?gr(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&or(l),ref:t&&t.ref?r&&o?(0,i.kJ)(o)?o.concat(ar(t)):[o,ar(t)]:ar(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dr(e.ssContent),ssFallback:e.ssFallback&&dr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u}function fr(e=" ",t=0){return lr(Vt,null,e,t)}function hr(e="",t=!1){return t?(Yt(),tr(Kt,null,e)):lr(Kt,null,e)}function pr(e){return null==e||"boolean"===typeof e?lr(Kt):(0,i.kJ)(e)?lr(Ht,null,e.slice()):"object"===typeof e?vr(e):lr(Vt,null,String(e))}function vr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:dr(e)}function mr(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if((0,i.kJ)(t))r=16;else if("object"===typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),mr(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||ir in t?3===n&&P&&(1===P.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=P}}else(0,i.mf)(t)?(t={default:t,_ctx:P},r=32):(t=String(t),64&n?(r=16,t=[fr(t)]):r=8);e.children=t,e.shapeFlag|=r}function gr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=(0,i.C_)([t.class,n.class]));else if("style"===e)t.style=(0,i.j5)([t.style,n.style]);else if((0,i.F7)(e)){const r=t[e],o=n[e];!o||r===o||(0,i.kJ)(r)&&r.includes(o)||(t[e]=r?[].concat(r,o):o)}else""!==e&&(t[e]=n[e])}return t}function yr(e,t,r,n=null){a(e,t,7,[r,n])}const br=Tt();let Er=0;function Sr(e,t,r){const o=e.type,a=(t?t.appContext:e.appContext)||br,s={uid:Er++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new n.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dt(o,a),emitsOptions:D(o,a),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=L.bind(null,s),e.ce&&e.ce(s),s}let wr=null;const Tr=()=>wr||P,_r=e=>{wr=e,e.scope.on()},kr=()=>{wr&&wr.scope.off(),wr=null};function xr(e){return 4&e.vnode.shapeFlag}let Cr,Ar,Lr=!1;function Dr(e,t=!1){Lr=t;const{props:r,children:n}=e.vnode,i=xr(e);st(e,r,i,t),St(e,n);const o=i?Rr(e,t):void 0;return Lr=!1,o}function Rr(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=(0,n.Xl)(new Proxy(e.ctx,Ge));const{setup:a}=r;if(a){const r=e.setupContext=a.length>1?Fr(e):null;_r(e),(0,n.Jd)();const l=o(a,e,0,[e.props,r]);if((0,n.lk)(),kr(),(0,i.tI)(l)){if(l.then(kr,kr),t)return l.then((r=>{Pr(e,r,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=l}else Pr(e,l,t)}else Or(e,t)}function Pr(e,t,r){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,n.WL)(t)),Or(e,r)}function Or(e,t,r){const o=e.type;if(!e.render){if(!t&&Cr&&!o.render){const t=o.template||Je(e).template;if(t){0;const{isCustomElement:r,compilerOptions:n}=e.appContext.config,{delimiters:a,compilerOptions:s}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:r,delimiters:a},n),s);o.render=Cr(t,l)}}e.render=o.render||i.dG,Ar&&Ar(e)}_r(e),(0,n.Jd)(),We(e),(0,n.lk)(),kr()}function Ir(e){return new Proxy(e.attrs,{get(t,r){return(0,n.j)(e,"get","$attrs"),t[r]}})}function Fr(e){const t=t=>{e.exposed=t||{}};let r;return{get attrs(){return r||(r=Ir(e))},slots:e.slots,emit:e.emit,expose:t}}function Nr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,n.WL)((0,n.Xl)(e.exposed)),{get(t,r){return r in t?t[r]:r in Ve?Ve[r](e):void 0},has(e,t){return t in e||t in Ve}}))}function Mr(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function $r(e){return(0,i.mf)(e)&&"__vccOpts"in e}const jr=(e,t)=>(0,n.Fl)(e,t,Lr);function Ur(e,t,r){const n=arguments.length;return 2===n?(0,i.Kn)(t)&&!(0,i.kJ)(t)?rr(t)?lr(e,null,[t]):lr(e,t):lr(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&rr(r)&&(r=[r]),lr(e,t,r))}const Br=Symbol(""),qr=()=>{{const e=z(Br);return e}};const Hr="3.2.47"},8880:(e,t,r)=>{"use strict";r.d(t,{F8:()=>ae,W3:()=>te,ri:()=>de,uT:()=>F});var n=r(2323),i=r(3673),o=r(1959);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,l=s&&s.createElement("template"),u={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?s.createElementNS(a,e):s.createElement(e,r?{is:r}:void 0);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const a=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),r),i===o||!(i=i.nextSibling))break}else{l.innerHTML=n?`<svg>${e}</svg>`:e;const i=l.content;if(n){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function c(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function d(e,t,r){const i=e.style,o=(0,n.HD)(r);if(r&&!o){if(t&&!(0,n.HD)(t))for(const e in t)null==r[e]&&h(i,e,"");for(const e in r)h(i,e,r[e])}else{const n=i.display;o?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=n)}}const f=/\s*!important$/;function h(e,t,r){if((0,n.kJ)(r))r.forEach((r=>h(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=m(e,t);f.test(r)?e.setProperty((0,n.rs)(i),r.replace(f,""),"important"):e[i]=r}}const p=["Webkit","Moz","ms"],v={};function m(e,t){const r=v[t];if(r)return r;let i=(0,n._A)(t);if("filter"!==i&&i in e)return v[t]=i;i=(0,n.kC)(i);for(let n=0;n<p.length;n++){const r=p[n]+i;if(r in e)return v[t]=r}return t}const g="http://www.w3.org/1999/xlink";function y(e,t,r,i,o){if(i&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,r);else{const i=(0,n.Pq)(t);null==r||i&&!(0,n.yA)(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function b(e,t,r,i,o,a,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,o,a),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=r;const n=null==r?"":r;return e.value===n&&"OPTION"!==e.tagName||(e.value=n),void(null==r&&e.removeAttribute(t))}let l=!1;if(""===r||null==r){const i=typeof e[t];"boolean"===i?r=(0,n.yA)(r):null==r&&"string"===i?(r="",l=!0):"number"===i&&(r=0,l=!0)}try{e[t]=r}catch(u){0}l&&e.removeAttribute(t)}function E(e,t,r,n){e.addEventListener(t,r,n)}function S(e,t,r,n){e.removeEventListener(t,r,n)}function w(e,t,r,n,i=null){const o=e._vei||(e._vei={}),a=o[t];if(n&&a)a.value=n;else{const[r,s]=_(t);if(n){const a=o[t]=A(n,i);E(e,r,a,s)}else a&&(S(e,r,a,s),o[t]=void 0)}}const T=/(?:Once|Passive|Capture)$/;function _(e){let t;if(T.test(e)){let r;t={};while(r=e.match(T))e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):(0,n.rs)(e.slice(2));return[r,t]}let k=0;const x=Promise.resolve(),C=()=>k||(x.then((()=>k=0)),k=Date.now());function A(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();(0,i.$d)(L(e,r.value),t,5,[e])};return r.value=e,r.attached=C(),r}function L(e,t){if((0,n.kJ)(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,R=(e,t,r,i,o=!1,a,s,l,u)=>{"class"===t?c(e,i,o):"style"===t?d(e,r,i):(0,n.F7)(t)?(0,n.tR)(t)||w(e,t,r,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):P(e,t,i,o))?b(e,t,i,a,s,l,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function P(e,t,r,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,n.mf)(r)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,n.HD)(r))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const O="transition",I="animation",F=(e,{slots:t})=>(0,i.h)(i.P$,U(e),t);F.displayName="Transition";const N={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},M=F.props=(0,n.l7)({},i.P$.props,N),$=(e,t=[])=>{(0,n.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},j=e=>!!e&&((0,n.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function U(e){const t={};for(const n in e)n in N||(t[n]=e[n]);if(!1===e.css)return t;const{name:r="v",type:i,duration:o,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=a,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,v=B(o),m=v&&v[0],g=v&&v[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:E,onLeave:S,onLeaveCancelled:w,onBeforeAppear:T=y,onAppear:_=b,onAppearCancelled:k=E}=t,x=(e,t,r)=>{V(e,t?d:l),V(e,t?c:s),r&&r()},C=(e,t)=>{e._isLeaving=!1,V(e,f),V(e,p),V(e,h),t&&t()},A=e=>(t,r)=>{const n=e?_:b,o=()=>x(t,e,r);$(n,[t,o]),K((()=>{V(t,e?u:a),H(t,e?d:l),j(n)||z(t,i,m,o)}))};return(0,n.l7)(t,{onBeforeEnter(e){$(y,[e]),H(e,a),H(e,s)},onBeforeAppear(e){$(T,[e]),H(e,u),H(e,c)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const r=()=>C(e,t);H(e,f),X(),H(e,h),K((()=>{e._isLeaving&&(V(e,f),H(e,p),j(S)||z(e,i,g,r))})),$(S,[e,r])},onEnterCancelled(e){x(e,!1),$(E,[e])},onAppearCancelled(e){x(e,!0),$(k,[e])},onLeaveCancelled(e){C(e),$(w,[e])}})}function B(e){if(null==e)return null;if((0,n.Kn)(e))return[q(e.enter),q(e.leave)];{const t=q(e);return[t,t]}}function q(e){const t=(0,n.He)(e);return t}function H(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function V(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let G=0;function z(e,t,r,n){const i=e._endId=++G,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:a,timeout:s,propCount:l}=W(e,t);if(!a)return n();const u=a+"end";let c=0;const d=()=>{e.removeEventListener(u,f),o()},f=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),s+1),e.addEventListener(u,f)}function W(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),i=n(`${O}Delay`),o=n(`${O}Duration`),a=Y(i,o),s=n(`${I}Delay`),l=n(`${I}Duration`),u=Y(s,l);let c=null,d=0,f=0;t===O?a>0&&(c=O,d=a,f=o.length):t===I?u>0&&(c=I,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?O:I:null,f=c?c===O?o.length:l.length:0);const h=c===O&&/\b(transform|all)(,|$)/.test(n(`${O}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Y(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,r)=>Z(t)+Z(e[r]))))}function Z(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function X(){return document.body.offsetHeight}const J=new WeakMap,Q=new WeakMap,ee={name:"TransitionGroup",props:(0,n.l7)({},M,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=(0,i.FN)(),n=(0,i.Y8)();let a,s;return(0,i.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!oe(a[0].el,r.vnode.el,t))return;a.forEach(re),a.forEach(ne);const n=a.filter(ie);X(),n.forEach((e=>{const r=e.el,n=r.style;H(r,t),n.transform=n.webkitTransform=n.transitionDuration="";const i=r._moveCb=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",i),r._moveCb=null,V(r,t))};r.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(e),u=U(l);let c=l.tag||i.HY;a=s,s=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,u,n,r))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.nK)(t,(0,i.U2)(t,u,n,r)),J.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(c,null,s)}}};ee.props;const te=ee;function re(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ne(e){Q.set(e,e.el.getBoundingClientRect())}function ie(e){const t=J.get(e),r=Q.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${i}px)`,t.transitionDuration="0s",e}}function oe(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&n.classList.remove(e)))})),r.split(/\s+/).forEach((e=>e&&n.classList.add(e))),n.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=W(n);return i.removeChild(n),o}const ae={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):se(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!==!r&&(n?t?(n.beforeEnter(e),se(e,!0),n.enter(e)):n.leave(e,(()=>{se(e,!1)})):se(e,t))},beforeUnmount(e,{value:t}){se(e,t)}};function se(e,t){e.style.display=t?e._vod:"none"}const le=(0,n.l7)({patchProp:R},u);let ue;function ce(){return ue||(ue=(0,i.Us)(le))}const de=(...e)=>{const t=ce().createApp(...e);const{mount:r}=t;return t.mount=e=>{const i=fe(e);if(!i)return;const o=t._component;(0,n.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function fe(e){if((0,n.HD)(e)){const t=document.querySelector(e);return t}return e}},2323:(e,t,r)=>{"use strict";function n(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}r.d(t,{C_:()=>d,DM:()=>O,E9:()=>ae,F7:()=>k,Gg:()=>G,HD:()=>M,He:()=>ie,Kj:()=>F,Kn:()=>j,NO:()=>T,Nj:()=>re,Od:()=>A,PO:()=>V,Pq:()=>h,RI:()=>D,S0:()=>K,W7:()=>H,WV:()=>m,Z6:()=>S,_A:()=>Y,_N:()=>P,aU:()=>ee,dG:()=>w,e1:()=>o,fY:()=>n,h5:()=>ne,hR:()=>Q,hq:()=>g,ir:()=>te,j5:()=>a,kC:()=>J,kJ:()=>R,kT:()=>E,l7:()=>C,mf:()=>N,rs:()=>X,tI:()=>U,tR:()=>x,yA:()=>p,yk:()=>$,zw:()=>y});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=n(i);function a(e){if(R(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=M(n)?c(n):a(n);if(i)for(const e in i)t[e]=i[e]}return t}return M(e)||j(e)?e:void 0}const s=/;(?![^(]*\))/g,l=/:([^]+)/,u=/\/\*.*?\*\//gs;function c(e){const t={};return e.replace(u,"").split(s).forEach((e=>{if(e){const r=e.split(l);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function d(e){let t="";if(M(e))t=e;else if(R(e))for(let r=0;r<e.length;r++){const n=d(e[r]);n&&(t+=n+" ")}else if(j(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const f="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",h=n(f);function p(e){return!!e||""===e}function v(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=m(e[n],t[n]);return r}function m(e,t){if(e===t)return!0;let r=I(e),n=I(t);if(r||n)return!(!r||!n)&&e.getTime()===t.getTime();if(r=$(e),n=$(t),r||n)return e===t;if(r=R(e),n=R(t),r||n)return!(!r||!n)&&v(e,t);if(r=j(e),n=j(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const n=e.hasOwnProperty(r),i=t.hasOwnProperty(r);if(n&&!i||!n&&i||!m(e[r],t[r]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>m(e,t)))}const y=e=>M(e)?e:null==e?"":R(e)||j(e)&&(e.toString===B||!N(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):P(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()]}:!j(t)||R(t)||V(t)?t:String(t),E={},S=[],w=()=>{},T=()=>!1,_=/^on[^a-z]/,k=e=>_.test(e),x=e=>e.startsWith("onUpdate:"),C=Object.assign,A=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},L=Object.prototype.hasOwnProperty,D=(e,t)=>L.call(e,t),R=Array.isArray,P=e=>"[object Map]"===q(e),O=e=>"[object Set]"===q(e),I=e=>"[object Date]"===q(e),F=e=>"[object RegExp]"===q(e),N=e=>"function"===typeof e,M=e=>"string"===typeof e,$=e=>"symbol"===typeof e,j=e=>null!==e&&"object"===typeof e,U=e=>j(e)&&N(e.then)&&N(e.catch),B=Object.prototype.toString,q=e=>B.call(e),H=e=>q(e).slice(8,-1),V=e=>"[object Object]"===q(e),K=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),z=e=>{const t=Object.create(null);return r=>{const n=t[r];return n||(t[r]=e(r))}},W=/-(\w)/g,Y=z((e=>e.replace(W,((e,t)=>t?t.toUpperCase():"")))),Z=/\B([A-Z])/g,X=z((e=>e.replace(Z,"-$1").toLowerCase())),J=z((e=>e.charAt(0).toUpperCase()+e.slice(1))),Q=z((e=>e?`on${J(e)}`:"")),ee=(e,t)=>!Object.is(e,t),te=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},re=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ie=e=>{const t=M(e)?Number(e):NaN;return isNaN(t)?e:t};let oe;const ae=()=>oe||(oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{})},3611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5331),i=r(4031),o=r(947),a=r(9027),s=r(5685),l=r(5400),u="errorMessage",c=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},f=/\$\{[^}]+\}/,h=/\$\{([^}]+)\}/g,p=/^""\s*\+\s*|\s*\+\s*""$/g;function v(e){return{keyword:u,schemaType:["string","object"],post:!0,code(t){const{gen:r,data:v,schema:m,schemaValue:g,it:y}=t;if(!1===y.createErrors)return;const b=m,E=i.strConcat(l.default.instancePath,y.errorPath);function S({properties:e,items:t}){const r={};if(e){r.props={};for(const t in e)r.props[t]=[]}if(t){r.items={};for(let e=0;e<t.length;e++)r.items[e]=[]}return r}function w(e){let t,r;for(const n in e){if("properties"===n||"items"===n)continue;const i=e[n];if("object"==typeof i){t||(t={});const e=t[n]={};for(const t in i)e[t]=[]}else r||(r={}),r[n]=[]}return[t,r]}function T(i){const o=r.const("emErrors",n.stringify(i)),a=r.const("templates",R(i,m));r.forOf("err",l.default.vErrors,(e=>r.if(A(e,o),(()=>r.code(n._`${o}[${e}.keyword].push(${e})`).assign(n._`${e}.${c}`,!0)))));const{singleError:u}=e;if(u){const e=r.let("message",n._`""`),i=r.let("paramsErrors",n._`[]`);d((t=>{r.if(e,(()=>r.code(n._`${e} += ${"string"==typeof u?u:";"}`))),r.code(n._`${e} += ${f(t)}`),r.assign(i,n._`${i}.concat(${o}[${t}])`)})),s.reportError(t,{message:e,params:n._`{errors: ${i}}`})}else d((e=>s.reportError(t,{message:f(e),params:n._`{errors: ${o}[${e}]}`})));function d(e){r.forIn("key",o,(t=>r.if(n._`${o}[${t}].length`,(()=>e(t)))))}function f(e){return n._`${e} in ${a} ? ${a}[${e}]() : ${g}[${e}]`}}function _(e){const i=r.const("emErrors",n.stringify(e)),o=[];for(const t in e)o.push([t,R(e[t],m[t])]);const a=r.const("templates",r.object(...o)),u=r.scopeValue("obj",{ref:d,code:n.stringify(d)}),f=r.let("emPropParams"),h=r.let("emParamsErrors");r.forOf("err",l.default.vErrors,(e=>r.if(A(e,i),(()=>{r.assign(f,n._`${u}[${e}.keyword]`),r.assign(h,n._`${i}[${e}.keyword][${e}.params[${f}]]`),r.if(h,(()=>r.code(n._`${h}.push(${e})`).assign(n._`${e}.${c}`,!0)))})))),r.forIn("key",i,(e=>r.forIn("keyProp",n._`${i}[${e}]`,(o=>{r.assign(h,n._`${i}[${e}][${o}]`),r.if(n._`${h}.length`,(()=>{const i=r.const("tmpl",n._`${a}[${e}] && ${a}[${e}][${o}]`);s.reportError(t,{message:n._`${i} ? ${i}() : ${g}[${e}][${o}]`,params:n._`{errors: ${h}}`})}))}))))}function k(e){const{props:o,items:a}=e;if(!o&&!a)return;const u=n._`typeof ${v} == "object"`,d=n._`Array.isArray(${v})`,f=r.let("emErrors");let h,p;const y=r.let("templates");function b(e,t){r.assign(f,n.stringify(e)),r.assign(y,R(e,t))}o&&a?(h=r.let("emChildKwd"),r.if(u),r.if(d,(()=>{b(a,m.items),r.assign(h,n.str`items`)}),(()=>{b(o,m.properties),r.assign(h,n.str`properties`)})),p=n._`[${h}]`):a?(r.if(d),b(a,m.items),p=n._`.items`):o&&(r.if(i.and(u,i.not(d))),b(o,m.properties),p=n._`.properties`),r.forOf("err",l.default.vErrors,(e=>L(e,f,(t=>r.code(n._`${f}[${t}].push(${e})`).assign(n._`${e}.${c}`,!0))))),r.forIn("key",f,(e=>r.if(n._`${f}[${e}].length`,(()=>{s.reportError(t,{message:n._`${e} in ${y} ? ${y}[${e}]() : ${g}${p}[${e}]`,params:n._`{errors: ${f}[${e}]}`}),r.assign(n._`${l.default.vErrors}[${l.default.errors}-1].instancePath`,n._`${E} + "/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})))),r.endIf()}function x(e){const i=r.const("emErrs",n._`[]`);r.forOf("err",l.default.vErrors,(e=>r.if(D(e),(()=>r.code(n._`${i}.push(${e})`).assign(n._`${e}.${c}`,!0))))),r.if(n._`${i}.length`,(()=>s.reportError(t,{message:P(e),params:n._`{errors: ${i}}`})))}function C(){const e=r.const("emErrs",n._`[]`);r.forOf("err",l.default.vErrors,(t=>r.if(n._`!${t}.${c}`,(()=>r.code(n._`${e}.push(${t})`))))),r.assign(l.default.vErrors,e).assign(l.default.errors,n._`${e}.length`)}function A(e,t){return i.and(n._`${e}.keyword !== ${u}`,n._`!${e}.${c}`,n._`${e}.instancePath === ${E}`,n._`${e}.keyword in ${t}`,n._`${e}.schemaPath.indexOf(${y.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${e}.schemaPath.slice(${y.errSchemaPath.length}))`)}function L(e,t,o){r.if(i.and(n._`${e}.keyword !== ${u}`,n._`!${e}.${c}`,n._`${e}.instancePath.indexOf(${E}) === 0`),(()=>{const i=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),a=r.const("emMatches",n._`${i}.exec(${e}.instancePath.slice(${E}.length))`),s=r.const("emChild",n._`${a} && ${a}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(n._`${s} !== undefined && ${s} in ${t}`,(()=>o(s)))}))}function D(e){return i.and(n._`${e}.keyword !== ${u}`,n._`!${e}.${c}`,i.or(n._`${e}.instancePath === ${E}`,i.and(n._`${e}.instancePath.indexOf(${E}) === 0`,n._`${e}.instancePath[${E}.length] === "/"`)),n._`${e}.schemaPath.indexOf(${y.errSchemaPath}) === 0`,n._`${e}.schemaPath[${y.errSchemaPath}.length] === "/"`)}function R(e,t){const n=[];for(const r in e){const e=t[r];f.test(e)&&n.push([r,O(e)])}return r.object(...n)}function P(e){return f.test(e)?new o._Code(o.safeStringify(e).replace(h,((e,t)=>`" + JSON.stringify(${a.getData(t,y)}) + "`)).replace(p,"")):n.stringify(e)}function O(e){return n._`function(){return ${P(e)}}`}r.if(n._`${l.default.errors} > 0`,(()=>{if("object"==typeof b){const[e,t]=w(b);t&&T(t),e&&_(e),k(S(b))}const t="string"==typeof b?b:b._;t&&x(t),e.keepErrors||C()}))},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const m=(e,t={})=>{if(!e.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(e.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return e.addKeyword(v(t))};t["default"]=m,e.exports=m,e.exports["default"]=m},1672:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}function n(e){return e%4===0&&(e%100!==0||e%400===0)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(a,s),time:r(u,c),"date-time":r(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:S},int64:{type:"number",validate:w},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(e){const t=i.exec(e);if(!t)return!1;const r=+t[1],a=+t[2],s=+t[3];return a>=1&&a<=12&&s>=1&&s<=(2===a&&n(r)?29:o[a])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const l=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(e,t){const r=l.exec(e);if(!r)return!1;const n=+r[1],i=+r[2],o=+r[3],a=r[5];return(n<=23&&i<=59&&o<=59||23===n&&59===i&&60===o)&&(!t||""!==a)}function c(e,t){if(!e||!t)return;const r=l.exec(e),n=l.exec(t);return r&&n?(e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0):void 0}const d=/t|\s/i;function f(e){const t=e.split(d);return 2===t.length&&a(t[0])&&u(t[1],!0)}function h(e,t){if(!e||!t)return;const[r,n]=e.split(d),[i,o]=t.split(d),a=s(r,i);return void 0!==a?a||c(n,o):void 0}const p=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(e){return p.test(e)&&v.test(e)}const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(e){return g.lastIndex=0,g.test(e)}const b=-(2**31),E=2**31-1;function S(e){return Number.isInteger(e)&&e<=E&&e>=b}function w(e){return Number.isInteger(e)}function T(){return!0}const _=/[^\\]\\Z/;function k(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},5917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1672),i=r(4993),o=r(4031),a=new o.Name("fullFormats"),s=new o.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,n.fullFormats,a),e;const[r,o]="fast"===t.mode?[n.fastFormats,s]:[n.fullFormats,a],l=t.formats||n.formatNames;return u(e,l,r,o),t.keywords&&i.default(e),e};function u(e,t,r,n){var i,a;null!==(i=(a=e.opts.code).formats)&&void 0!==i||(a.formats=o._`require("ajv-formats/dist/formats").${n}`);for(const o of t)e.addFormat(o,r[o])}l.get=(e,t="full")=>{const r="fast"===t?n.fastFormats:n.fullFormats,i=r[e];if(!i)throw new Error(`Unknown format "${e}"`);return i},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},4993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const n=r(5331),i=r(4031),o=i.operators,a={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>i.str`should be ${a[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${a[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(e){const{gen:t,data:r,schemaCode:o,keyword:s,it:l}=e,{opts:u,self:c}=l;if(!u.validateFormats)return;const d=new n.KeywordCxt(l,c.RULES.all.format.definition,"format");function f(){const r=t.scopeValue("formats",{ref:c.formats,code:u.code.formats}),n=t.const("fmt",i._`${r}[${d.schemaCode}]`);e.fail$data(i.or(i._`typeof ${n} != "object"`,i._`${n} instanceof RegExp`,i._`typeof ${n}.compare != "function"`,p(n)))}function h(){const r=d.schema,n=c.formats[r];if(!n||!0===n)return;if("object"!=typeof n||n instanceof RegExp||"function"!=typeof n.compare)throw new Error(`"${s}": format "${r}" does not define "compare" function`);const o=t.scopeValue("formats",{key:r,ref:n,code:u.code.formats?i._`${u.code.formats}${i.getProperty(r)}`:void 0});e.fail$data(p(o))}function p(e){return i._`${e}.compare(${r}, ${o}) ${a[s].fail} 0`}d.$data?f():h()},dependencies:["format"]};const l=e=>(e.addKeyword(t.formatLimitDefinition),e);t["default"]=l},8011:(e,t)=>{"use strict";function r(e){return()=>({keyword:e,type:"number",schemaType:"array",macro:function([r,n]){return t(r,n),"range"===e?{minimum:r,maximum:n}:{exclusiveMinimum:r,exclusiveMaximum:n}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}});function t(t,r){if(t>r||"exclusiveRange"===e&&t===r)throw new Error("There are no numbers in range")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},4840:(e,t)=>{"use strict";function r(e){return()=>({keyword:e,type:"object",schemaType:"array",macro(t){if(0===t.length)return!0;if(1===t.length)return{required:t};const r="anyRequired"===e?"anyOf":"oneOf";return{[r]:t.map((e=>({required:[e]})))}},metaSchema:{type:"array",items:{type:"string"}}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},8817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePattern=t.metaSchemaRef=void 0;const n=r(4031),i="http://json-schema.org/schema";function o({defaultMeta:e}={}){return!1===e?{}:{$ref:e||i}}function a({gen:e,it:{opts:t}},r,i=(t.unicodeRegExp?"u":"")){const o=new RegExp(r,i);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:n._`new RegExp(${r}, ${i})`})}t.metaSchemaRef=o,t.usePattern=a},2302:(e,t)=>{"use strict";function r(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(e,t){if(!e)return!0;const r=Object.keys(t.properties);return 0===r.length||{required:r}},dependencies:["properties"]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=r},1379:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(4840)),o=(0,i.default)("anyRequired");t["default"]=o,e.exports=o},9207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8817);function i(e){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(e){const t=[];for(const r in e)t.push(o(r,e[r]));return{allOf:t}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,n.metaSchemaRef)(e)}}}function o(e,t){const r=e.split("/"),n={};let i=n;for(let o=1;o<r.length;o++){let e=r[o];const n=o===r.length-1;e=a(e);const s=i.properties={};let l;if(/[0-9]+/.test(e)){let t=+e;l=i.items=[],i.type=["object","array"];while(t--)l.push({})}else i.type="object";i=n?t:{},s[e]=i,l&&l.push(i)}return n}function a(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t["default"]=i,e.exports=i},5155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031);function i(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(e){const{schema:t,data:r}=e,i=t.map((e=>n._`(${a(e)}) === undefined`));function a(e){if(""===e)throw new Error("empty JSON pointer not allowed");const t=e.split("/");let i=r;const a=t.map(((e,t)=>t?i=n._`${i}${(0,n.getProperty)(o(e))}`:i));return(0,n.and)(...a)}e.fail((0,n.or)(...i))},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}function o(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t["default"]=i,e.exports=i},1162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={},n={timestamp:()=>()=>Date.now(),datetime:()=>()=>(new Date).toISOString(),date:()=>()=>(new Date).toISOString().slice(0,10),time:()=>()=>(new Date).toISOString().slice(11),random:()=>()=>Math.random(),randomint:e=>{var t;const r=null!==(t=null===e||void 0===e?void 0:e.max)&&void 0!==t?t:2;return()=>Math.floor(Math.random()*r)},seq:e=>{var t;const n=null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"";return r[n]||(r[n]=0),()=>r[n]++}},i=Object.assign(o,{DEFAULTS:n});function o(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(e,t,r){if(!r.opts.useDefaults||r.compositeRule)return()=>!0;const n={};for(const o in e)n[o]=a(e[o]);const i="empty"===r.opts.useDefaults;return t=>{for(const r in e)(void 0===t[r]||i&&(null===t[r]||""===t[r]))&&(t[r]=n[r]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function a(e){return"object"==typeof e?s(e):l(e)}function s({func:e,args:t}){const r=n[e];return u(e,r),r(t)}function l(e=""){const t=n[e];return u(e,t),t()}function u(e,t){if(!t)throw new Error(`invalid "dynamicDefaults" keyword property value: ${e}`)}t["default"]=i,e.exports=i},8048:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(8011)),o=(0,i.default)("exclusiveRange");t["default"]=o,e.exports=o},5531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={Object,Array,Function,Number,String,Date,RegExp};"undefined"!=typeof Buffer&&(r.Buffer=Buffer),"undefined"!=typeof Promise&&(r.Promise=Promise);const n=Object.assign(i,{CONSTRUCTORS:r});function i(){return{keyword:"instanceof",schemaType:["string","array"],compile(e){if("string"==typeof e){const t=o(e);return e=>e instanceof t}if(Array.isArray(e)){const t=e.map(o);return e=>{for(const r of t)if(e instanceof r)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}}function o(e){const t=r[e];if(t)return t;throw new Error(`invalid "instanceof" keyword value ${e}`)}t["default"]=n,e.exports=n},9828:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(4840)),o=(0,i.default)("oneRequired");t["default"]=o,e.exports=o},2418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(8817),o={message:({params:{missingPattern:e}})=>n.str`should have property matching pattern '${e}'`,params:({params:{missingPattern:e}})=>n._`{missingPattern: ${e}}`};function a(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:o,code(e){const{gen:t,schema:r,data:o}=e;if(0===r.length)return;const a=t.let("valid",!0);for(const n of r)s(n);function s(r){const s=t.let("matched",!1);t.forIn("key",o,(o=>{t.assign(s,n._`${(0,i.usePattern)(e,r)}.test(${o})`),t.if(s,(()=>t.break()))})),e.setParams({missingPattern:r}),t.assign(a,(0,n.and)(a,s)),e.pass(a)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}t["default"]=a,e.exports=a},7015:(e,t)=>{"use strict";function r(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(e){return 0===e.length||(1===e.length?{not:{required:e}}:{not:{anyOf:e.map((e=>({required:[e]})))}})},metaSchema:{type:"array",items:{type:"string"}}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=r},87:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(8011)),o=(0,i.default)("range");t["default"]=o,e.exports=o},4368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(8817),o={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},a=/^\/(.*)\/([gimuy]*)$/;function s(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(e){const{data:t,schema:r}=e,o=s(r);function s(t){if("object"==typeof t)return(0,i.usePattern)(e,t.pattern,t.flags);const r=a.exec(t);if(r)return(0,i.usePattern)(e,r[1],r[2]);throw new Error("cannot parse string into RegExp")}e.pass(n._`${o}.test(${t})`)},metaSchema:{anyOf:[{type:"string"},o]}}}t["default"]=s,e.exports=s},7353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(8817),o={message:({params:{schemaProp:e}})=>e?n.str`should match case "${e}" schema`:n.str`should match default case schema`,params:({params:{schemaProp:e}})=>e?n._`{failingCase: ${e}}`:n._`{failingDefault: true}`};function a(e){const t=(0,i.metaSchemaRef)(e);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:o,dependencies:["selectCases"],code(e){const{gen:t,schemaCode:r,parentSchema:i}=e;e.block$data(n.nil,(()=>{const o=t.let("valid",!0),a=t.name("_valid"),s=t.const("value",n._`${r} === null ? "null" : ${r}`);t.if(!1);for(const r in i.selectCases){e.setParams({schemaProp:r}),t.elseIf(n._`"" + ${s} == ${r}`);const i=e.subschema({keyword:"selectCases",schemaProp:r},a);e.mergeEvaluated(i,n.Name),t.assign(o,a)}if(t.else(),void 0!==i.selectDefault){e.setParams({schemaProp:void 0});const r=e.subschema({keyword:"selectDefault"},a);e.mergeEvaluated(r,n.Name),t.assign(o,a)}t.endIf(),e.pass(o)}))}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:t}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:t}]}t["default"]=a,e.exports=a},7651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={trimStart:e=>e.trimStart(),trimEnd:e=>e.trimEnd(),trimLeft:e=>e.trimStart(),trimRight:e=>e.trimEnd(),trim:e=>e.trim(),toLowerCase:e=>e.toLowerCase(),toUpperCase:e=>e.toUpperCase(),toEnumCase:(e,t)=>(null===t||void 0===t?void 0:t.hash[l(e)])||e},o=Object.assign(a,{transform:i});function a(){return{keyword:"transform",schemaType:"array",before:"enum",code(e){const{gen:t,data:r,schema:o,parentSchema:a,it:l}=e,{parentData:u,parentDataProperty:c}=l,d=o;if(!d.length)return;let f;if(d.includes("toEnumCase")){const e=s(a);f=t.scopeValue("obj",{ref:e,code:(0,n.stringify)(e)})}function h(e){if(!e.length)return r;const o=e.pop();if(!(o in i))throw new Error(`transform: unknown transformation ${o}`);const a=t.scopeValue("func",{ref:i[o],code:n._`require("ajv-keywords/dist/definitions/transform").transform${(0,n.getProperty)(o)}`}),s=h(e);return f&&"toEnumCase"===o?n._`${a}(${s}, ${f})`:n._`${a}(${s})`}t.if(n._`typeof ${r} == "string" && ${u} !== undefined`,(()=>{t.assign(r,h(d.slice())),t.assign(n._`${u}[${c}]`,r)}))},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(i)}}}}function s(e){const t={hash:{}};if(!e.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(const r of e.enum){if("string"!==typeof r)continue;const e=l(r);if(t.hash[e])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');t.hash[e]=r}return t}function l(e){return e.toLowerCase()}t["default"]=o,e.exports=o},2284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=["undefined","string","number","object","function","boolean","symbol"];function o(){return{keyword:"typeof",schemaType:["string","array"],code(e){const{data:t,schema:r,schemaValue:i}=e;e.fail("string"==typeof r?n._`typeof ${t} != ${r}`:n._`${i}.indexOf(typeof ${t}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:i},{type:"array",items:{type:"string",enum:i}}]}}}t["default"]=o,e.exports=o},6923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4984),i=["number","integer","string","boolean","null"];function o(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(e,t){const r=a(e,t);return t=>{if(t.length<=1)return!0;for(let i=0;i<e.length;i++){const o=e[i];if(r[i]){const e={};for(const r of t){if(!r||"object"!=typeof r)continue;let t=r[o];if(!t||"object"!=typeof t){if("string"==typeof t&&(t='"'+t),e[t])return!1;e[t]=!0}}}else for(let e=t.length;e--;){const r=t[e];if(r&&"object"==typeof r)for(let i=e;i--;){const e=t[i];if(e&&"object"==typeof e&&n(r[o],e[o]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}function a(e,t){return e.map((e=>{var r,n,o;const a=null===(o=null===(n=null===(r=t.items)||void 0===r?void 0:r.properties)||void 0===n?void 0:n[e])||void 0===o?void 0:o.type;return Array.isArray(a)?!a.includes("object")&&!a.includes("array"):i.includes(a)}))}t["default"]=o,e.exports=o},4007:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5728)),o=(e,t)=>{if(Array.isArray(t)){for(const r of t)a(r)(e);return e}if(t)return a(t)(e),e;for(t in i.default)a(t)(e);return e};function a(e){const t=i.default[e];if(!t)throw new Error("Unknown keyword "+e);return t}o.get=a,t["default"]=o,e.exports=o,e.exports["default"]=o},240:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2302)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},4796:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(1379)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},7424:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9207)),o=(e,t)=>e.addKeyword((0,i.default)(t));t["default"]=o,e.exports=o},5388:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5155)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},6194:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(1162)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},504:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(8048)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},5728:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9751)),o=n(r(5795)),a=n(r(9017)),s=n(r(504)),l=n(r(2112)),u=n(r(1633)),c=n(r(8161)),d=n(r(240)),f=n(r(4796)),h=n(r(5520)),p=n(r(3882)),v=n(r(7213)),m=n(r(7424)),g=n(r(5388)),y=n(r(6194)),b=n(r(7442)),E={typeof:i.default,instanceof:o.default,range:a.default,exclusiveRange:s.default,regexp:l.default,transform:u.default,uniqueItemProperties:c.default,allRequired:d.default,anyRequired:f.default,oneRequired:h.default,patternRequired:p.default,prohibited:v.default,deepProperties:m.default,deepRequired:g.default,dynamicDefaults:y.default,select:b.default};t["default"]=E,e.exports=E},5795:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5531)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},5520:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9828)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},3882:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2418)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},7213:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(7015)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},9017:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(87)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},2112:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(4368)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},7442:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(7353)),o=(e,t)=>((0,i.default)(t).forEach((t=>e.addKeyword(t))),e);t["default"]=o,e.exports=o},1633:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(7651)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},9751:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2284)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},8161:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(6923)),o=e=>e.addKeyword((0,i.default)());t["default"]=o,e.exports=o},5331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(4010),i=r(1216),o=r(1139),a=r(98),s=["/properties"],l="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),i.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var c=r(9027);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=r(4031);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=r(7027);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=r(7348);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class i extends r{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const r=[e[0]];let n=0;while(n<t.length)l(r,t[n]),r.push(e[++n]);return new i(r)}t._Code=i,t.nil=new i(""),t._=o;const a=new i("+");function s(e,...t){const r=[p(e[0])];let n=0;while(n<t.length)r.push(a),l(r,t[n]),r.push(a,p(e[++n]));return u(r),new i(r)}function l(e,t){t instanceof i?e.push(...t._items):t instanceof n?e.push(t):e.push(f(t))}function u(e){let t=1;while(t<e.length-1){if(e[t]===a){const r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function d(e,t){return t.emptyStr()?e:e.emptyStr()?t:s`${e}${t}`}function f(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:p(Array.isArray(e)?e.join(","):e)}function h(e){return new i(p(e))}function p(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function v(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`}function m(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}function g(e){return new i(e.toString())}t.str=s,t.addCodeArg=l,t.strConcat=d,t.stringify=h,t.safeStringify=p,t.getProperty=v,t.getEsmExportName=m,t.regexpCode=g},4031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(947),i=r(6565);var o=r(947);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var a=r(6565);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends s{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?i.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=P(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=P(this.rhs,e,t),this}get names(){const e=this.lhs instanceof n.Name?{}:{...this.lhs.names};return R(e,this.rhs)}}class c extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class f extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){const t=this.label?` ${this.label}`:"";return`break${t};`+e}}class h extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends s{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=P(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class v extends s{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;while(t--){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;while(n--){const i=r[n];i.optimizeNames(e,t)||(O(e,i.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>D(e,t.names)),{})}}class m extends v{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends v{}class y extends m{}y.kind="else";class b extends m{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(I(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=P(this.condition,e,t),this}get names(){const e=super.names;return R(e,this.condition),this.else&&D(e,this.else.names),e}}b.kind="if";class E extends m{}E.kind="for";class S extends E{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=P(this.iteration,e,t),this}get names(){return D(super.names,this.iteration.names)}}class w extends E{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:r,from:n,to:o}=this;return`for(${t} ${r}=${n}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=R(super.names,this.from);return R(e,this.to)}}class T extends E{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=P(this.iterable,e,t),this}get names(){return D(super.names,this.iterable.names)}}class _ extends m{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){const t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}_.kind="func";class k extends v{render(e){return"return "+super.render(e)}}k.kind="return";class x extends m{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&D(e,this.catch.names),this.finally&&D(e,this.finally.names),e}}class C extends m{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}C.kind="catch";class A extends m{render(e){return"finally"+super.render(e)}}A.kind="finally";class L{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t),n=this._values[r.prefix]||(this._values[r.prefix]=new Set);return n.add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const i=this._scope.toName(t);return void 0!==r&&n&&(this._constants[i.str]=r),this._leafNode(new l(e,i,r)),i}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new c(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,i]of e)t.length>1&&t.push(","),t.push(r),(r!==i||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,i));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new S(e),t)}forRange(e,t,r,n,o=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const a=this._scope.toName(e);return this._for(new w(o,a,t,r),(()=>n(a)))}forOf(e,t,r,o=i.varKinds.const){const a=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(a,n._`${e}[${t}]`),r(a)}))}return this._for(new T("of",o,a,t),(()=>r(a)))}forIn(e,t,r,o=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const a=this._scope.toName(e);return this._for(new T("in",o,a,t),(()=>r(a)))}endFor(){return this._endBlockNode(E)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new f(e))}return(e){const t=new k;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new x;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new C(e),t(e)}return r&&(this._currNode=n.finally=new A,this.code(r)),this._endBlockNode(C,A)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,i){return this._blockNode(new _(e,t,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(e=1){while(e-- >0)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}}function D(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function R(e,t){return t instanceof n._CodeOrName?D(e,t.names):e}function P(e,t,r){return e instanceof n.Name?i(e):o(e)?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;function i(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}function o(e){return e instanceof n._Code&&e._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))}}function O(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${U(e)}`}t.CodeGen=L,t.not=I;const F=j(t.operators.AND);function N(...e){return e.reduce(F)}t.and=N;const M=j(t.operators.OR);function $(...e){return e.reduce(M)}function j(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${U(t)} ${e} ${U(r)}`}function U(e){return e instanceof n.Name?e:n._`(${e})`}t.or=$},6565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(947);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;(function(e){e[e["Started"]=0]="Started",e[e["Completed"]=1]="Completed"})(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class a{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=a;class s extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=s;const l=n._`\n`;class u extends a{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:n.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:i}=n,o=null!==(r=t.key)&&void 0!==r?r:t.ref;let a=this._values[i];if(a){const e=a.get(o);if(e)return e}else a=this._values[i]=new Map;a.set(o,n);const s=this._scope[i]||(this._scope[i]=[]),l=s.length;return s[l]=t.ref,n.setValue(t,{property:i,itemIndex:l}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,a={},s){let l=n.nil;for(const u in e){const c=e[u];if(!c)continue;const d=a[u]=a[u]||new Map;c.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let a=r(e);if(a){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=n._`${l}${r} ${e} = ${a};${this.opts._n}`}else{if(!(a=null===s||void 0===s?void 0:s(e)))throw new i(e);l=n._`${l}${a}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}t.ValueScope=u},5685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(4031),i=r(1259),o=r(5400);function a(e,r=t.keywordError,i,o){const{it:a}=e,{gen:s,compositeRule:l,allErrors:u}=a,f=h(e,r,i);(null!==o&&void 0!==o?o:l||u)?c(s,f):d(a,n._`[${f}]`)}function s(e,r=t.keywordError,n){const{it:i}=e,{gen:a,compositeRule:s,allErrors:l}=i,u=h(e,r,n);c(a,u),s||l||d(i,o.default.vErrors)}function l(e,t){e.assign(o.default.errors,t),e.if(n._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))}function u({gen:e,keyword:t,schemaValue:r,data:i,errsCount:a,it:s}){if(void 0===a)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",a,o.default.errors,(a=>{e.const(l,n._`${o.default.vErrors}[${a}]`),e.if(n._`${l}.instancePath === undefined`,(()=>e.assign(n._`${l}.instancePath`,(0,n.strConcat)(o.default.instancePath,s.errorPath)))),e.assign(n._`${l}.schemaPath`,n.str`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign(n._`${l}.schema`,r),e.assign(n._`${l}.data`,i))}))}function c(e,t){const r=e.const("err",t);e.if(n._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,n._`[${r}]`)),n._`${o.default.vErrors}.push(${r})`),e.code(n._`${o.default.errors}++`)}function d(e,t){const{gen:r,validateName:i,schemaEnv:o}=e;o.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${i}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=a,t.reportExtraError=s,t.resetErrorsCount=l,t.extendErrors=u;const f={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function h(e,t,r){const{createErrors:i}=e.it;return!1===i?n._`{}`:p(e,t,r)}function p(e,t,r={}){const{gen:n,it:i}=e,o=[v(i,r),m(e,r)];return g(e,t,o),n.object(...o)}function v({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,r)]}function m({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:o}){let a=o?t:n.str`${t}/${e}`;return r&&(a=n.str`${a}${(0,i.getErrorPath)(r,i.Type.Str)}`),[f.schemaPath,a]}function g(e,{params:t,message:r},i){const{keyword:a,data:s,schemaValue:l,it:u}=e,{opts:c,propertyName:d,topSchemaRef:h,schemaPath:p}=u;i.push([f.keyword,a],[f.params,"function"==typeof t?t(e):t||n._`{}`]),c.messages&&i.push([f.message,"function"==typeof r?r(e):r]),c.verbose&&i.push([f.schema,l],[f.parentSchema,n._`${h}${p}`],[o.default.data,s]),d&&i.push([f.propertyName,d])}},7362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(4031),i=r(7027),o=r(5400),a=r(6222),s=r(1259),l=r(9027);class u{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,a.normalizeId)(null===r||void 0===r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===r||void 0===r?void 0:r.$async,this.refs={}}}function c(e){const t=h.call(this,e);if(t)return t;const r=(0,a.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:u}=this.opts.code,{ownProperties:c}=this.opts,d=new n.CodeGen(this.scope,{es5:s,lines:u,ownProperties:c});let f;e.$async&&(f=d.scopeValue("Error",{ref:i.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const p=d.scopeName("validate");e.validateName=p;const v={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,l.validateFunctionCode)(v),d.optimize(this.opts.code.optimize);const t=d.toString();m=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const r=new Function(`${o.default.self}`,`${o.default.scope}`,m),i=r(this,this.scope.get());if(this.scope.value(p,{ref:i}),i.errors=null,i.schema=e.schema,i.schemaEnv=e,e.$async&&(i.$async=!0),!0===this.opts.code.source&&(i.source={validateName:p,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=v;i.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},i.source&&(i.source.evaluated=(0,n.stringify)(i.evaluated))}return e.validate=i,e}catch(g){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),g}finally{this._compilations.delete(e)}}function d(e,t,r){var n;r=(0,a.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=v.call(this,e,r);if(void 0===o){const i=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:a}=this.opts;i&&(o=new u({schema:i,schemaId:a,root:e,baseId:t}))}return void 0!==o?e.refs[r]=f.call(this,o):void 0}function f(e){return(0,a.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:c.call(this,e)}function h(e){for(const t of this._compilations)if(p(t,e))return t}function p(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function v(e,t){let r;while("string"==typeof(r=this.refs[t]))t=r;return r||this.schemas[t]||m.call(this,e,t)}function m(e,t){const r=this.opts.uriResolver.parse(t),n=(0,a._getFullPath)(this.opts.uriResolver,r);let i=(0,a.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return y.call(this,r,e);const o=(0,a.normalizeId)(n),s=this.refs[o]||this.schemas[o];if("string"==typeof s){const t=m.call(this,e,s);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return y.call(this,r,t)}if("object"===typeof(null===s||void 0===s?void 0:s.schema)){if(s.validate||c.call(this,s),o===(0,a.normalizeId)(t)){const{schema:t}=s,{schemaId:r}=this.opts,n=t[r];return n&&(i=(0,a.resolveUrl)(this.opts.uriResolver,i,n)),new u({schema:t,schemaId:r,root:e,baseId:i})}return y.call(this,r,s)}}t.SchemaEnv=u,t.compileSchema=c,t.resolveRef=d,t.getCompilingSchema=h,t.resolveSchema=m;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:r,root:n}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const u of e.fragment.slice(1).split("/")){if("boolean"===typeof r)return;const e=r[(0,s.unescapeFragment)(u)];if(void 0===e)return;r=e;const n="object"===typeof r&&r[this.opts.schemaId];!g.has(u)&&n&&(t=(0,a.resolveUrl)(this.opts.uriResolver,t,n))}let o;if("boolean"!=typeof r&&r.$ref&&!(0,s.schemaHasRulesButRef)(r,this.RULES)){const e=(0,a.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=m.call(this,n,e)}const{schemaId:l}=this.opts;return o=o||new u({schema:r,schemaId:l,root:n,baseId:t}),o.schema!==o.root.schema?o:void 0}},5400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t["default"]=i},7348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6222);class i extends Error{constructor(e,t,r,i){super(i||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t["default"]=i},6222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(1259),i=r(4984),o=r(3693),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(e,t=!0){return"boolean"==typeof e||(!0===t?!u(e):!!t&&c(e)<=t)}t.inlineRef=s;const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(const t in e){if(l.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(u))return!0;if("object"==typeof r&&u(r))return!0}return!1}function c(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!a.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=c(e))),t===1/0))return 1/0}return t}function d(e,t="",r){!1!==r&&(t=p(t));const n=e.parse(t);return f(e,n)}function f(e,t){const r=e.serialize(t);return r.split("#")[0]+"#"}t.getFullPath=d,t._getFullPath=f;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}function v(e,t,r){return r=p(r),e.resolve(t,r)}t.normalizeId=p,t.resolveUrl=v;const m=/^[a-z_][-a-z0-9._]*$/i;function g(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,a=p(e[r]||t),s={"":a},l=d(n,a,!1),u={},c=new Set;return o(e,{allKeys:!0},((e,t,n,i)=>{if(void 0===i)return;const o=l+t;let a=s[i];function d(t){const r=this.opts.uriResolver.resolve;if(t=p(a?r(a,t):t),c.has(t))throw h(t);c.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?f(e,n.schema,t):t!==p(o)&&("#"===t[0]?(f(e,u[t],t),u[t]=e):this.refs[t]=o),t}function v(e){if("string"==typeof e){if(!m.test(e))throw new Error(`invalid anchor "${e}"`);d.call(this,`#${e}`)}}"string"==typeof e[r]&&(a=d.call(this,e[r])),v.call(this,e.$anchor),v.call(this,e.$dynamicAnchor),s[t]=a})),u;function f(e,t,r){if(void 0!==t&&!i(e,t))throw h(r)}function h(e){return new Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=g},7314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=["string","number","integer","boolean","null","object","array"],n=new Set(r);function i(e){return"string"==typeof e&&n.has(e)}function o(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.isJSONType=i,t.getRules=o},1259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(4031),i=r(947);function o(e){const t={};for(const r of e)t[r]=!0;return t}function a(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(s(e,t),!l(t,e.self.RULES.all))}function s(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"===typeof t)return;const i=n.RULES.keywords;for(const o in t)i[o]||T(e,`unknown keyword: "${o}"`)}function l(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function u(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1}function c({topSchemaRef:e,schemaPath:t},r,i,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(i)}`}function d(e){return p(decodeURIComponent(e))}function f(e){return encodeURIComponent(h(e))}function h(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function p(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function v(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}function m({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:i}){return(o,a,s,l)=>{const u=void 0===s?a:s instanceof n.Name?(a instanceof n.Name?e(o,a,s):t(o,a,s),s):a instanceof n.Name?(t(o,s,a),a):r(a,s);return l!==n.Name||u instanceof n.Name?u:i(o,u)}}function g(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&y(e,r,t),r}function y(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=o,t.alwaysValidSchema=a,t.checkUnknownRules=s,t.schemaHasRules=l,t.schemaHasRulesButRef=u,t.schemaRefOrVal=c,t.unescapeFragment=d,t.escapeFragment=f,t.escapeJsonPointer=h,t.unescapeJsonPointer=p,t.eachItem=v,t.mergeEvaluated={props:m({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),y(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:g}),items:m({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=g,t.setEvaluated=y;const b={};function E(e,t){return e.scopeValue("func",{ref:t,code:b[t.code]||(b[t.code]=new i._Code(t.code))})}var S;function w(e,t,r){if(e instanceof n.Name){const i=t===S.Num;return r?i?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:i?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+h(e)}function T(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=E,function(e){e[e["Num"]=0]="Num",e[e["Str"]=1]="Str"}(S=t.Type||(t.Type={})),t.getErrorPath=w,t.checkStrictMode=T},2861:(e,t)=>{"use strict";function r({schema:e,self:t},r){const i=t.RULES.types[r];return i&&!0!==i&&n(e,i)}function n(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=r,t.shouldUseGroup=n,t.shouldUseRule=i},726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(5685),i=r(4031),o=r(5400),a={message:"boolean schema is false"};function s(e){const{gen:t,schema:r,validateName:n}=e;!1===r?u(e,!1):"object"==typeof r&&!0===r.$async?t.return(o.default.data):(t.assign(i._`${n}.errors`,null),t.return(!0))}function l(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),u(e)):r.var(t,!0)}function u(e,t){const{gen:r,data:i}=e,o={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(o,a,void 0,t)}t.topBoolOrEmptySchema=s,t.boolOrEmptySchema=l},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(7314),i=r(2861),o=r(5685),a=r(4031),s=r(1259);var l;function u(e){const t=c(e.type),r=t.includes("null");if(r){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t}function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}function d(e,t){const{gen:r,data:n,opts:o}=e,a=h(t,o.coerceTypes),s=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(s){const i=g(t,n,o.strictNumbers,l.Wrong);r.if(i,(()=>{a.length?p(e,t,a):b(e)}))}return s}(function(e){e[e["Correct"]=0]="Correct",e[e["Wrong"]=1]="Wrong"})(l=t.DataType||(t.DataType={})),t.getSchemaTypes=u,t.getJSONTypes=c,t.coerceAndCheckDataType=d;const f=new Set(["string","number","integer","boolean","null"]);function h(e,t){return t?e.filter((e=>f.has(e)||"array"===t&&"array"===e)):[]}function p(e,t,r){const{gen:n,data:i,opts:o}=e,s=n.let("dataType",a._`typeof ${i}`),l=n.let("coerced",a._`undefined`);"array"===o.coerceTypes&&n.if(a._`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>n.assign(i,a._`${i}[0]`).assign(s,a._`typeof ${i}`).if(g(t,i,o.strictNumbers),(()=>n.assign(l,i))))),n.if(a._`${l} !== undefined`);for(const a of r)(f.has(a)||"array"===a&&"array"===o.coerceTypes)&&u(a);function u(e){switch(e){case"string":return void n.elseIf(a._`${s} == "number" || ${s} == "boolean"`).assign(l,a._`"" + ${i}`).elseIf(a._`${i} === null`).assign(l,a._`""`);case"number":return void n.elseIf(a._`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(l,a._`+${i}`);case"integer":return void n.elseIf(a._`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,a._`+${i}`);case"boolean":return void n.elseIf(a._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf(a._`${i} === "true" || ${i} === 1`).assign(l,!0);case"null":return n.elseIf(a._`${i} === "" || ${i} === 0 || ${i} === false`),void n.assign(l,null);case"array":n.elseIf(a._`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(l,a._`[${i}]`)}}n.else(),b(e),n.endIf(),n.if(a._`${l} !== undefined`,(()=>{n.assign(i,l),v(e,l)}))}function v({gen:e,parentData:t,parentDataProperty:r},n){e.if(a._`${t} !== undefined`,(()=>e.assign(a._`${t}[${r}]`,n)))}function m(e,t,r,n=l.Correct){const i=n===l.Correct?a.operators.EQ:a.operators.NEQ;let o;switch(e){case"null":return a._`${t} ${i} null`;case"array":o=a._`Array.isArray(${t})`;break;case"object":o=a._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s(a._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return a._`typeof ${t} ${i} ${e}`}return n===l.Correct?o:(0,a.not)(o);function s(e=a.nil){return(0,a.and)(a._`typeof ${t} == "number"`,e,r?a._`isFinite(${t})`:a.nil)}}function g(e,t,r,n){if(1===e.length)return m(e[0],t,r,n);let i;const o=(0,s.toHash)(e);if(o.array&&o.object){const e=a._`typeof ${t} != "object"`;i=o.null?e:a._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=a.nil;o.number&&delete o.integer;for(const s in o)i=(0,a.and)(i,m(s,t,r,n));return i}t.checkDataType=m,t.checkDataTypes=g;const y={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?a._`{type: ${e}}`:a._`{type: ${t}}`};function b(e){const t=E(e);(0,o.reportError)(t,y)}function E(e){const{gen:t,data:r,schema:n}=e,i=(0,s.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}t.reportTypeError=b},4490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(4031),i=r(1259);function o(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const i in r)a(e,i,r[i].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>a(e,r,t.default)))}function a(e,t,r){const{gen:o,compositeRule:a,data:s,opts:l}=e;if(void 0===r)return;const u=n._`${s}${(0,n.getProperty)(t)}`;if(a)return void(0,i.checkStrictMode)(e,`default is ignored for: ${u}`);let c=n._`${u} === undefined`;"empty"===l.useDefaults&&(c=n._`${c} || ${u} === null || ${u} === ""`),o.if(c,n._`${u} = ${(0,n.stringify)(r)}`)}t.assignDefaults=o},9027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(726),i=r(9679),o=r(2861),a=r(9679),s=r(4490),l=r(6394),u=r(1494),c=r(4031),d=r(5400),f=r(6222),h=r(1259),p=r(5685);function v(e){_(e)&&(x(e),T(e))?b(e):m(e,(()=>(0,n.topBoolOrEmptySchema)(e)))}function m({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,c._`${d.default.data}, ${d.default.valCxt}`,n.$async,(()=>{e.code(c._`"use strict"; ${S(r,i)}`),y(e,i),e.code(o)})):e.func(t,c._`${d.default.data}, ${g(i)}`,n.$async,(()=>e.code(S(r,i)).code(o)))}function g(e){return c._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?c._`, ${d.default.dynamicAnchors}={}`:c.nil}}={}`}function y(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,c._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,c._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,c._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,c._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,c._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,c._`""`),e.var(d.default.parentData,c._`undefined`),e.var(d.default.parentDataProperty,c._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,c._`{}`)}))}function b(e){const{schema:t,opts:r,gen:n}=e;m(e,(()=>{r.$comment&&t.$comment&&P(e),L(e),n.let(d.default.vErrors,null),n.let(d.default.errors,0),r.unevaluated&&E(e),C(e),O(e)}))}function E(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",c._`${r}.evaluated`),t.if(c._`${e.evaluated}.dynamicProps`,(()=>t.assign(c._`${e.evaluated}.props`,c._`undefined`))),t.if(c._`${e.evaluated}.dynamicItems`,(()=>t.assign(c._`${e.evaluated}.items`,c._`undefined`)))}function S(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?c._`/*# sourceURL=${r} */`:c.nil}function w(e,t){_(e)&&(x(e),T(e))?k(e,t):(0,n.boolOrEmptySchema)(e,t)}function T({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function _(e){return"boolean"!=typeof e.schema}function k(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&P(e),D(e),R(e);const o=n.const("_errs",d.default.errors);C(e,o),n.var(t,c._`${o} === ${d.default.errors}`)}function x(e){(0,h.checkUnknownRules)(e),A(e)}function C(e,t){if(e.opts.jtd)return F(e,[],!1,t);const r=(0,i.getSchemaTypes)(e.schema),n=(0,i.coerceAndCheckDataType)(e,r);F(e,r,!n,t)}function A(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function L(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}function D(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,f.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function R(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function P({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(!0===i.$comment)e.code(c._`${d.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){const r=c.str`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(c._`${d.default.self}.opts.$comment(${o}, ${r}, ${i}.schema)`)}}function O(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if(c._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(c._`new ${i}(${d.default.vErrors})`))):(t.assign(c._`${n}.errors`,d.default.vErrors),o.unevaluated&&I(e),t.return(c._`${d.default.errors} === 0`))}function I({gen:e,evaluated:t,props:r,items:n}){r instanceof c.Name&&e.assign(c._`${t}.props`,r),n instanceof c.Name&&e.assign(c._`${t}.items`,n)}function F(e,t,r,n){const{gen:i,schema:s,data:l,allErrors:u,opts:f,self:p}=e,{RULES:v}=p;function m(h){(0,o.shouldUseGroup)(s,h)&&(h.type?(i.if((0,a.checkDataType)(h.type,l,f.strictNumbers)),N(e,h),1===t.length&&t[0]===h.type&&r&&(i.else(),(0,a.reportTypeError)(e)),i.endIf()):N(e,h),u||i.if(c._`${d.default.errors} === ${n||0}`))}!s.$ref||!f.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(s,v)?(f.jtd||M(e,t),i.block((()=>{for(const e of v.rules)m(e);m(v.post)}))):i.block((()=>G(e,"$ref",v.all.$ref.definition)))}function N(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,s.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,o.shouldUseRule)(n,r)&&G(e,r.keyword,r.definition,t.type)}))}function M(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&($(e,t),e.opts.allowUnionTypes||j(e,t),U(e,e.dataTypes))}function $(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{q(e.dataTypes,t)||V(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),H(e,t)):e.dataTypes=t)}function j(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&V(e,"use allowUnionTypes to allow union type keyword")}function U(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){const{type:r}=i.definition;r.length&&!r.some((e=>B(t,e)))&&V(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}function B(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function q(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function H(e,t){const r=[];for(const n of e.dataTypes)q(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}function V(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=v;class K{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",Y(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,c.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,c.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(c._`${t} !== undefined && (${(0,c.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=c.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=c.nil,t=c.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:i,def:o}=this;r.if((0,c.or)(c._`${n} === undefined`,t)),e!==c.nil&&r.assign(e,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==c.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:i}=this;return(0,c.or)(o(),s());function o(){if(r.length){if(!(t instanceof c.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return c._`${(0,a.checkDataTypes)(e,t,i.opts.strictNumbers,a.DataType.Wrong)}`}return c.nil}function s(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return c._`!${r}(${t})`}return c.nil}}subschema(e,t){const r=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(r,this.it,e),(0,u.extendSubschemaMode)(r,e);const n={...this.it,...r,items:void 0,props:void 0};return w(n,t),n}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=h.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=h.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,c.Name))),!0}}function G(e,t,r,n){const i=new K(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,l.funcKeywordCode)(i,r):"macro"in r?(0,l.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(i,r)}t.KeywordCxt=K;const z=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!z.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=d.default.rootData}else{const a=W.exec(e);if(!a)throw new Error(`Invalid JSON-pointer: ${e}`);const s=+a[1];if(i=a[2],"#"===i){if(s>=t)throw new Error(l("property/index",s));return n[t-s]}if(s>t)throw new Error(l("data",s));if(o=r[t-s],!i)return o}let a=o;const s=i.split("/");for(const u of s)u&&(o=c._`${o}${(0,c.getProperty)((0,h.unescapeJsonPointer)(u))}`,a=c._`${a} && ${o}`);return a;function l(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=Y},6394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(4031),i=r(5400),o=r(9741),a=r(5685);function s(e,t){const{gen:r,keyword:i,schema:o,parentSchema:a,it:s}=e,l=t.macro.call(s.self,o,a,s),u=f(r,i,l);!1!==s.opts.validateSchema&&s.self.validateSchema(l,!0);const c=r.name("valid");e.subschema({schema:l,schemaPath:n.nil,errSchemaPath:`${s.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},c),e.pass(c,(()=>e.error(!0)))}function l(e,t){var r;const{gen:a,keyword:s,schema:l,parentSchema:h,$data:p,it:v}=e;d(v,t);const m=!p&&t.compile?t.compile.call(v.self,l,h,v):t.validate,g=f(a,s,m),y=a.let("valid");function b(){if(!1===t.errors)w(),t.modifying&&u(e),T((()=>e.error()));else{const r=t.async?E():S();t.modifying&&u(e),T((()=>c(e,r)))}}function E(){const e=a.let("ruleErrs",null);return a.try((()=>w(n._`await `)),(t=>a.assign(y,!1).if(n._`${t} instanceof ${v.ValidationError}`,(()=>a.assign(e,n._`${t}.errors`)),(()=>a.throw(t))))),e}function S(){const e=n._`${g}.errors`;return a.assign(e,null),w(n.nil),e}function w(r=(t.async?n._`await `:n.nil)){const s=v.opts.passContext?i.default.this:i.default.self,l=!("compile"in t&&!p||!1===t.schema);a.assign(y,n._`${r}${(0,o.callValidateCode)(e,g,s,l)}`,t.modifying)}function T(e){var r;a.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:y),e)}e.block$data(y,b),e.ok(null!==(r=t.valid)&&void 0!==r?r:y)}function u(e){const{gen:t,data:r,it:i}=e;t.if(i.parentData,(()=>t.assign(r,n._`${i.parentData}[${i.parentDataProperty}]`)))}function c(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(i.default.vErrors,n._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,n._`${i.default.vErrors}.length`),(0,a.extendErrors)(e)}),(()=>e.error()))}function d({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function f(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}function h(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&"undefined"==typeof e))}function p({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(null===a||void 0===a?void 0:a.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema){const a=i.validateSchema(e[o]);if(!a){const e=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}}t.macroKeywordCode=s,t.funcKeywordCode=l,t.validSchemaType=h,t.validateKeywordUsage=p},1494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(4031),i=r(1259);function o(e,{keyword:t,schemaProp:r,schema:o,schemaPath:a,errSchemaPath:s,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===r?{schema:o,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(r)}`}}if(void 0!==o){if(void 0===a||void 0===s||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:a,topSchemaRef:l,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}function a(e,t,{dataProp:r,dataPropType:o,data:a,dataTypes:s,propertyName:l}){if(void 0!==a&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==r){const{errorPath:a,dataPathArr:s,opts:l}=t,d=u.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0);c(d),e.errorPath=n.str`${a}${(0,i.getErrorPath)(r,o,l.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...s,e.parentDataProperty]}if(void 0!==a){const t=a instanceof n.Name?a:u.let("data",a,!0);c(t),void 0!==l&&(e.propertyName=l)}function c(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}s&&(e.dataTypes=s)}function s(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){void 0!==n&&(e.compositeRule=n),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}t.getSubschema=o,t.extendSubschemaData=a,t.extendSubschemaMode=s},4010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(9027);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var i=r(4031);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const o=r(7027),a=r(7348),s=r(7314),l=r(7362),u=r(4031),c=r(6222),d=r(9679),f=r(1259),h=r(4775),p=r(8198),v=(e,t)=>new RegExp(e,t);v.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function S(e){var t,r,n,i,o,a,s,l,u,c,d,f,h,m,g,y,b,S,w,T,_,k,x,C,A;const L=e.strict,D=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===D||void 0===D?1:D||0,P=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:v,O=null!==(i=e.uriResolver)&&void 0!==i?i:p.default;return{strictSchema:null===(a=null!==(o=e.strictSchema)&&void 0!==o?o:L)||void 0===a||a,strictNumbers:null===(l=null!==(s=e.strictNumbers)&&void 0!==s?s:L)||void 0===l||l,strictTypes:null!==(c=null!==(u=e.strictTypes)&&void 0!==u?u:L)&&void 0!==c?c:"log",strictTuples:null!==(f=null!==(d=e.strictTuples)&&void 0!==d?d:L)&&void 0!==f?f:"log",strictRequired:null!==(m=null!==(h=e.strictRequired)&&void 0!==h?h:L)&&void 0!==m&&m,code:e.code?{...e.code,optimize:R,regExp:P}:{optimize:R,regExp:P},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:E,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:E,meta:null===(b=e.meta)||void 0===b||b,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(T=e.schemaId)&&void 0!==T?T:"$id",addUsedSchema:null===(_=e.addUsedSchema)||void 0===_||_,validateSchema:null===(k=e.validateSchema)||void 0===k||k,validateFormats:null===(x=e.validateFormats)||void 0===x||x,unicodeRegExp:null===(C=e.unicodeRegExp)||void 0===C||C,int32range:null===(A=e.int32range)||void 0===A||A,uriResolver:O}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:t,lines:r}),this.logger=D(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,s.getRules)(),T.call(this,y,e,"NOT SUPPORTED"),T.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=A.call(this),e.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&C.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),k.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=h;"id"===r&&(n={...h},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await i.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||o.call(this,r)}async function i(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof a.default))throw t;return s.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const r=await u.call(this,e);this.refs[e]||await i.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let i;if("object"===typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,c.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;while("string"==typeof(t=_.call(this,e)))e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(t=l.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=_.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,c.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(t=e,r=t.keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(P.call(this,r,t),!t)return(0,f.eachItem)(r,(e=>O.call(this,e))),this;F.call(this,t);const n={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,f.eachItem)(r,0===n.type.length?e=>O.call(this,e,n):e=>n.type.forEach((t=>O.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,o=i[e];n&&o&&(i[e]=M(o))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,i=this.opts.addUsedSchema){let o;const{schemaId:a}=this.opts;if("object"==typeof e)o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let s=this._cache.get(e);if(void 0!==s)return s;r=(0,c.normalizeId)(o||r);const u=c.getSchemaRefs.call(this,e,r);return s=new l.SchemaEnv({schema:e,schemaId:a,meta:t,baseId:r,localRefs:u}),this._cache.set(s.schema,s),i&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=s),n&&this.validateSchema(e,!0),s}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function T(e,t,r,n="error"){for(const i in e){const o=i;o in t&&this.logger[n](`${r}: option ${i}. ${e[o]}`)}}function _(e){return e=(0,c.normalizeId)(e),this.schemas[e]||this.refs[e]}function k(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function x(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function C(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function A(){const e={...this.opts};for(const t of m)delete e[t];return e}t["default"]=w,w.ValidationError=o.default,w.MissingRefError=a.default;const L={log(){},warn(){},error(){}};function D(e){if(!1===e)return L;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}const R=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){const{RULES:r}=this;if((0,f.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!R.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function O(e,t,r){var n;const i=null===t||void 0===t?void 0:t.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let a=i?o.post:o.rules.find((({type:e})=>e===r));if(a||(a={type:r,rules:[]},o.rules.push(a)),o.keywords[e]=!0,!t)return;const s={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?I.call(this,a,s,t.before):a.rules.push(s),o.all[e]=s,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function I(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function F(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=M(t)),e.validateSchema=this.compile(t,!0))}const N={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(e){return{anyOf:[e,N]}}},1485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4984);n.code='require("ajv/dist/runtime/equal").default',t["default"]=n},6452:(e,t)=>{"use strict";function r(e){const t=e.length;let r,n=0,i=0;while(i<t)n++,r=e.charCodeAt(i++),r>=55296&&r<=56319&&i<t&&(r=e.charCodeAt(i),56320===(64512&r)&&i++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,r.code='require("ajv/dist/runtime/ucs2length").default'},8198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(466);n.code='require("ajv/dist/runtime/uri").default',t["default"]=n},7027:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t["default"]=r},1996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(4031),i=r(1259),o={message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:o,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?s(e,n):(0,i.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:r,schema:o,data:a,keyword:s,it:l}=e;l.items=!0;const u=r.const("len",n._`${a}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(n._`${u} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(l,o)){const i=r.var("valid",n._`${u} <= ${t.length}`);r.if((0,n.not)(i),(()=>c(i))),e.ok(i)}function c(o){r.forRange("i",t.length,u,(t=>{e.subschema({keyword:s,dataProp:t,dataPropType:i.Type.Num},o),l.allErrors||r.if((0,n.not)(o),(()=>r.break()))}))}}t.validateAdditionalItems=s,t["default"]=a},1686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9741),i=r(4031),o=r(5400),a=r(1259),s={message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},l={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:s,code(e){const{gen:t,schema:r,parentSchema:s,data:l,errsCount:u,it:c}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:d,opts:f}=c;if(c.props=!0,"all"!==f.removeAdditional&&(0,a.alwaysValidSchema)(c,r))return;const h=(0,n.allSchemaProperties)(s.properties),p=(0,n.allSchemaProperties)(s.patternProperties);function v(){t.forIn("key",l,(e=>{h.length||p.length?t.if(m(e),(()=>y(e))):y(e)}))}function m(r){let o;if(h.length>8){const e=(0,a.schemaRefOrVal)(c,s.properties,"properties");o=(0,n.isOwnProperty)(t,e,r)}else o=h.length?(0,i.or)(...h.map((e=>i._`${r} === ${e}`))):i.nil;return p.length&&(o=(0,i.or)(o,...p.map((t=>i._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,i.not)(o)}function g(e){t.code(i._`delete ${l}[${e}]`)}function y(n){if("all"===f.removeAdditional||f.removeAdditional&&!1===r)g(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(d||t.break());if("object"==typeof r&&!(0,a.alwaysValidSchema)(c,r)){const r=t.name("valid");"failing"===f.removeAdditional?(b(n,r,!1),t.if((0,i.not)(r),(()=>{e.reset(),g(n)}))):(b(n,r),d||t.if((0,i.not)(r),(()=>t.break())))}}}function b(t,r,n){const i={keyword:"additionalProperties",dataProp:t,dataPropType:a.Type.Str};!1===n&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,r)}v(),e.ok(i._`${u} === ${o.default.errors}`)}};t["default"]=l},1e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1259),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(i,t))return;const a=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(a)}))}};t["default"]=i},6098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9741),i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n.validateUnion,error:{message:"must match a schema in anyOf"}};t["default"]=i},9065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o={message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:o,code(e){const{gen:t,schema:r,parentSchema:o,data:a,it:s}=e;let l,u;const{minContains:c,maxContains:d}=o;s.opts.next?(l=void 0===c?1:c,u=d):l=1;const f=t.const("len",n._`${a}.length`);if(e.setParams({min:l,max:u}),void 0===u&&0===l)return void(0,i.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&l>u)return(0,i.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(s,r)){let t=n._`${f} >= ${l}`;return void 0!==u&&(t=n._`${t} && ${f} <= ${u}`),void e.pass(t)}s.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);v(e,(()=>t.if(e,(()=>m(r)))))}function v(r,n){t.forRange("i",0,f,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},r),n()}))}function m(e){t.code(n._`${e}++`),void 0===u?t.if(n._`${e} >= ${l}`,(()=>t.assign(h,!0).break())):(t.if(n._`${e} > ${u}`,(()=>t.assign(h,!1).break())),1===l?t.assign(h,!0):t.if(n._`${e} >= ${l}`,(()=>t.assign(h,!0))))}void 0===u&&1===l?v(h,(()=>t.if(h,(()=>t.break())))):0===l?(t.let(h,!0),void 0!==u&&t.if(n._`${a}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t["default"]=a},7540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(4031),i=r(1259),o=r(9741);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const i=1===t?"property":"properties";return n.str`must have ${i} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:i}})=>n._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${r}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=s(e);l(e,t),u(e,r)}};function s({schema:e}){const t={},r={};for(const n in e){if("__proto__"===n)continue;const i=Array.isArray(e[n])?t:r;i[n]=e[n]}return[t,r]}function l(e,t=e.schema){const{gen:r,data:i,it:a}=e;if(0===Object.keys(t).length)return;const s=r.let("missing");for(const l in t){const u=t[l];if(0===u.length)continue;const c=(0,o.propertyInData)(r,i,l,a.opts.ownProperties);e.setParams({property:l,depsCount:u.length,deps:u.join(", ")}),a.allErrors?r.if(c,(()=>{for(const t of u)(0,o.checkReportMissingProp)(e,t)})):(r.if(n._`${c} && (${(0,o.checkMissingProp)(e,u,s)})`),(0,o.reportMissingProp)(e,s),r.else())}}function u(e,t=e.schema){const{gen:r,data:n,keyword:a,it:s}=e,l=r.name("valid");for(const u in t)(0,i.alwaysValidSchema)(s,t[u])||(r.if((0,o.propertyInData)(r,n,u,s.opts.ownProperties),(()=>{const t=e.subschema({keyword:a,schemaProp:u},l);e.mergeValidEvaluated(t,l)}),(()=>r.var(l,!0))),e.ok(l))}t.validatePropertyDeps=l,t.validateSchemaDeps=u,t["default"]=a},9515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o={message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},a={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:o,code(e){const{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&(0,i.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;const u=t.let("valid",!0),c=t.name("_valid");if(d(),e.reset(),a&&l){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(c,f("then",r),f("else",r))}else a?t.if(c,f("then")):t.if((0,n.not)(c),f("else"));function d(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(t)}function f(r,i){return()=>{const o=e.subschema({keyword:r},c);t.assign(u,c),e.mergeValidEvaluated(o,u),i?t.assign(i,n._`${r}`):e.setParams({ifClause:r})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const r=e.schema[t];return void 0!==r&&!(0,i.alwaysValidSchema)(e,r)}t["default"]=a},3694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1996),i=r(4030),o=r(2737),a=r(1902),s=r(9065),l=r(7540),u=r(8837),c=r(1686),d=r(8189),f=r(2499),h=r(7132),p=r(6098),v=r(4216),m=r(1e3),g=r(9515),y=r(1414);function b(e=!1){const t=[h.default,p.default,v.default,m.default,g.default,y.default,u.default,c.default,l.default,d.default,f.default];return e?t.push(i.default,a.default):t.push(n.default,o.default),t.push(s.default),t}t["default"]=b},2737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(4031),i=r(1259),o=r(9741),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return s(e,"additionalItems",t);r.items=!0,(0,i.alwaysValidSchema)(r,t)||e.ok((0,o.validateArray)(e))}};function s(e,t,r=e.schema){const{gen:o,parentSchema:a,data:s,keyword:l,it:u}=e;f(a),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=i.mergeEvaluated.items(o,r.length,u.items));const c=o.name("valid"),d=o.const("len",n._`${s}.length`);function f(e){const{opts:n,errSchemaPath:o}=u,a=r.length,s=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(n.strictTuples&&!s){const e=`"${l}" is ${a}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,i.checkStrictMode)(u,e,n.strictTuples)}}r.forEach(((t,r)=>{(0,i.alwaysValidSchema)(u,t)||(o.if(n._`${d} > ${r}`,(()=>e.subschema({keyword:l,schemaProp:r,dataProp:r},c))),e.ok(c))}))}t.validateTuple=s,t["default"]=a},1902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o=r(9741),a=r(1996),s={message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},l={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:s,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,(0,i.alwaysValidSchema)(n,t)||(s?(0,a.validateAdditionalItems)(e,s):e.ok((0,o.validateArray)(e)))}};t["default"]=l},7132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1259),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if((0,n.alwaysValidSchema)(i,r))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t["default"]=i},4216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o={message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},a={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:o,code(e){const{gen:t,schema:r,parentSchema:o,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&o.discriminator)return;const s=r,l=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");function d(){s.forEach(((r,o)=>{let s;(0,i.alwaysValidSchema)(a,r)?t.var(c,!0):s=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},c),o>0&&t.if(n._`${c} && ${l}`).assign(l,!1).assign(u,n._`[${u}, ${o}]`).else(),t.if(c,(()=>{t.assign(l,!0),t.assign(u,o),s&&e.mergeEvaluated(s,n.Name)}))}))}e.setParams({passing:u}),t.block(d),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t["default"]=a},2499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9741),i=r(4031),o=r(1259),a=r(1259),s={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:s,parentSchema:l,it:u}=e,{opts:c}=u,d=(0,n.allSchemaProperties)(r),f=d.filter((e=>(0,o.alwaysValidSchema)(u,r[e])));if(0===d.length||f.length===d.length&&(!u.opts.unevaluated||!0===u.props))return;const h=c.strictSchema&&!c.allowMatchingProperties&&l.properties,p=t.name("valid");!0===u.props||u.props instanceof i.Name||(u.props=(0,a.evaluatedPropsToName)(t,u.props));const{props:v}=u;function m(){for(const e of d)h&&g(e),u.allErrors?y(e):(t.var(p,!0),y(e),t.if(p))}function g(e){for(const t in h)new RegExp(e).test(t)&&(0,o.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function y(r){t.forIn("key",s,(o=>{t.if(i._`${(0,n.usePattern)(e,r)}.test(${o})`,(()=>{const n=f.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:o,dataPropType:a.Type.Str},p),u.opts.unevaluated&&!0!==v?t.assign(i._`${v}[${o}]`,!0):n||u.allErrors||t.if((0,i.not)(p),(()=>t.break()))}))}))}m()}};t["default"]=s},4030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2737),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t["default"]=i},8189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9027),i=r(9741),o=r(1259),a=r(1686),s={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:s,data:l,it:u}=e;"all"===u.opts.removeAdditional&&void 0===s.additionalProperties&&a.default.code(new n.KeywordCxt(u,a.default,"additionalProperties"));const c=(0,i.allSchemaProperties)(r);for(const n of c)u.definedProperties.add(n);u.opts.unevaluated&&c.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,(0,o.toHash)(c),u.props));const d=c.filter((e=>!(0,o.alwaysValidSchema)(u,r[e])));if(0===d.length)return;const f=t.name("valid");for(const n of d)h(n)?p(n):(t.if((0,i.propertyInData)(t,l,n,u.opts.ownProperties)),p(n),u.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(f);function h(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},f)}}};t["default"]=s},8837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o={message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},a={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:o,code(e){const{gen:t,schema:r,data:o,it:a}=e;if((0,i.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",o,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if((0,n.not)(s),(()=>{e.error(!0),a.allErrors||t.break()}))})),e.ok(s)}};t["default"]=a},1414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1259),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t["default"]=i},9741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(4031),i=r(1259),o=r(5400),a=r(1259);function s(e,t){const{gen:r,data:i,it:o}=e;r.if(h(r,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))}function l({gen:e,data:t,it:{opts:r}},i,o){return(0,n.or)(...i.map((i=>(0,n.and)(h(e,t,i,r.ownProperties),n._`${o} = ${i}`))))}function u(e,t){e.setParams({missingProperty:t},!0),e.error()}function c(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function d(e,t,r){return n._`${c(e)}.call(${t}, ${r})`}function f(e,t,r,i){const o=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return i?n._`${o} && ${d(e,t,r)}`:o}function h(e,t,r,i){const o=n._`${t}${(0,n.getProperty)(r)} === undefined`;return i?(0,n.or)(o,(0,n.not)(d(e,t,r))):o}function p(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}function v(e,t){return p(t).filter((r=>!(0,i.alwaysValidSchema)(e,t[r])))}function m({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:a,errorPath:s},it:l},u,c,d){const f=d?n._`${e}, ${t}, ${i}${a}`:t,h=[[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,s)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&h.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const p=n._`${f}, ${r.object(...h)}`;return c!==n.nil?n._`${u}.call(${c}, ${p})`:n._`${u}(${p})`}t.checkReportMissingProp=s,t.checkMissingProp=l,t.reportMissingProp=u,t.hasPropFunc=c,t.isOwnProperty=d,t.propertyInData=f,t.noPropertyInData=h,t.allSchemaProperties=p,t.schemaProperties=v,t.callValidateCode=m;const g=n._`new RegExp`;function y({gen:e,it:{opts:t}},r){const i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,s=o(r,i);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:n._`${"new RegExp"===o.code?g:(0,a.useFunc)(e,o)}(${r}, ${i})`})}function b(e){const{gen:t,data:r,keyword:o,it:a}=e,s=t.name("valid");if(a.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(s,!0),l((()=>t.break())),s;function l(a){const l=t.const("len",n._`${r}.length`);t.forRange("i",0,l,(r=>{e.subschema({keyword:o,dataProp:r,dataPropType:i.Type.Num},s),t.if((0,n.not)(s),a)}))}}function E(e){const{gen:t,schema:r,keyword:o,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=r.some((e=>(0,i.alwaysValidSchema)(a,e)));if(s&&!a.opts.unevaluated)return;const l=t.let("valid",!1),u=t.name("_valid");t.block((()=>r.forEach(((r,i)=>{const a=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},u);t.assign(l,n._`${l} || ${u}`);const s=e.mergeValidEvaluated(a,u);s||t.if((0,n.not)(l))})))),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}t.usePattern=y,t.validateArray=b,t.validateUnion=E},4132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t["default"]=r},449:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4132),i=r(2957),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,i.default];t["default"]=o},2957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(7348),i=r(9741),o=r(4031),a=r(5400),s=r(7362),l=r(1259),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:a,schemaEnv:l,validateName:u,opts:f,self:h}=i,{root:p}=l;if(("#"===r||"#/"===r)&&a===p.baseId)return m();const v=s.resolveRef.call(h,p,a,r);if(void 0===v)throw new n.default(i.opts.uriResolver,a,r);return v instanceof s.SchemaEnv?g(v):y(v);function m(){if(l===p)return d(e,u,l,l.$async);const r=t.scopeValue("root",{ref:p});return d(e,o._`${r}.validate`,p,p.$async)}function g(t){const r=c(e,t);d(e,r,t,t.$async)}function y(n){const i=t.scopeValue("schema",!0===f.code.source?{ref:n,code:(0,o.stringify)(n)}:{ref:n}),a=t.name("valid"),s=e.subschema({schema:n,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:r},a);e.mergeEvaluated(s),e.ok(a)}}};function c(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):o._`${r.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,r,n){const{gen:s,it:u}=e,{allErrors:c,schemaEnv:d,opts:f}=u,h=f.passContext?a.default.this:o.nil;function p(){if(!d.$async)throw new Error("async schema referenced by sync schema");const r=s.let("valid");s.try((()=>{s.code(o._`await ${(0,i.callValidateCode)(e,t,h)}`),g(t),c||s.assign(r,!0)}),(e=>{s.if(o._`!(${e} instanceof ${u.ValidationError})`,(()=>s.throw(e))),m(e),c||s.assign(r,!1)})),e.ok(r)}function v(){e.result((0,i.callValidateCode)(e,t,h),(()=>g(t)),(()=>m(t)))}function m(e){const t=o._`${e}.errors`;s.assign(a.default.vErrors,o._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`),s.assign(a.default.errors,o._`${a.default.vErrors}.length`)}function g(e){var t;if(!u.opts.unevaluated)return;const n=null===(t=null===r||void 0===r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=l.mergeEvaluated.props(s,n.props,u.props));else{const t=s.var("props",o._`${e}.evaluated.props`);u.props=l.mergeEvaluated.props(s,t,u.props,o.Name)}if(!0!==u.items)if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=l.mergeEvaluated.items(s,n.items,u.items));else{const t=s.var("items",o._`${e}.evaluated.items`);u.items=l.mergeEvaluated.items(s,t,u.items,o.Name)}}n?p():v()}t.getValidate=c,t.callRef=d,t["default"]=u},1139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(4014),o=r(7362),a=r(1259),s={message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},l={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(e){const{gen:t,data:r,schema:s,parentSchema:l,it:u}=e,{oneOf:c}=l;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=s.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");const f=t.let("valid",!1),h=t.const("tag",n._`${r}${(0,n.getProperty)(d)}`);function p(){const r=m();t.if(!1);for(const e in r)t.elseIf(n._`${h} === ${e}`),t.assign(f,v(r[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:h,tagName:d}),t.endIf()}function v(r){const i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:r},i);return e.mergeEvaluated(o,n.Name),i}function m(){var e;const t={},r=i(l);let n=!0;for(let l=0;l<c.length;l++){let t=c[l];(null===t||void 0===t?void 0:t.$ref)&&!(0,a.schemaHasRulesButRef)(t,u.self.RULES)&&(t=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof o.SchemaEnv&&(t=t.schema));const f=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[d];if("object"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);n=n&&(r||i(t)),s(f,l)}if(!n)throw new Error(`discriminator: "${d}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(d)}function s(e,t){if(e.const)f(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const r of e.enum)f(r,t)}}function f(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=r}}t.if(n._`typeof ${h} == "string"`,(()=>p()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:h,tagName:d}))),e.ok(f)}};t["default"]=l},4014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e["Tag"]="tag",e["Mapping"]="mapping"}(t.DiscrError||(t.DiscrError={}))},1216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(449),i=r(9390),o=r(3694),a=r(2933),s=r(8364),l=[n.default,i.default,(0,o.default)(),a.default,s.metadataVocabulary,s.contentVocabulary];t["default"]=l},9235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:i,code(e,t){const{gen:r,data:i,$data:o,schema:a,schemaCode:s,it:l}=e,{opts:u,errSchemaPath:c,schemaEnv:d,self:f}=l;function h(){const o=r.scopeValue("formats",{ref:f.formats,code:u.code.formats}),a=r.const("fDef",n._`${o}[${s}]`),l=r.let("fType"),c=r.let("format");function h(){return!1===u.strictSchema?n.nil:n._`${s} && !${c}`}function p(){const e=d.$async?n._`(${a}.async ? await ${c}(${i}) : ${c}(${i}))`:n._`${c}(${i})`,r=n._`(typeof ${c} == "function" ? ${e} : ${c}.test(${i}))`;return n._`${c} && ${c} !== true && ${l} === ${t} && !${r}`}r.if(n._`typeof ${a} == "object" && !(${a} instanceof RegExp)`,(()=>r.assign(l,n._`${a}.type || "string"`).assign(c,n._`${a}.validate`)),(()=>r.assign(l,n._`"string"`).assign(c,a))),e.fail$data((0,n.or)(h(),p()))}function p(){const o=f.formats[a];if(!o)return void p();if(!0===o)return;const[s,l,h]=v(o);function p(){if(!1!==u.strictSchema)throw new Error(e());function e(){return`unknown format "${a}" ignored in schema at path "${c}"`}f.logger.warn(e())}function v(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):u.code.formats?n._`${u.code.formats}${(0,n.getProperty)(a)}`:void 0,i=r.scopeValue("formats",{key:a,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,n._`${i}.validate`]}function m(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return n._`await ${h}(${i})`}return"function"==typeof l?n._`${h}(${i})`:n._`${h}.test(${i})`}s===t&&e.pass(m())}u.validateFormats&&(o?h():p())}};t["default"]=o},2933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9235),i=[n.default];t["default"]=i},8364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},6487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o=r(1485),a={message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},s={keyword:"const",$data:!0,error:a,code(e){const{gen:t,data:r,$data:a,schemaCode:s,schema:l}=e;a||l&&"object"==typeof l?e.fail$data(n._`!${(0,i.useFunc)(t,o.default)}(${r}, ${s})`):e.fail(n._`${l} !== ${r}`)}};t["default"]=s},8989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o=r(1485),a={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},s={keyword:"enum",schemaType:"array",$data:!0,error:a,code(e){const{gen:t,data:r,$data:a,schema:s,schemaCode:l,it:u}=e;if(!a&&0===s.length)throw new Error("enum must have non-empty array");const c=s.length>=u.opts.loopEnum;let d;const f=()=>null!==d&&void 0!==d?d:d=(0,i.useFunc)(t,o.default);let h;if(c||a)h=t.let("valid"),e.block$data(h,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",l);h=(0,n.or)(...s.map(((t,r)=>v(e,r))))}function p(){t.assign(h,!1),t.forOf("v",l,(e=>t.if(n._`${f()}(${r}, ${e})`,(()=>t.assign(h,!0).break()))))}function v(e,t){const i=s[t];return"object"===typeof i&&null!==i?n._`${f()}(${r}, ${e}[${t}])`:n._`${r} === ${i}`}e.pass(h)}};t["default"]=s},9390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3885),i=r(360),o=r(770),a=r(9365),s=r(2964),l=r(6461),u=r(3922),c=r(626),d=r(6487),f=r(8989),h=[n.default,i.default,o.default,a.default,s.default,l.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,f.default];t["default"]=h},3922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:i,code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${o} ${i}`)}};t["default"]=o},770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=r(1259),o=r(6452),a={message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:a,code(e){const{keyword:t,data:r,schemaCode:a,it:s}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,u=!1===s.opts.unicode?n._`${r}.length`:n._`${(0,i.useFunc)(e.gen,o.default)}(${r})`;e.fail$data(n._`${u} ${l} ${a}`)}};t["default"]=s},3885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i=n.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:({keyword:e,schemaCode:t})=>n.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${o[e].okStr}, limit: ${t}}`},s={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:a,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data(n._`${r} ${o[t].fail} ${i} || isNaN(${r})`)}};t["default"]=s},2964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>n._`{limit: ${e}}`},o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:i,code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${o} ${i}`)}};t["default"]=o},360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4031),i={message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:i,code(e){const{gen:t,data:r,schemaCode:i,it:o}=e,a=o.opts.multipleOfPrecision,s=t.let("res"),l=a?n._`Math.abs(Math.round(${s}) - ${s}) > 1e-${a}`:n._`${s} !== parseInt(${s})`;e.fail$data(n._`(${i} === 0 || (${s} = ${r}/${i}, ${l}))`)}};t["default"]=o},9365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9741),i=r(4031),o={message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},a={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:o,code(e){const{data:t,$data:r,schema:o,schemaCode:a,it:s}=e,l=s.opts.unicodeRegExp?"u":"",u=r?i._`(new RegExp(${a}, ${l}))`:(0,n.usePattern)(e,o);e.fail$data(i._`!${u}.test(${t})`)}};t["default"]=a},6461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9741),i=r(4031),o=r(1259),a={message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:a,code(e){const{gen:t,schema:r,schemaCode:a,data:s,$data:l,it:u}=e,{opts:c}=u;if(!l&&0===r.length)return;const d=r.length>=c.loopRequired;if(u.allErrors?f():h(),c.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null===t||void 0===t?void 0:t[e])&&!n.has(e)){const t=u.schemaEnv.baseId+u.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,o.checkStrictMode)(u,r,u.opts.strictRequired)}}function f(){if(d||l)e.block$data(i.nil,p);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}function h(){const i=t.let("missing");if(d||l){const r=t.let("valid",!0);e.block$data(r,(()=>v(i,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,i)),(0,n.reportMissingProp)(e,i),t.else()}function p(){t.forOf("prop",a,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,s,r,c.ownProperties),(()=>e.error()))}))}function v(r,o){e.setParams({missingProperty:r}),t.forOf(r,a,(()=>{t.assign(o,(0,n.propertyInData)(t,s,r,c.ownProperties)),t.if((0,i.not)(o),(()=>{e.error(),t.break()}))}),i.nil)}}};t["default"]=s},626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9679),i=r(4031),o=r(1259),a=r(1485),s={message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},l={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:s,code(e){const{gen:t,data:r,$data:s,schema:l,parentSchema:u,schemaCode:c,it:d}=e;if(!s&&!l)return;const f=t.let("valid"),h=u.items?(0,n.getSchemaTypes)(u.items):[];function p(){const n=t.let("i",i._`${r}.length`),o=t.let("j");e.setParams({i:n,j:o}),t.assign(f,!0),t.if(i._`${n} > 1`,(()=>(v()?m:g)(n,o)))}function v(){return h.length>0&&!h.some((e=>"object"===e||"array"===e))}function m(o,a){const s=t.name("item"),l=(0,n.checkDataTypes)(h,s,d.opts.strictNumbers,n.DataType.Wrong),u=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(s,i._`${r}[${o}]`),t.if(l,i._`continue`),h.length>1&&t.if(i._`typeof ${s} == "string"`,i._`${s} += "_"`),t.if(i._`typeof ${u}[${s}] == "number"`,(()=>{t.assign(a,i._`${u}[${s}]`),e.error(),t.assign(f,!1).break()})).code(i._`${u}[${s}] = ${o}`)}))}function g(n,s){const l=(0,o.useFunc)(t,a.default),u=t.name("outer");t.label(u).for(i._`;${n}--;`,(()=>t.for(i._`${s} = ${n}; ${s}--;`,(()=>t.if(i._`${l}(${r}[${n}], ${r}[${s}])`,(()=>{e.error(),t.assign(f,!1).break(u)}))))))}e.block$data(f,p,i._`${c} === false`),e.ok(f)}};t["default"]=l},52:(e,t,r)=>{e.exports=r(7974)},8699:(e,t,r)=>{"use strict";var n=r(7210),i=r(4923),o=r(3634),a=r(7696),s=r(9835),l=r(3423),u=r(8365),c=r(701);e.exports=function(e){return new Promise((function(t,r){var d=e.data,f=e.headers,h=e.responseType;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(v+":"+m)}var g=s(e.baseURL,e.url);function y(){if(p){var n="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,o=h&&"text"!==h&&"json"!==h?p.response:p.responseText,a={data:o,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,r,a),p=null}}if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(r(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||u(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(f,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),d||(d=null),p.send(d)}))}},7974:(e,t,r)=>{"use strict";var n=r(7210),i=r(2938),o=r(8799),a=r(4495),s=r(7079);function l(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var u=l(s);u.Axios=o,u.create=function(e){return l(a(u.defaults,e))},u.Cancel=r(6678),u.CancelToken=r(8858),u.isCancel=r(6029),u.all=function(e){return Promise.all(e)},u.spread=r(5178),u.isAxiosError=r(5615),e.exports=u,e.exports["default"]=u},6678:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8858:(e,t,r)=>{"use strict";var n=r(6678);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},6029:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8799:(e,t,r)=>{"use strict";var n=r(7210),i=r(7696),o=r(2591),a=r(516),s=r(4495),l=r(3170),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var c=[a,void 0];Array.prototype.unshift.apply(c,r),c=c.concat(o),i=Promise.resolve(e);while(c.length)i=i.then(c.shift(),c.shift());return i}var d=e;while(r.length){var f=r.shift(),h=r.shift();try{d=f(d)}catch(p){h(p);break}}try{i=a(d)}catch(p){return Promise.reject(p)}while(o.length)i=i.then(o.shift(),o.shift());return i},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=c},2591:(e,t,r)=>{"use strict";var n=r(7210);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},9835:(e,t,r)=>{"use strict";var n=r(8380),i=r(6092);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},701:(e,t,r)=>{"use strict";var n=r(654);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},516:(e,t,r)=>{"use strict";var n=r(7210),i=r(4330),o=r(6029),a=r(7079);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},654:e=>{"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},4495:(e,t,r)=>{"use strict";var n=r(7210);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=l(void 0,t[e]))})),n.forEach(o,u),n.forEach(a,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(void 0,t[i])})),n.forEach(s,(function(n){n in t?r[n]=l(e[n],t[n]):n in e&&(r[n]=l(void 0,e[n]))}));var c=i.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return n.forEach(d,u),r}},4923:(e,t,r)=>{"use strict";var n=r(701);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},4330:(e,t,r)=>{"use strict";var n=r(7210),i=r(7079);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},7079:(e,t,r)=>{"use strict";var n=r(7210),i=r(4733),o=r(654),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=r(8699)),e}function u(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(r||JSON.stringify)(e)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(a)})),e.exports=c},2938:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},7696:(e,t,r)=>{"use strict";var n=r(7210);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},6092:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3634:(e,t,r)=>{"use strict";var n=r(7210);e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},8380:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},5615:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},8365:(e,t,r)=>{"use strict";var n=r(7210);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},4733:(e,t,r)=>{"use strict";var n=r(7210);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},3423:(e,t,r)=>{"use strict";var n=r(7210),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},5178:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3170:(e,t,r)=>{"use strict";var n=r(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=n.version.split(".");function s(e,t){for(var r=t?t.split("."):a,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}function l(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");var n=Object.keys(e),i=n.length;while(i-- >0){var o=n[i],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+o)}}i.transitional=function(e,t,r){var i=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(a(n," has been removed in "+t));return i&&!o[n]&&(o[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:l,validators:i}},7210:(e,t,r)=>{"use strict";var n=r(2938),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function c(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function f(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function v(e){return"[object Date]"===i.call(e)}function m(e){return"[object File]"===i.call(e)}function g(e){return"[object Blob]"===i.call(e)}function y(e){return"[object Function]"===i.call(e)}function b(e){return h(e)&&y(e.pipe)}function E(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function T(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function _(){var e={};function t(t,r){p(e[r])&&p(t)?e[r]=_(e[r],t):p(t)?e[r]=_({},t):o(t)?e[r]=t.slice():e[r]=t}for(var r=0,n=arguments.length;r<n;r++)T(arguments[r],t);return e}function k(e,t,r){return T(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e}function x(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:l,isBuffer:s,isFormData:u,isArrayBufferView:c,isString:d,isNumber:f,isObject:h,isPlainObject:p,isUndefined:a,isDate:v,isFile:m,isBlob:g,isFunction:y,isStream:b,isURLSearchParams:E,isStandardBrowserEnv:w,forEach:T,merge:_,extend:k,trim:S,stripBOM:x}},8240:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});r(5663);var n=r(3673),i=r(1959),o=r(8880),a=r(4554),s=r(6833),l=r(6489),u=(r(3610),r(9992)),c=r(2417),d=r(7277);const f={none:0,xs:4,sm:8,md:16,lg:24,xl:32},h={xs:8,sm:10,md:14,lg:20,xl:24},p=["button","submit","reset"],v=/[^\s]\/[^\s]/,m=["flat","outline","push","unelevated"],g=(e,t)=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":t,y={...c.LU,...d.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...m.reduce(((e,t)=>(e[t]=Boolean)&&e),{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...u.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function b(e){const t=(0,c.ZP)(e,h),r=(0,u.ZP)(e),{hasRouterLink:i,hasLink:o,linkTag:a,linkAttrs:s,navigateOnClick:l}=(0,d.Z)({fallbackTag:"button"}),m=(0,n.Fl)((()=>{const r=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},r,{padding:e.padding.split(/\s+/).map((e=>e in f?f[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):r})),y=(0,n.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),b=(0,n.Fl)((()=>!0!==e.disable&&!0!==e.loading)),E=(0,n.Fl)((()=>!0===b.value?e.tabindex||0:-1)),S=(0,n.Fl)((()=>g(e,"standard"))),w=(0,n.Fl)((()=>{const t={tabindex:E.value};return!0===o.value?Object.assign(t,s.value):!0===p.includes(e.type)&&(t.type=e.type),"a"===a.value?(!0===e.disable?t["aria-disabled"]="true":void 0===t.href&&(t.role="button"),!0!==i.value&&!0===v.test(e.type)&&(t.type=e.type)):!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),t})),T=(0,n.Fl)((()=>{let t;void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`);const r=!0===e.round?"round":"rectangle"+(!0===y.value?" q-btn--rounded":!0===e.square?" q-btn--square":"");return`q-btn--${S.value} q-btn--${r}`+(void 0!==t?" "+t:"")+(!0===b.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")+(e.square?" q-btn--square":"")})),_=(0,n.Fl)((()=>r.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:T,style:m,innerClasses:_,attributes:w,hasLink:o,linkTag:a,navigateOnClick:l,isActionable:b}}var E=r(908),S=r(7657),w=r(4716),T=r(1436);const{passiveCapture:_}=w.rU;let k=null,x=null,C=null;const A=(0,E.L)({name:"QBtn",props:{...y,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:r}){const{proxy:u}=(0,n.FN)(),{classes:c,style:d,innerClasses:f,attributes:h,hasLink:p,linkTag:v,navigateOnClick:m,isActionable:g}=b(e),y=(0,i.iH)(null),E=(0,i.iH)(null);let A,L=null,D=null;const R=(0,n.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),P=(0,n.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===p.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),O=(0,n.Fl)((()=>({center:e.round}))),I=(0,n.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),F=(0,n.Fl)((()=>{if(!0===e.loading)return{onMousedown:H,onTouchstart:H,onClick:H,onKeydown:H,onKeyup:H};if(!0===g.value){const t={onClick:M,onKeydown:$,onMousedown:U};if(!0===u.$q.platform.has.touch){const r=void 0!==e.onTouchstart?"":"Passive";t[`onTouchstart${r}`]=j}return t}return{onClick:w.NS}})),N=(0,n.Fl)((()=>({ref:y,class:"q-btn q-btn-item non-selectable no-outline "+c.value,style:d.value,...h.value,...F.value})));function M(t){if(null!==y.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const r=document.activeElement;if("submit"===e.type&&r!==document.body&&!1===y.value.contains(r)&&!1===r.contains(y.value)){y.value.focus();const e=()=>{document.removeEventListener("keydown",w.NS,!0),document.removeEventListener("keyup",e,_),null!==y.value&&y.value.removeEventListener("blur",e,_)};document.addEventListener("keydown",w.NS,!0),document.addEventListener("keyup",e,_),y.value.addEventListener("blur",e,_)}}m(t)}}function $(e){null!==y.value&&(r("keydown",e),!0===(0,T.So)(e,[13,32])&&x!==y.value&&(null!==x&&q(),!0!==e.defaultPrevented&&(y.value.focus(),x=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("keyup",B,!0),y.value.addEventListener("blur",B,_)),(0,w.NS)(e)))}function j(e){null!==y.value&&(r("touchstart",e),!0!==e.defaultPrevented&&(k!==y.value&&(null!==k&&q(),k=y.value,L=e.target,L.addEventListener("touchcancel",B,_),L.addEventListener("touchend",B,_)),A=!0,null!==D&&clearTimeout(D),D=setTimeout((()=>{D=null,A=!1}),200)))}function U(e){null!==y.value&&(e.qSkipRipple=!0===A,r("mousedown",e),!0!==e.defaultPrevented&&C!==y.value&&(null!==C&&q(),C=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("mouseup",B,_)))}function B(e){if(null!==y.value&&(void 0===e||"blur"!==e.type||document.activeElement!==y.value)){if(void 0!==e&&"keyup"===e.type){if(x===y.value&&!0===(0,T.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,w.X$)(t),!0===e.cancelBubble&&(0,w.sT)(t),y.value.dispatchEvent(t),(0,w.NS)(e),e.qKeyEvent=!0}r("keyup",e)}q()}}function q(e){const t=E.value;!0===e||k!==y.value&&C!==y.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),k===y.value&&(null!==L&&(L.removeEventListener("touchcancel",B,_),L.removeEventListener("touchend",B,_)),k=L=null),C===y.value&&(document.removeEventListener("mouseup",B,_),C=null),x===y.value&&(document.removeEventListener("keyup",B,!0),null!==y.value&&y.value.removeEventListener("blur",B,_),x=null),null!==y.value&&y.value.classList.remove("q-btn--active")}function H(e){(0,w.NS)(e),e.qSkipRipple=!0}return(0,n.Jd)((()=>{q(!0)})),Object.assign(u,{click:M}),()=>{let r=[];void 0!==e.icon&&r.push((0,n.h)(a.Z,{name:e.icon,left:!1===e.stack&&!0===R.value,role:"img","aria-hidden":"true"})),!0===R.value&&r.push((0,n.h)("span",{class:"block"},[e.label])),r=(0,S.vs)(t.default,r),void 0!==e.iconRight&&!1===e.round&&r.push((0,n.h)(a.Z,{name:e.iconRight,right:!1===e.stack&&!0===R.value,role:"img","aria-hidden":"true"}));const i=[(0,n.h)("span",{class:"q-focus-helper",ref:E})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,n.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===e.darkPercentage?" q-btn__progress--dark":"")},[(0,n.h)("span",{class:"q-btn__progress-indicator fit block",style:I.value})])),i.push((0,n.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+f.value},r)),null!==e.loading&&i.push((0,n.h)(o.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,n.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,n.h)(s.Z)])]:null))),(0,n.wy)((0,n.h)(v.value,N.value,i),[[l.Z,P.value,void 0,O.value]])}}})},151:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(2236),o=r(908),a=r(7657);const s=(0,o.L)({name:"QCard",props:{...i.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=(0,n.FN)(),o=(0,i.Z)(e,r),s=(0,n.Fl)((()=>"q-card"+(!0===o.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,n.h)(e.tag,{class:s.value},(0,a.KR)(t.default))}})},9367:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(9992),o=r(908),a=r(7657);const s=(0,o.L)({name:"QCardActions",props:{...i.jO,vertical:Boolean},setup(e,{slots:t}){const r=(0,i.ZP)(e),o=(0,n.Fl)((()=>`q-card__actions ${r.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,n.h)("div",{class:o.value},(0,a.KR)(t.default))}})},5589:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(3673),i=r(908),o=r(7657);const a=(0,i.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const r=(0,n.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,n.h)(e.tag,{class:r.value},(0,o.KR)(t.default))}})},6122:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});r(5663);var n=r(3673),i=r(2417);const o={...i.LU,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};var a=r(908),s=r(7657),l=r(2130);const u=50,c=2*u,d=c*Math.PI,f=Math.round(1e3*d)/1e3,h=(0,a.L)({name:"QCircularProgress",props:{...o,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=(0,n.FN)(),o=(0,i.ZP)(e),a=(0,n.Fl)((()=>{const t=(!0===r.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===r.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-t}deg)`:`rotate3d(0, 0, 1, ${t-90}deg)`}})),h=(0,n.Fl)((()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:"")),p=(0,n.Fl)((()=>c/(1-e.thickness/2))),v=(0,n.Fl)((()=>`${p.value/2} ${p.value/2} ${p.value} ${p.value}`)),m=(0,n.Fl)((()=>(0,l.vX)(e.value,e.min,e.max))),g=(0,n.Fl)((()=>d*(1-(m.value-e.min)/(e.max-e.min)))),y=(0,n.Fl)((()=>e.thickness/2*p.value));function b({thickness:e,offset:t,color:r,cls:i,rounded:o}){return(0,n.h)("circle",{class:"q-circular-progress__"+i+(void 0!==r?` text-${r}`:""),style:h.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":f,"stroke-dashoffset":t,"stroke-linecap":o,cx:p.value,cy:p.value,r:u})}return()=>{const r=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&r.push((0,n.h)("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:u-y.value/2,cx:p.value,cy:p.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&r.push(b({cls:"track",thickness:y.value,offset:0,color:e.trackColor})),r.push(b({cls:"circle",thickness:y.value,offset:g.value,color:e.color,rounded:!0===e.rounded?"round":void 0}));const i=[(0,n.h)("svg",{class:"q-circular-progress__svg",style:a.value,viewBox:v.value,"aria-hidden":"true"},r)];return!0===e.showValue&&i.push((0,n.h)("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==t.default?t.default():[(0,n.h)("div",m.value)])),(0,n.h)("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:m.value},(0,s.pf)(t.internal,i))}}})},5926:(e,t,r)=>{"use strict";r.d(t,{Z:()=>B});r(3610);var n=r(3673),i=r(1959),o=r(8880),a=r(6583);function s(e,t,r){let i;function o(){void 0!==i&&(a.Z.remove(i),i=void 0)}return(0,n.Jd)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){i={condition:()=>!0===r.value,handler:t},a.Z.add(i)}}}var l=r(4955),u=r(416),c=r(3628),d=r(6104),f=r(9104),h=r(4716),p=r(8400),v=r(4688);let m,g,y,b,E,S,w=0,T=!1,_=null;function k(e){x(e)&&(0,h.NS)(e)}function x(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,h.AZ)(e),r=e.shiftKey&&!e.deltaX,n=!r&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=r||n?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const e=t[o];if((0,p.QA)(e,n))return n?i<0&&0===e.scrollTop||i>0&&e.scrollTop+e.clientHeight===e.scrollHeight:i<0&&0===e.scrollLeft||i>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function C(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function A(e){!0!==T&&(T=!0,requestAnimationFrame((()=>{T=!1;const{height:t}=e.target,{clientHeight:r,scrollTop:n}=document.scrollingElement;void 0!==y&&t===window.innerHeight||(y=r-t,document.scrollingElement.scrollTop=n),n>y&&(document.scrollingElement.scrollTop-=Math.ceil((n-y)/8))})))}function L(e){const t=document.body,r=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:n}=window.getComputedStyle(t);m=(0,p.OI)(window),g=(0,p.u3)(window),b=t.style.left,E=t.style.top,S=window.location.href,t.style.left=`-${m}px`,t.style.top=`-${g}px`,"hidden"!==n&&("scroll"===n||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===v.Lp.is.ios&&(!0===r?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",A,h.rU.passiveCapture),window.visualViewport.addEventListener("scroll",A,h.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",C,h.rU.passiveCapture))}!0===v.Lp.is.desktop&&!0===v.Lp.is.mac&&window[`${e}EventListener`]("wheel",k,h.rU.notPassive),"remove"===e&&(!0===v.Lp.is.ios&&(!0===r?(window.visualViewport.removeEventListener("resize",A,h.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",A,h.rU.passiveCapture)):window.removeEventListener("scroll",C,h.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=b,t.style.top=E,window.location.href===S&&window.scrollTo(m,g),y=void 0)}function D(e){let t="add";if(!0===e){if(w++,null!==_)return clearTimeout(_),void(_=null);if(w>1)return}else{if(0===w)return;if(w--,w>0)return;if(t="remove",!0===v.Lp.is.ios&&!0===v.Lp.is.nativeMobile)return null!==_&&clearTimeout(_),void(_=setTimeout((()=>{L(t),_=null}),100))}L(t)}function R(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,D(t))}}}var P=r(908),O=r(2012),I=r(7657),F=r(4704),N=r(8517),M=r(230);let $=0;const j={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},U={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},B=(0,P.L)({name:"QDialog",inheritAttrs:!1,props:{...c.vr,...d.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...c.gH,"shake","click","escapeKey"],setup(e,{slots:t,emit:r,attrs:a}){const h=(0,n.FN)(),{proxy:{$q:p}}=h,v=(0,i.iH)(null),m=(0,i.iH)(!1),g=(0,i.iH)(!1);let y,b,E=null,S=null;const w=(0,n.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:T}=R(),{registerTimeout:_}=(0,l.Z)(),{registerTick:k,removeTick:x}=(0,u.Z)(),{transitionProps:C,transitionStyle:A}=(0,d.Z)(e,(()=>U[e.position][0]),(()=>U[e.position][1])),{showPortal:L,hidePortal:D,portalIsAccessible:P,renderPortal:B}=(0,f.Z)(h,v,ae,"dialog"),{hide:q}=(0,c.ZP)({showing:m,hideOnRouteChange:w,handleShow:Y,handleHide:Z,processOnMount:!0}),{addToHistory:H,removeFromHistory:V}=s(m,q,w),K=(0,n.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${j[e.position]}`+(!0===g.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),G=(0,n.Fl)((()=>!0===m.value&&!0!==e.seamless)),z=(0,n.Fl)((()=>!0===e.autoClose?{onClick:re}:{})),W=(0,n.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===G.value?"modal":"seamless"),a.class]));function Y(t){H(),S=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,te(e.maximized),L(),g.value=!0,!0!==e.noFocus?(null!==document.activeElement&&document.activeElement.blur(),k(X)):x(),_((()=>{if(!0===h.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:r}=window,n=void 0!==window.visualViewport?window.visualViewport.height:r;e>0&&t>n/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-n,t>=r?1/0:Math.ceil(document.scrollingElement.scrollTop+t-n/2))),document.activeElement.scrollIntoView()}b=!0,v.value.click(),b=!1}L(!0),g.value=!1,r("show",t)}),e.transitionDuration)}function Z(t){x(),V(),ee(!0),g.value=!0,D(),null!==S&&(((t&&0===t.type.indexOf("key")?S.closest('[tabindex]:not([tabindex^="-"])'):void 0)||S).focus(),S=null),_((()=>{D(!0),g.value=!1,r("hide",t)}),e.transitionDuration)}function X(e){(0,M.jd)((()=>{let t=v.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=(""!==e?t.querySelector(e):null)||t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function J(e){e&&"function"===typeof e.focus?e.focus({preventScroll:!0}):X(),r("shake");const t=v.value;null!==t&&(t.classList.remove("q-animate--scale"),t.classList.add("q-animate--scale"),null!==E&&clearTimeout(E),E=setTimeout((()=>{E=null,null!==v.value&&(t.classList.remove("q-animate--scale"),X())}),170))}function Q(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&J():(r("escapeKey"),q()))}function ee(t){null!==E&&(clearTimeout(E),E=null),!0!==t&&!0!==m.value||(te(!1),!0!==e.seamless&&(T(!1),(0,N.H)(ie),(0,F.k)(Q))),!0!==t&&(S=null)}function te(e){!0===e?!0!==y&&($<1&&document.body.classList.add("q-body--dialog"),$++,y=!0):!0===y&&($<2&&document.body.classList.remove("q-body--dialog"),$--,y=!1)}function re(e){!0!==b&&(q(e),r("click",e))}function ne(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?q(t):!0!==e.noShake&&J(t.relatedTarget)}function ie(t){!0!==e.allowFocusOutside&&!0===P.value&&!0!==(0,O.mY)(v.value,t.target)&&X('[tabindex]:not([tabindex="-1"])')}(0,n.YP)((()=>e.maximized),(e=>{!0===m.value&&te(e)})),(0,n.YP)(G,(e=>{T(e),!0===e?((0,N.i)(ie),(0,F.c)(Q)):((0,N.H)(ie),(0,F.k)(Q))})),Object.assign(h.proxy,{focus:X,shake:J,__updateRefocusTarget(e){S=e||null}}),(0,n.Jd)(ee);const oe=!0===p.platform.is.ios||p.platform.is.safari?"onClick":"onFocusin";function ae(){return(0,n.h)("div",{role:"dialog","aria-modal":!0===G.value?"true":"false",...a,class:W.value},[(0,n.h)(o.uT,{name:"q-transition--fade",appear:!0},(()=>!0===G.value?(0,n.h)("div",{class:"q-dialog__backdrop fixed-full",style:A.value,"aria-hidden":"true",tabindex:-1,[oe]:ne}):null)),(0,n.h)(o.uT,C.value,(()=>!0===m.value?(0,n.h)("div",{ref:v,class:K.value,style:A.value,tabindex:-1,...z.value},(0,I.KR)(t.default)):null))])}return B}})},1762:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});r(5663);var n=r(3673),i=r(1959),o=r(4688),a=r(5151),s=r(908),l=r(7657),u=r(2547);const c=(0,s.L)({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:r}){const{proxy:{$q:s}}=(0,n.FN)(),c=(0,n.f3)(u.YE,u.qO);if(c===u.qO)return console.error("QFooter needs to be child of QLayout"),u.qO;const d=(0,i.iH)(parseInt(e.heightHint,10)),f=(0,i.iH)(!0),h=(0,i.iH)(!0===o.uX.value||!0===c.isContainer.value?0:window.innerHeight),p=(0,n.Fl)((()=>!0===e.reveal||c.view.value.indexOf("F")>-1||s.platform.is.ios&&!0===c.isContainer.value)),v=(0,n.Fl)((()=>!0===c.isContainer.value?c.containerHeight.value:h.value)),m=(0,n.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===p.value)return!0===f.value?d.value:0;const t=c.scroll.value.position+v.value+d.value-c.height.value;return t>0?t:0})),g=(0,n.Fl)((()=>!0!==e.modelValue||!0===p.value&&!0!==f.value)),y=(0,n.Fl)((()=>!0===e.modelValue&&!0===g.value&&!0===e.reveal)),b=(0,n.Fl)((()=>"q-footer q-layout__section--marginal "+(!0===p.value?"fixed":"absolute")+"-bottom"+(!0===e.bordered?" q-footer--bordered":"")+(!0===g.value?" q-footer--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus"+(!0!==p.value?" hidden":""):""))),E=(0,n.Fl)((()=>{const e=c.rows.value.bottom,t={};return"l"===e[0]&&!0===c.left.space&&(t[!0===s.lang.rtl?"right":"left"]=`${c.left.size}px`),"r"===e[2]&&!0===c.right.space&&(t[!0===s.lang.rtl?"left":"right"]=`${c.right.size}px`),t}));function S(e,t){c.update("footer",e,t)}function w(e,t){e.value!==t&&(e.value=t)}function T({height:e}){w(d,e),S("size",e)}function _(){if(!0!==e.reveal)return;const{direction:t,position:r,inflectionPoint:n}=c.scroll.value;w(f,"up"===t||r-n<100||c.height.value-v.value-r-d.value<300)}function k(e){!0===y.value&&w(f,!0),r("focusin",e)}(0,n.YP)((()=>e.modelValue),(e=>{S("space",e),w(f,!0),c.animate()})),(0,n.YP)(m,(e=>{S("offset",e)})),(0,n.YP)((()=>e.reveal),(t=>{!1===t&&w(f,e.modelValue)})),(0,n.YP)(f,(e=>{c.animate(),r("reveal",e)})),(0,n.YP)([d,c.scroll,c.height],_),(0,n.YP)((()=>s.screen.height),(e=>{!0!==c.isContainer.value&&w(h,e)}));const x={};return c.instances.footer=x,!0===e.modelValue&&S("size",d.value),S("space",e.modelValue),S("offset",m.value),(0,n.Jd)((()=>{c.instances.footer===x&&(c.instances.footer=void 0,S("size",0),S("offset",0),S("space",!1))})),()=>{const r=(0,l.vs)(t.default,[(0,n.h)(a.Z,{debounce:0,onResize:T})]);return!0===e.elevated&&r.push((0,n.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),(0,n.h)("footer",{class:b.value,style:E.value,onFocusin:k},r)}}})},8689:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});r(5663);var n=r(3673),i=r(1959),o=r(908),a=r(4716),s=r(230),l=r(7657),u=r(2547),c=r(7445);const d=(0,o.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:r}){const o=(0,n.FN)(),d=(0,i.iH)(null);let f=0;const h=[];function p(t){const n="boolean"===typeof t?t:!0!==e.noErrorFocus,i=++f,o=(e,t)=>{r("validation"+(!0===e?"Success":"Error"),t)},a=e=>{const t=e.validate();return"function"===typeof t.then?t.then((t=>({valid:t,comp:e})),(t=>({valid:!1,comp:e,err:t}))):Promise.resolve({valid:t,comp:e})},s=!0===e.greedy?Promise.all(h.map(a)).then((e=>e.filter((e=>!0!==e.valid)))):h.reduce(((e,t)=>e.then((()=>a(t).then((e=>{if(!1===e.valid)return Promise.reject(e)}))))),Promise.resolve()).catch((e=>[e]));return s.then((e=>{if(void 0===e||0===e.length)return i===f&&o(!0),!0;if(i===f){const{comp:t,err:r}=e[0];if(void 0!==r&&console.error(r),o(!1,t),!0===n){const t=e.find((({comp:e})=>"function"===typeof e.focus&&!1===(0,c.$D)(e.$)));void 0!==t&&t.comp.focus()}}return!1}))}function v(){f++,h.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function m(t){void 0!==t&&(0,a.NS)(t);const n=f+1;p().then((i=>{n===f&&!0===i&&(void 0!==e.onSubmit?r("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function g(t){void 0!==t&&(0,a.NS)(t),r("reset"),(0,n.Y3)((()=>{v(),!0===e.autofocus&&!0!==e.noResetFocus&&y()}))}function y(){(0,s.jd)((()=>{if(null===d.value)return;const e=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus({preventScroll:!0})}))}(0,n.JJ)(u.vh,{bindComponent(e){h.push(e)},unbindComponent(e){const t=h.indexOf(e);t>-1&&h.splice(t,1)}});let b=!1;return(0,n.se)((()=>{b=!0})),(0,n.dl)((()=>{!0===b&&!0===e.autofocus&&y()})),(0,n.bv)((()=>{!0===e.autofocus&&y()})),Object.assign(o.proxy,{validate:p,resetValidation:v,submit:m,reset:g,focus:y,getValidationComponents:()=>h}),()=>(0,n.h)("form",{class:"q-form",ref:d,onSubmit:m,onReset:g},(0,l.KR)(t.default))}})},3812:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});r(5663);var n=r(3673),i=r(1959),o=r(5151),a=r(908),s=r(7657),l=r(2547);const u=(0,a.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:r}){const{proxy:{$q:a}}=(0,n.FN)(),u=(0,n.f3)(l.YE,l.qO);if(u===l.qO)return console.error("QHeader needs to be child of QLayout"),l.qO;const c=(0,i.iH)(parseInt(e.heightHint,10)),d=(0,i.iH)(!0),f=(0,n.Fl)((()=>!0===e.reveal||u.view.value.indexOf("H")>-1||a.platform.is.ios&&!0===u.isContainer.value)),h=(0,n.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===f.value)return!0===d.value?c.value:0;const t=c.value-u.scroll.value.position;return t>0?t:0})),p=(0,n.Fl)((()=>!0!==e.modelValue||!0===f.value&&!0!==d.value)),v=(0,n.Fl)((()=>!0===e.modelValue&&!0===p.value&&!0===e.reveal)),m=(0,n.Fl)((()=>"q-header q-layout__section--marginal "+(!0===f.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===p.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),g=(0,n.Fl)((()=>{const e=u.rows.value.top,t={};return"l"===e[0]&&!0===u.left.space&&(t[!0===a.lang.rtl?"right":"left"]=`${u.left.size}px`),"r"===e[2]&&!0===u.right.space&&(t[!0===a.lang.rtl?"left":"right"]=`${u.right.size}px`),t}));function y(e,t){u.update("header",e,t)}function b(e,t){e.value!==t&&(e.value=t)}function E({height:e}){b(c,e),y("size",e)}function S(e){!0===v.value&&b(d,!0),r("focusin",e)}(0,n.YP)((()=>e.modelValue),(e=>{y("space",e),b(d,!0),u.animate()})),(0,n.YP)(h,(e=>{y("offset",e)})),(0,n.YP)((()=>e.reveal),(t=>{!1===t&&b(d,e.modelValue)})),(0,n.YP)(d,(e=>{u.animate(),r("reveal",e)})),(0,n.YP)(u.scroll,(t=>{!0===e.reveal&&b(d,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const w={};return u.instances.header=w,!0===e.modelValue&&y("size",c.value),y("space",e.modelValue),y("offset",h.value),(0,n.Jd)((()=>{u.instances.header===w&&(u.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const r=(0,s.Bl)(t.default,[]);return!0===e.elevated&&r.push((0,n.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push((0,n.h)(o.Z,{debounce:0,onResize:E})),(0,n.h)("header",{class:m.value,style:g.value,onFocusin:S},r)}}})},4554:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(3673),i=r(2417),o=r(908),a=r(7657);const s="0 0 24 24",l=e=>e,u=e=>`ionicons ${e}`,c={"mdi-":e=>`mdi ${e}`,"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},d={o_:"-outlined",r_:"-round",s_:"-sharp"},f={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},h=new RegExp("^("+Object.keys(c).join("|")+")"),p=new RegExp("^("+Object.keys(d).join("|")+")"),v=new RegExp("^("+Object.keys(f).join("|")+")"),m=/^[Mm]\s?[-+]?\.?\d/,g=/^img:/,y=/^svguse:/,b=/^ion-/,E=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,S=(0,o.L)({name:"QIcon",props:{...i.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=(0,n.FN)(),o=(0,i.ZP)(e),l=(0,n.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),u=(0,n.Fl)((()=>{let t,i=e.name;if("none"===i||!i)return{none:!0};if(null!==r.iconMapFn){const e=r.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls,content:void 0!==e.content?e.content:" "};if(i=e.icon,"none"===i||!i)return{none:!0}}}if(!0===m.test(i)){const[e,t=s]=i.split("|");return{svg:!0,viewBox:t,nodes:e.split("&&").map((e=>{const[t,r,i]=e.split("@@");return(0,n.h)("path",{style:r,d:t,transform:i})}))}}if(!0===g.test(i))return{img:!0,src:i.substring(4)};if(!0===y.test(i)){const[e,t=s]=i.split("|");return{svguse:!0,src:e.substring(7),viewBox:t}}let o=" ";const a=i.match(h);if(null!==a)t=c[a[1]](i);else if(!0===E.test(i))t=i;else if(!0===b.test(i))t=`ionicons ion-${!0===r.platform.is.ios?"ios":"md"}${i.substring(3)}`;else if(!0===v.test(i)){t="notranslate material-symbols";const e=i.match(v);null!==e&&(i=i.substring(6),t+=f[e[1]]),o=i}else{t="notranslate material-icons";const e=i.match(p);null!==e&&(i=i.substring(2),t+=d[e[1]]),o=i}return{cls:t,content:o}}));return()=>{const r={class:l.value,style:o.value,"aria-hidden":"true",role:"presentation"};return!0===u.value.none?(0,n.h)(e.tag,r,(0,a.KR)(t.default)):!0===u.value.img?(0,n.h)("span",r,(0,a.vs)(t.default,[(0,n.h)("img",{src:u.value.src})])):!0===u.value.svg?(0,n.h)("span",r,(0,a.vs)(t.default,[(0,n.h)("svg",{viewBox:u.value.viewBox||"0 0 24 24"},u.value.nodes)])):!0===u.value.svguse?(0,n.h)("span",r,(0,a.vs)(t.default,[(0,n.h)("svg",{viewBox:u.value.viewBox},[(0,n.h)("use",{"xlink:href":u.value.src})])])):(void 0!==u.value.cls&&(r.class+=" "+u.value.cls),(0,n.h)(e.tag,r,(0,a.vs)(t.default,[u.value.content])))}}})},4027:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});r(5663);var n=r(1959),i=r(3673),o=r(8880),a=r(6833);const s={ratio:[String,Number]};function l(e,t){return(0,i.Fl)((()=>{const r=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(r)&&r>0?{paddingBottom:100/r+"%"}:null}))}var u=r(908),c=r(7657);const d=16/9,f=(0,u.L)({name:"QImg",props:{...s,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:d},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:r}){const s=(0,n.iH)(e.initialRatio),u=l(e,s);let d=null,f=!1;const h=[(0,n.iH)(null),(0,n.iH)(w())],p=(0,n.iH)(0),v=(0,n.iH)(!1),m=(0,n.iH)(!1),g=(0,i.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),y=(0,i.Fl)((()=>({width:e.width,height:e.height}))),b=(0,i.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),E=(0,i.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function S(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(){return void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null}function T(e){null!==d&&(clearTimeout(d),d=null),m.value=!1,null===e?(v.value=!1,h[1^p.value].value=w()):v.value=!0,h[p.value].value=e}function _({target:e}){!0!==f&&(null!==d&&(clearTimeout(d),d=null),s.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,k(e,1))}function k(e,t){!0!==f&&1e3!==t&&(!0===e.complete?x(e):d=setTimeout((()=>{d=null,k(e,t+1)}),50))}function x(e){!0!==f&&(p.value=1^p.value,h[p.value].value=null,v.value=!1,m.value=!1,r("load",e.currentSrc||e.src))}function C(e){null!==d&&(clearTimeout(d),d=null),v.value=!1,m.value=!0,h[p.value].value=null,h[1^p.value].value=w(),r("error",e)}function A(t){const r=h[t].value,n={key:"img_"+t,class:b.value,style:E.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...r};return p.value===t?(n.class+=" q-img__image--waiting",Object.assign(n,{onLoad:_,onError:C})):n.class+=" q-img__image--loaded",(0,i.h)("div",{class:"q-img__container absolute-full",key:"img"+t},(0,i.h)("img",n))}function L(){return!0!==v.value?(0,i.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(t[!0===m.value?"error":"default"])):(0,i.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,i.h)(a.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,i.YP)((()=>S()),T),T(S()),(0,i.Jd)((()=>{f=!0,null!==d&&(clearTimeout(d),d=null)})),()=>{const t=[];return null!==u.value&&t.push((0,i.h)("div",{key:"filler",style:u.value})),!0!==m.value&&(null!==h[0].value&&t.push(A(0)),null!==h[1].value&&t.push(A(1))),t.push((0,i.h)(o.uT,{name:"q-transition--fade"},L)),(0,i.h)("div",{class:g.value,style:y.value,role:"img","aria-label":e.alt},t)}}})},6941:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});r(5663);var n=r(3673),i=r(8880),o=r(6833),a=r(908),s=r(2236),l=r(6104);const u=(0,a.L)({name:"QInnerLoading",props:{...s.S,...l.D,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const r=(0,n.FN)(),a=(0,s.Z)(e,r.proxy.$q),{transitionProps:u,transitionStyle:c}=(0,l.Z)(e),d=(0,n.Fl)((()=>"q-inner-loading absolute-full column flex-center"+(!0===a.value?" q-inner-loading--dark":""))),f=(0,n.Fl)((()=>"q-inner-loading__label"+(void 0!==e.labelClass?` ${e.labelClass}`:"")));function h(){const t=[(0,n.h)(o.Z,{size:e.size,color:e.color})];return void 0!==e.label&&t.push((0,n.h)("div",{class:f.value,style:e.labelStyle},[e.label])),t}function p(){return!0===e.showing?(0,n.h)("div",{class:d.value,style:c.value},void 0!==t.default?t.default():h()):null}return()=>(0,n.h)(i.uT,u.value,p)}})},4842:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});r(3610);var n=r(3673),i=r(1959),o=r(1572),a=(r(5663),r(1436));const s={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},u=Object.keys(l);u.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const c=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+u.join("")+"])|(.)","g"),d=/[.*+?^${}()|[\]\\]/g,f=String.fromCharCode(1),h={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(e,t,r,o){let u,h,p,v;const m=(0,i.iH)(null),g=(0,i.iH)(b());function y(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function b(){if(S(),!0===m.value){const t=x(A(e.modelValue));return!1!==e.fillMask?L(t):t}return e.modelValue}function E(e){if(e<u.length)return u.slice(-e);let t="",r=u;const n=r.indexOf(f);if(n>-1){for(let n=e-r.length;n>0;n--)t+=f;r=r.slice(0,n)+t+r.slice(n)}return r}function S(){if(m.value=void 0!==e.mask&&e.mask.length>0&&y(),!1===m.value)return v=void 0,u="",void(h="");const t=void 0===s[e.mask]?e.mask:s[e.mask],r="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",n=r.replace(d,"\\$&"),i=[],o=[],a=[];let g=!0===e.reverseFillMask,b="",E="";t.replace(c,((e,t,r,n,s)=>{if(void 0!==n){const e=l[n];a.push(e),E=e.negate,!0===g&&(o.push("(?:"+E+"+)?("+e.pattern+"+)?(?:"+E+"+)?("+e.pattern+"+)?"),g=!1),o.push("(?:"+E+"+)?("+e.pattern+")?")}else if(void 0!==r)b="\\"+("\\"===r?"":r),a.push(r),i.push("([^"+b+"]+)?"+b+"?");else{const e=void 0!==t?t:s;b="\\"===e?"\\\\\\\\":e.replace(d,"\\\\$&"),a.push(e),i.push("([^"+b+"]+)?"+b+"?")}}));const S=new RegExp("^"+i.join("")+"("+(""===b?".":"[^"+b+"]")+"+)?"+(""===b?"":"["+b+"]*")+"$"),w=o.length-1,T=o.map(((t,r)=>0===r&&!0===e.reverseFillMask?new RegExp("^"+n+"*"+t):r===w?new RegExp("^"+t+"("+(""===E?".":E)+"+)?"+(!0===e.reverseFillMask?"$":n+"*")):new RegExp("^"+t)));p=a,v=t=>{const r=S.exec(!0===e.reverseFillMask?t:t.slice(0,a.length));null!==r&&(t=r.slice(1).join(""));const n=[],i=T.length;for(let e=0,o=t;e<i;e++){const t=T[e].exec(o);if(null===t)break;o=o.slice(t.shift().length),n.push(...t)}return n.length>0?n.join(""):t},u=a.map((e=>"string"===typeof e?e:f)).join(""),h=u.split(f).join(r)}function w(t,i,a){const s=o.value,l=s.selectionEnd,c=s.value.length-l,d=A(t);!0===i&&S();const p=x(d),v=!1!==e.fillMask?L(p):p,m=g.value!==v;s.value!==v&&(s.value=v),!0===m&&(g.value=v),document.activeElement===s&&(0,n.Y3)((()=>{if(v!==h)if("insertFromPaste"!==a||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(a)>-1){const t=!0===e.reverseFillMask?0===l?v.length>p.length?1:0:Math.max(0,v.length-(v===h?0:Math.min(p.length,c)+1))+1:l;s.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===m){const e=Math.max(0,v.length-(v===h?0:Math.min(p.length,c+1)));1===e&&1===l?s.setSelectionRange(e,e,"forward"):_.rightReverse(s,e,e)}else{const e=v.length-c;s.setSelectionRange(e,e,"backward")}else if(!0===m){const e=Math.max(0,u.indexOf(f),Math.min(p.length,l)-1);_.right(s,e,e)}else{const e=l-1;_.right(s,e,e)}else{const e=l-1;_.right(s,e,e)}else{const t=!0===e.reverseFillMask?h.length:0;s.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?A(v):v;String(e.modelValue)!==y&&r(y,!0)}function T(e,t,r){const n=x(A(e.value));t=Math.max(0,u.indexOf(f),Math.min(n.length,t)),e.setSelectionRange(t,r,"forward")}(0,n.YP)((()=>e.type+e.autogrow),S),(0,n.YP)((()=>e.mask),(r=>{if(void 0!==r)w(g.value,!0);else{const r=A(g.value);S(),e.modelValue!==r&&t("update:modelValue",r)}})),(0,n.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===m.value&&w(g.value,!0)})),(0,n.YP)((()=>e.unmaskedValue),(()=>{!0===m.value&&w(g.value)}));const _={left(e,t,r,n){const i=-1===u.slice(t-1).indexOf(f);let o=Math.max(0,t-1);for(;o>=0;o--)if(u[o]===f){t=o,!0===i&&t++;break}if(o<0&&void 0!==u[t]&&u[t]!==f)return _.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===n?r:t,"backward")},right(e,t,r,n){const i=e.value.length;let o=Math.min(i,r+1);for(;o<=i;o++){if(u[o]===f){r=o;break}u[o-1]===f&&(r=o)}if(o>i&&void 0!==u[r-1]&&u[r-1]!==f)return _.left(e,i,i);e.setSelectionRange(n?t:r,r,"forward")},leftReverse(e,t,r,n){const i=E(e.value.length);let o=Math.max(0,t-1);for(;o>=0;o--){if(i[o-1]===f){t=o;break}if(i[o]===f&&(t=o,0===o))break}if(o<0&&void 0!==i[t]&&i[t]!==f)return _.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===n?r:t,"backward")},rightReverse(e,t,r,n){const i=e.value.length,o=E(i),a=-1===o.slice(0,r+1).indexOf(f);let s=Math.min(i,r+1);for(;s<=i;s++)if(o[s-1]===f){r=s,r>0&&!0===a&&r--;break}if(s>i&&void 0!==o[r-1]&&o[r-1]!==f)return _.leftReverse(e,i,i);e.setSelectionRange(!0===n?t:r,r,"forward")}};function k(r){if(t("keydown",r),!0===(0,a.Wm)(r))return;const n=o.value,i=n.selectionStart,s=n.selectionEnd;if(37===r.keyCode||39===r.keyCode){const t=_[(39===r.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];r.preventDefault(),t(n,i,s,r.shiftKey)}else 8===r.keyCode&&!0!==e.reverseFillMask&&i===s?_.left(n,i,s,!0):46===r.keyCode&&!0===e.reverseFillMask&&i===s&&_.rightReverse(n,i,s,!0)}function x(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return C(t);const r=p;let n=0,i="";for(let e=0;e<r.length;e++){const o=t[n],a=r[e];if("string"===typeof a)i+=a,o===a&&n++;else{if(void 0===o||!a.regex.test(o))return i;i+=void 0!==a.transform?a.transform(o):o,n++}}return i}function C(e){const t=p,r=u.indexOf(f);let n=e.length-1,i="";for(let o=t.length-1;o>=0&&n>-1;o--){const a=t[o];let s=e[n];if("string"===typeof a)i=a+i,s===a&&n--;else{if(void 0===s||!a.regex.test(s))return i;do{i=(void 0!==a.transform?a.transform(s):s)+i,n--,s=e[n]}while(r===o&&void 0!==s&&a.regex.test(s))}}return i}function A(e){return"string"!==typeof e||void 0===v?"number"===typeof e?v(""+e):e:v(e)}function L(t){return h.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?h.slice(0,-t.length)+t:t+h.slice(t.length)}return{innerValue:g,hasMask:m,moveCursorForPaste:T,updateMaskValue:w,onMaskedKeydown:k}}var v=r(9550);function m(e,t){function r(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(r){return{files:void 0}}}return!0===t?(0,n.Fl)((()=>{if("file"===e.type)return r()})):(0,n.Fl)(r)}var g=r(839),y=r(908),b=r(4716),E=r(230),S=r(9085);const w=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...o.Cl,...h,...v.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.HJ,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:r}){const{proxy:a}=(0,n.FN)(),{$q:s}=a,l={};let u,c,d,f=NaN,h=null;const y=(0,i.iH)(null),w=(0,v.Do)(e),{innerValue:T,hasMask:_,moveCursorForPaste:k,updateMaskValue:x,onMaskedKeydown:C}=p(e,t,B,y),A=m(e,!0),L=(0,n.Fl)((()=>(0,o.yV)(T.value))),D=(0,g.Z)(j),R=(0,o.tL)(),P=(0,n.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),O=(0,n.Fl)((()=>!0===P.value||["text","search","url","tel","password"].includes(e.type))),I=(0,n.Fl)((()=>{const t={...R.splitAttrs.listeners.value,onInput:j,onPaste:$,onChange:H,onBlur:V,onFocus:b.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=D,!0===_.value&&(t.onKeydown=C),!0===e.autogrow&&(t.onAnimationend=U),t})),F=(0,n.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:w.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===P.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function N(){(0,E.jd)((()=>{const e=document.activeElement;null===y.value||y.value===e||null!==e&&e.id===R.targetUid.value||y.value.focus({preventScroll:!0})}))}function M(){null!==y.value&&y.value.select()}function $(r){if(!0===_.value&&!0!==e.reverseFillMask){const e=r.target;k(e,e.selectionStart,e.selectionEnd)}t("paste",r)}function j(r){if(!r||!r.target)return;if("file"===e.type)return void t("update:modelValue",r.target.files);const i=r.target.value;if(!0!==r.target.qComposing){if(!0===_.value)x(i,!1,r.inputType);else if(B(i),!0===O.value&&r.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=r.target;void 0!==e&&void 0!==t&&(0,n.Y3)((()=>{r.target===document.activeElement&&0===i.indexOf(r.target.value)&&r.target.setSelectionRange(e,t)}))}!0===e.autogrow&&q()}else l.value=i}function U(e){t("animationend",e),q()}function B(r,i){d=()=>{h=null,"number"!==e.type&&!0===l.hasOwnProperty("value")&&delete l.value,e.modelValue!==r&&f!==r&&(f=r,!0===i&&(c=!0),t("update:modelValue",r),(0,n.Y3)((()=>{f===r&&(f=NaN)}))),d=void 0},"number"===e.type&&(u=!0,l.value=r),void 0!==e.debounce?(null!==h&&clearTimeout(h),l.value=r,h=setTimeout(d,e.debounce)):d()}function q(){requestAnimationFrame((()=>{const e=y.value;if(null!==e){const t=e.parentNode.style,{overflow:r}=e.style;!0!==s.platform.is.firefox&&(e.style.overflow="hidden"),t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",e.style.overflow=r,t.marginBottom=""}}))}function H(e){D(e),null!==h&&(clearTimeout(h),h=null),void 0!==d&&d(),t("change",e.target.value)}function V(t){void 0!==t&&(0,b.sT)(t),null!==h&&(clearTimeout(h),h=null),void 0!==d&&d(),u=!1,c=!1,delete l.value,"file"!==e.type&&setTimeout((()=>{null!==y.value&&(y.value.value=void 0!==T.value?T.value:"")}))}function K(){return!0===l.hasOwnProperty("value")?l.value:void 0!==T.value?T.value:""}(0,n.YP)((()=>e.type),(()=>{y.value&&(y.value.value=e.modelValue)})),(0,n.YP)((()=>e.modelValue),(t=>{if(!0===_.value){if(!0===c&&(c=!1,String(t)===f))return;x(t)}else T.value!==t&&(T.value=t,"number"===e.type&&!0===l.hasOwnProperty("value")&&(!0===u?u=!1:delete l.value));!0===e.autogrow&&(0,n.Y3)(q)})),(0,n.YP)((()=>e.autogrow),(e=>{!0===e?(0,n.Y3)(q):null!==y.value&&r.rows>0&&(y.value.style.height="auto")})),(0,n.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,n.Y3)(q)})),(0,n.Jd)((()=>{V()})),(0,n.bv)((()=>{!0===e.autogrow&&q()})),Object.assign(R,{innerValue:T,fieldClass:(0,n.Fl)((()=>"q-"+(!0===P.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,n.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:y,emitValue:B,hasValue:L,floatingLabel:(0,n.Fl)((()=>!0===L.value||(0,o.yV)(e.displayValue))),getControl:()=>(0,n.h)(!0===P.value?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...F.value,...I.value,..."file"!==e.type?{value:K()}:A.value}),getShadowControl:()=>(0,n.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===P.value?"":" text-no-wrap")},[(0,n.h)("span",{class:"invisible"},K()),(0,n.h)("span",e.shadowText)])});const G=(0,o.ZP)(R);return Object.assign(a,{focus:N,select:M,getNativeElement:()=>y.value}),(0,S.g)(a,"nativeEl",(()=>y.value)),G}})},3414:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});r(2031);var n=r(3673),i=r(1959),o=r(2236),a=r(7277),s=r(908),l=r(7657),u=r(4716),c=r(1436);const d=(0,s.L)({name:"QItem",props:{...o.S,...a.$,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:r}){const{proxy:{$q:s}}=(0,n.FN)(),d=(0,o.Z)(e,s),{hasLink:f,linkAttrs:h,linkClass:p,linkTag:v,navigateOnClick:m}=(0,a.Z)(),g=(0,i.iH)(null),y=(0,i.iH)(null),b=(0,n.Fl)((()=>!0===e.clickable||!0===f.value||"label"===e.tag)),E=(0,n.Fl)((()=>!0!==e.disable&&!0===b.value)),S=(0,n.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===d.value?" q-item--dark":"")+(!0===f.value&&null===e.active?p.value:!0===e.active?" q-item--active"+(void 0!==e.activeClass?` ${e.activeClass}`:""):"")+(!0===e.disable?" disabled":"")+(!0===E.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),w=(0,n.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===s.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function T(e){!0===E.value&&(null!==y.value&&(!0!==e.qKeyEvent&&document.activeElement===g.value?y.value.focus():document.activeElement===y.value&&g.value.focus()),m(e))}function _(e){if(!0===E.value&&!0===(0,c.So)(e,13)){(0,u.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,g.value.dispatchEvent(t)}r("keyup",e)}function k(){const e=(0,l.Bl)(t.default,[]);return!0===E.value&&e.unshift((0,n.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),e}return()=>{const t={ref:g,class:S.value,style:w.value,role:"listitem",onClick:T,onKeyup:_};return!0===E.value?(t.tabindex=e.tabindex||"0",Object.assign(t,h.value)):!0===b.value&&(t["aria-disabled"]="true"),(0,n.h)(v.value,t,k())}}})},2035:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(3673),i=r(908),o=r(7657);const a=(0,i.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const r=(0,n.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,n.h)("div",{class:r.value},(0,o.KR)(t.default))}})},7011:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(908),o=r(2236),a=r(7657);const s=(0,i.L)({name:"QList",props:{...o.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const r=(0,n.FN)(),i=(0,o.Z)(e,r.proxy.$q),s=(0,n.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===i.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,n.h)(e.tag,{class:s.value},(0,a.KR)(t.default))}})},3066:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(3673),i=r(1959),o=r(4688),a=(r(3610),r(908)),s=r(8400),l=r(4716);const{passive:u}=l.rU,c=["both","horizontal","vertical"],d=(0,a.L)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>c.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,o,a=null;function c(){null!==a&&a();const n=Math.max(0,(0,s.u3)(i)),o=(0,s.OI)(i),l={top:n-r.position.top,left:o-r.position.left};if("vertical"===e.axis&&0===l.top||"horizontal"===e.axis&&0===l.left)return;const u=Math.abs(l.top)>=Math.abs(l.left)?l.top<0?"up":"down":l.left<0?"left":"right";r.position={top:n,left:o},r.directionChanged=r.direction!==u,r.delta=l,!0===r.directionChanged&&(r.direction=u,r.inflectionPoint=r.position),t("scroll",{...r})}function d(){i=(0,s.b0)(o,e.scrollTarget),i.addEventListener("scroll",h,u),h(!0)}function f(){void 0!==i&&(i.removeEventListener("scroll",h,u),i=void 0)}function h(t){if(!0===t||0===e.debounce||"0"===e.debounce)c();else if(null===a){const[t,r]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];a=()=>{r(t),a=null}}}(0,n.YP)((()=>e.scrollTarget),(()=>{f(),d()}));const{proxy:p}=(0,n.FN)();return(0,n.YP)((()=>p.$q.lang.rtl),c),(0,n.bv)((()=>{o=p.$el.parentNode,d()})),(0,n.Jd)((()=>{null!==a&&a(),f()})),Object.assign(p,{trigger:h,getPosition:()=>r}),l.ZT}});var f=r(5151),h=r(7657),p=r(2547);const v=(0,a.L)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:r}){const{proxy:{$q:a}}=(0,n.FN)(),l=(0,i.iH)(null),u=(0,i.iH)(a.screen.height),c=(0,i.iH)(!0===e.container?0:a.screen.width),v=(0,i.iH)({position:0,direction:"down",inflectionPoint:0}),m=(0,i.iH)(0),g=(0,i.iH)(!0===o.uX.value?0:(0,s.np)()),y=(0,n.Fl)((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),b=(0,n.Fl)((()=>!1===e.container?{minHeight:a.screen.height+"px"}:null)),E=(0,n.Fl)((()=>0!==g.value?{[!0===a.lang.rtl?"left":"right"]:`${g.value}px`}:null)),S=(0,n.Fl)((()=>0!==g.value?{[!0===a.lang.rtl?"right":"left"]:0,[!0===a.lang.rtl?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null));function w(t){if(!0===e.container||!0!==document.qScrollPrevented){const n={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};v.value=n,void 0!==e.onScroll&&r("scroll",n)}}function T(t){const{height:n,width:i}=t;let o=!1;u.value!==n&&(o=!0,u.value=n,void 0!==e.onScrollHeight&&r("scrollHeight",n),k()),c.value!==i&&(o=!0,c.value=i),!0===o&&void 0!==e.onResize&&r("resize",t)}function _({height:e}){m.value!==e&&(m.value=e,k())}function k(){if(!0===e.container){const e=u.value>m.value?(0,s.np)():0;g.value!==e&&(g.value=e)}}let x=null;const C={instances:{},view:(0,n.Fl)((()=>e.view)),isContainer:(0,n.Fl)((()=>e.container)),rootRef:l,height:u,containerHeight:m,scrollbarWidth:g,totalWidth:(0,n.Fl)((()=>c.value+g.value)),rows:(0,n.Fl)((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:(0,i.qj)({size:0,offset:0,space:!1}),right:(0,i.qj)({size:300,offset:0,space:!1}),footer:(0,i.qj)({size:0,offset:0,space:!1}),left:(0,i.qj)({size:300,offset:0,space:!1}),scroll:v,animate(){null!==x?clearTimeout(x):document.body.classList.add("q-body--layout-animate"),x=setTimeout((()=>{x=null,document.body.classList.remove("q-body--layout-animate")}),155)},update(e,t,r){C[e][t]=r}};if((0,n.JJ)(p.YE,C),(0,s.np)()>0){let A=null;const L=document.body;function D(){A=null,L.classList.remove("hide-scrollbar")}function R(){if(null===A){if(L.scrollHeight>a.screen.height)return;L.classList.add("hide-scrollbar")}else clearTimeout(A);A=setTimeout(D,300)}function P(e){null!==A&&"remove"===e&&(clearTimeout(A),D()),window[`${e}EventListener`]("resize",R)}(0,n.YP)((()=>!0!==e.container?"add":"remove"),P),!0!==e.container&&P("add"),(0,n.Ah)((()=>{P("remove")}))}return()=>{const r=(0,h.vs)(t.default,[(0,n.h)(d,{onScroll:w}),(0,n.h)(f.Z,{onResize:T})]),i=(0,n.h)("div",{class:y.value,style:b.value,ref:!0===e.container?void 0:l,tabindex:-1},r);return!0===e.container?(0,n.h)("div",{class:"q-layout-container overflow-hidden",ref:l},[(0,n.h)(f.Z,{onResize:_}),(0,n.h)("div",{class:"absolute-full",style:E.value},[(0,n.h)("div",{class:"scroll",style:S.value},[i])])]):i}}})},3430:(e,t,r)=>{"use strict";r.d(t,{Z:()=>K});var n=r(3673),i=r(1959),o=r(8880),a=r(4688);function s(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==a.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}var l=r(4716),u=r(1436);const c={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function d({showing:e,avoidEmit:t,configureAnchorEl:r}){const{props:o,proxy:a,emit:c}=(0,n.FN)(),d=(0,i.iH)(null);let f=null;function h(e){return null!==d.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const p={};function v(){(0,l.ul)(p,"anchor")}function m(e){d.value=e;while(d.value.classList.contains("q-anchor--skip"))d.value=d.value.parentNode;r()}function g(){if(!1===o.target||""===o.target||null===a.$el.parentNode)d.value=null;else if(!0===o.target)m(a.$el.parentNode);else{let t=o.target;if("string"===typeof o.target)try{t=document.querySelector(o.target)}catch(e){t=void 0}void 0!==t&&null!==t?(d.value=t.$el||t,r()):(d.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return void 0===r&&(Object.assign(p,{hide(e){a.hide(e)},toggle(e){a.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,u.So)(e,13)&&p.toggle(e)},contextClick(e){a.hide(e),(0,l.X$)(e),(0,n.Y3)((()=>{a.show(e),e.qAnchorHandled=!0}))},prevent:l.X$,mobileTouch(e){if(p.mobileCleanup(e),!0!==h(e))return;a.hide(e),d.value.classList.add("non-selectable");const t=e.target;(0,l.M0)(p,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),f=setTimeout((()=>{f=null,a.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){d.value.classList.remove("non-selectable"),null!==f&&(clearTimeout(f),f=null),!0===e.value&&void 0!==t&&s()}}),r=function(e=o.contextMenu){if(!0===o.noParentEvent||null===d.value)return;let t;t=!0===e?!0===a.$q.platform.is.mobile?[[d.value,"touchstart","mobileTouch","passive"]]:[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],(0,l.M0)(p,"anchor",t)}),(0,n.YP)((()=>o.contextMenu),(e=>{null!==d.value&&(v(),r(e))})),(0,n.YP)((()=>o.target),(()=>{null!==d.value&&v(),g()})),(0,n.YP)((()=>o.noParentEvent),(e=>{null!==d.value&&(!0===e?v():r())})),(0,n.bv)((()=>{g(),!0!==t&&!0===o.modelValue&&null===d.value&&c("update:modelValue",!1)})),(0,n.Jd)((()=>{null!==f&&clearTimeout(f),v()})),{anchorEl:d,canShow:h,anchorEvents:p}}function f(e,t){const r=(0,i.iH)(null);let o;function a(e,t){const r=(void 0!==t?"add":"remove")+"EventListener",n=void 0!==t?t:o;e!==window&&e[r]("scroll",n,l.rU.passive),window[r]("scroll",n,l.rU.passive),o=t}function s(){null!==r.value&&(a(r.value),r.value=null)}const u=(0,n.YP)((()=>e.noParentEvent),(()=>{null!==r.value&&(s(),t())}));return(0,n.Jd)(u),{localScrollTarget:r,unconfigureScrollTarget:s,changeScrollEvent:a}}var h=r(3628),p=r(2236),v=r(9104),m=r(6104),g=r(416),y=r(4955),b=r(908),E=r(4312),S=r(8400),w=r(7657),T=r(4704),_=r(8517),k=r(2012);r(5663);let x=null;const{notPassiveCapture:C}=l.rU,A=[];function L(e){null!==x&&(clearTimeout(x),x=null);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let r=E.Q$.length-1;while(r>=0){const e=E.Q$[r].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;r--}for(let n=A.length-1;n>=0;n--){const r=A[n];if(null!==r.anchorEl.value&&!1!==r.anchorEl.value.contains(t)||t!==document.body&&(null===r.innerRef.value||!1!==r.innerRef.value.contains(t)))return;e.qClickOutside=!0,r.onClickOutside(e)}}function D(e){A.push(e),1===A.length&&(document.addEventListener("mousedown",L,C),document.addEventListener("touchstart",L,C))}function R(e){const t=A.findIndex((t=>t===e));t>-1&&(A.splice(t,1),0===A.length&&(null!==x&&(clearTimeout(x),x=null),document.removeEventListener("mousedown",L,C),document.removeEventListener("touchstart",L,C)))}var P=r(230);r(3610);let O,I;function F(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function N(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const M={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function $(e,t){const r=e.split(" ");return{vertical:r[0],horizontal:M[`${r[1]}#${!0===t?"rtl":"ltr"}`]}}function j(e,t){let{top:r,left:n,right:i,bottom:o,width:a,height:s}=e.getBoundingClientRect();return void 0!==t&&(r-=t[1],n-=t[0],o+=t[1],i+=t[0],a+=t[0],s+=t[1]),{top:r,bottom:o,height:s,left:n,right:i,width:a,middle:n+(i-n)/2,center:r+(o-r)/2}}function U(e,t,r){let{top:n,left:i}=e.getBoundingClientRect();return n+=t.top,i+=t.left,void 0!==r&&(n+=r[1],i+=r[0]),{top:n,bottom:n+1,height:1,left:i,right:i+1,width:1,middle:i,center:n}}function B(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function q(e,t,r){return{top:e[r.anchorOrigin.vertical]-t[r.selfOrigin.vertical],left:e[r.anchorOrigin.horizontal]-t[r.selfOrigin.horizontal]}}function H(e){if(!0===a.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:r}=window.visualViewport;t!==O&&(e.setProperty("--q-pe-left",t+"px"),O=t),r!==I&&(e.setProperty("--q-pe-top",r+"px"),I=r)}const{scrollLeft:t,scrollTop:r}=e.el,n=void 0===e.absoluteOffset?j(e.anchorEl,!0===e.cover?[0,0]:e.offset):U(e.anchorEl,e.absoluteOffset,e.offset);let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(i.minWidth=n.width+"px",!0===e.cover&&(i.minHeight=n.height+"px")),Object.assign(e.el.style,i);const o=B(e.el);let s=q(n,o,e);if(void 0===e.absoluteOffset||void 0===e.offset)V(s,n,o,e.anchorOrigin,e.selfOrigin);else{const{top:t,left:r}=s;V(s,n,o,e.anchorOrigin,e.selfOrigin);let i=!1;if(s.top!==t){i=!0;const t=2*e.offset[1];n.center=n.top-=t,n.bottom-=t+2}if(s.left!==r){i=!0;const t=2*e.offset[0];n.middle=n.left-=t,n.right-=t+2}!0===i&&(s=q(n,o,e),V(s,n,o,e.anchorOrigin,e.selfOrigin))}i={top:s.top+"px",left:s.left+"px"},void 0!==s.maxHeight&&(i.maxHeight=s.maxHeight+"px",n.height>s.maxHeight&&(i.minHeight=i.maxHeight)),void 0!==s.maxWidth&&(i.maxWidth=s.maxWidth+"px",n.width>s.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==t&&(e.el.scrollLeft=t)}function V(e,t,r,n,i){const o=r.bottom,a=r.right,s=(0,S.np)(),l=window.innerHeight-s,u=document.body.clientWidth;if(e.top<0||e.top+o>l)if("center"===i.vertical)e.top=t[n.vertical]>l/2?Math.max(0,l-o):0,e.maxHeight=Math.min(o,l);else if(t[n.vertical]>l/2){const r=Math.min(l,"center"===n.vertical?t.center:n.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,r),e.top=Math.max(0,r-o)}else e.top=Math.max(0,"center"===n.vertical?t.center:n.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,l-e.top);if(e.left<0||e.left+a>u)if(e.maxWidth=Math.min(a,u),"middle"===i.horizontal)e.left=t[n.horizontal]>u/2?Math.max(0,u-a):0;else if(t[n.horizontal]>u/2){const r=Math.min(u,"middle"===n.horizontal?t.middle:n.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(a,r),e.left=Math.max(0,r-e.maxWidth)}else e.left=Math.max(0,"middle"===n.horizontal?t.middle:n.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(a,u-e.left)}["left","middle","right"].forEach((e=>{M[`${e}#ltr`]=e,M[`${e}#rtl`]=e}));const K=(0,b.L)({name:"QMenu",inheritAttrs:!1,props:{...c,...h.vr,...p.S,...m.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:F},self:{type:String,validator:F},offset:{type:Array,validator:N},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...h.gH,"click","escapeKey"],setup(e,{slots:t,emit:r,attrs:a}){let s,u,c,b=null;const x=(0,n.FN)(),{proxy:C}=x,{$q:A}=C,L=(0,i.iH)(null),O=(0,i.iH)(!1),I=(0,n.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),F=(0,p.Z)(e,A),{registerTick:N,removeTick:M}=(0,g.Z)(),{registerTimeout:j}=(0,y.Z)(),{transitionProps:U,transitionStyle:B}=(0,m.Z)(e),{localScrollTarget:q,changeScrollEvent:V,unconfigureScrollTarget:K}=f(e,le),{anchorEl:G,canShow:z}=d({showing:O}),{hide:W}=(0,h.ZP)({showing:O,canShow:z,handleShow:oe,handleHide:ae,hideOnRouteChange:I,processOnMount:!0}),{showPortal:Y,hidePortal:Z,renderPortal:X}=(0,v.Z)(x,L,he,"menu"),J={anchorEl:G,innerRef:L,onClickOutside(t){if(!0!==e.persistent&&!0===O.value)return W(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,l.NS)(t),!0}},Q=(0,n.Fl)((()=>$(e.anchor||(!0===e.cover?"center middle":"bottom start"),A.lang.rtl))),ee=(0,n.Fl)((()=>!0===e.cover?Q.value:$(e.self||"top start",A.lang.rtl))),te=(0,n.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===F.value?" q-menu--dark q-dark":""))),re=(0,n.Fl)((()=>!0===e.autoClose?{onClick:ue}:{})),ne=(0,n.Fl)((()=>!0===O.value&&!0!==e.persistent));function ie(){(0,P.jd)((()=>{let e=L.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||e.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function oe(t){if(b=!1===e.noRefocus?document.activeElement:null,(0,_.i)(ce),Y(),le(),s=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,l.FK)(t);if(void 0!==e.left){const{top:t,left:r}=G.value.getBoundingClientRect();s={left:e.left-r,top:e.top-t}}}void 0===u&&(u=(0,n.YP)((()=>A.screen.width+"|"+A.screen.height+"|"+e.self+"|"+e.anchor+"|"+A.lang.rtl),fe)),!0!==e.noFocus&&document.activeElement.blur(),N((()=>{fe(),!0!==e.noFocus&&ie()})),j((()=>{!0===A.platform.is.ios&&(c=e.autoClose,L.value.click()),fe(),Y(!0),r("show",t)}),e.transitionDuration)}function ae(t){M(),Z(),se(!0),null===b||void 0!==t&&!0===t.qClickOutside||(((t&&0===t.type.indexOf("key")?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),j((()=>{Z(!0),r("hide",t)}),e.transitionDuration)}function se(e){s=void 0,void 0!==u&&(u(),u=void 0),!0!==e&&!0!==O.value||((0,_.H)(ce),K(),R(J),(0,T.k)(de)),!0!==e&&(b=null)}function le(){null===G.value&&void 0===e.scrollTarget||(q.value=(0,S.b0)(G.value,e.scrollTarget),V(q.value,fe))}function ue(e){!0!==c?((0,E.AH)(C,e),r("click",e)):c=!1}function ce(t){!0===ne.value&&!0!==e.noFocus&&!0!==(0,k.mY)(L.value,t.target)&&ie()}function de(e){r("escapeKey"),W(e)}function fe(){const t=L.value;null!==t&&null!==G.value&&H({el:t,offset:e.offset,anchorEl:G.value,anchorOrigin:Q.value,selfOrigin:ee.value,absoluteOffset:s,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function he(){return(0,n.h)(o.uT,U.value,(()=>!0===O.value?(0,n.h)("div",{role:"menu",...a,ref:L,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,a.class],style:[a.style,B.value],...re.value},(0,w.KR)(t.default)):null))}return(0,n.YP)(ne,(e=>{!0===e?((0,T.c)(de),D(J)):((0,T.k)(de),R(J))})),(0,n.Jd)(se),Object.assign(C,{focus:ie,updatePosition:fe}),X}})},4379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(908),o=r(7657),a=r(2547);const s=(0,i.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:r}}=(0,n.FN)(),i=(0,n.f3)(a.YE,a.qO);if(i===a.qO)return console.error("QPage needs to be a deep child of QLayout"),a.qO;const s=(0,n.f3)(a.Mw,a.qO);if(s===a.qO)return console.error("QPage needs to be child of QPageContainer"),a.qO;const l=(0,n.Fl)((()=>{const t=(!0===i.header.space?i.header.size:0)+(!0===i.footer.space?i.footer.size:0);if("function"===typeof e.styleFn){const n=!0===i.isContainer.value?i.containerHeight.value:r.screen.height;return e.styleFn(t,n)}return{minHeight:!0===i.isContainer.value?i.containerHeight.value-t+"px":0===r.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":r.screen.height-t+"px"}})),u=(0,n.Fl)((()=>"q-page"+(!0===e.padding?" q-layout-padding":"")));return()=>(0,n.h)("main",{class:u.value,style:l.value},(0,o.KR)(t.default))}})},2652:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(908),o=r(7657),a=r(2547);const s=(0,i.L)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:r}}=(0,n.FN)(),i=(0,n.f3)(a.YE,a.qO);if(i===a.qO)return console.error("QPageContainer needs to be child of QLayout"),a.qO;(0,n.JJ)(a.Mw,!0);const s=(0,n.Fl)((()=>{const e={};return!0===i.header.space&&(e.paddingTop=`${i.header.size}px`),!0===i.right.space&&(e["padding"+(!0===r.lang.rtl?"Left":"Right")]=`${i.right.size}px`),!0===i.footer.space&&(e.paddingBottom=`${i.footer.size}px`),!0===i.left.space&&(e["padding"+(!0===r.lang.rtl?"Right":"Left")]=`${i.left.size}px`),e}));return()=>(0,n.h)("div",{class:"q-page-container",style:s.value},(0,o.KR)(t.default))}})},5151:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(3673),i=r(1959),o=r(4688);function a(){const e=(0,i.iH)(!o.uX.value);return!1===e.value&&(0,n.bv)((()=>{e.value=!0})),e}var s=r(908),l=r(4716);const u="undefined"!==typeof ResizeObserver,c=!0===u?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},d=(0,s.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let r,i=null,o={width:-1,height:-1};function s(t){!0===t||0===e.debounce||"0"===e.debounce?d():null===i&&(i=setTimeout(d,e.debounce))}function d(){if(null!==i&&(clearTimeout(i),i=null),r){const{offsetWidth:e,offsetHeight:n}=r;e===o.width&&n===o.height||(o={width:e,height:n},t("resize",o))}}const{proxy:f}=(0,n.FN)();if(!0===u){let h;const p=e=>{r=f.$el.parentNode,r?(h=new ResizeObserver(s),h.observe(r),d()):!0!==e&&(0,n.Y3)((()=>{p(!0)}))};return(0,n.bv)((()=>{p()})),(0,n.Jd)((()=>{null!==i&&clearTimeout(i),void 0!==h&&(void 0!==h.disconnect?h.disconnect():r&&h.unobserve(r))})),l.ZT}{const v=a();let m;function g(){null!==i&&(clearTimeout(i),i=null),void 0!==m&&(void 0!==m.removeEventListener&&m.removeEventListener("resize",s,l.rU.passive),m=void 0)}function y(){g(),r&&r.contentDocument&&(m=r.contentDocument.defaultView,m.addEventListener("resize",s,l.rU.passive),d())}return(0,n.bv)((()=>{(0,n.Y3)((()=>{r=f.$el,r&&y()}))})),(0,n.Jd)(g),f.trigger=s,()=>{if(!0===v.value)return(0,n.h)("object",{style:c.style,tabindex:-1,type:"text/html",data:c.url,"aria-hidden":"true",onLoad:y})}}}})},8877:(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});r(3610),r(5663);var n=r(3673),i=r(1959),o=r(1572),a=r(908);const s=(0,a.L)({name:"QField",inheritAttrs:!1,props:o.Cl,emits:o.HJ,setup(){return(0,o.ZP)((0,o.tL)())}});var l=r(4554),u=r(6489),c=r(2236),d=r(2417),f=r(4716),h=r(7657);const p={xs:8,sm:10,md:14,lg:20,xl:24},v=(0,a.L)({name:"QChip",props:{...c.S,...d.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:r}){const{proxy:{$q:i}}=(0,n.FN)(),o=(0,c.Z)(e,i),a=(0,d.ZP)(e,p),s=(0,n.Fl)((()=>!0===e.selected||void 0!==e.icon)),v=(0,n.Fl)((()=>!0===e.selected?e.iconSelected||i.iconSet.chip.selected:e.icon)),m=(0,n.Fl)((()=>e.iconRemove||i.iconSet.chip.remove)),g=(0,n.Fl)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),y=(0,n.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===g.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===o.value?" q-chip--dark q-dark":"")})),b=(0,n.Fl)((()=>{const t=!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},r={...t,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:t,remove:r}}));function E(e){13===e.keyCode&&S(e)}function S(t){e.disable||(r("update:selected",!e.selected),r("click",t))}function w(t){void 0!==t.keyCode&&13!==t.keyCode||((0,f.NS)(t),!1===e.disable&&(r("update:modelValue",!1),r("remove")))}function T(){const r=[];!0===g.value&&r.push((0,n.h)("div",{class:"q-focus-helper"})),!0===s.value&&r.push((0,n.h)(l.Z,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const i=void 0!==e.label?[(0,n.h)("div",{class:"ellipsis"},[e.label])]:void 0;return r.push((0,n.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,h.pf)(t.default,i))),e.iconRight&&r.push((0,n.h)(l.Z,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&r.push((0,n.h)(l.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...b.value.remove,onClick:w,onKeyup:w})),r}return()=>{if(!1===e.modelValue)return;const t={class:y.value,style:a.value};return!0===g.value&&Object.assign(t,b.value.chip,{onClick:S,onKeyup:E}),(0,h.Jl)("div",t,T(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[u.Z,e.ripple]]))}}});var m=r(3414),g=r(2035);const y=(0,a.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const r=(0,n.Fl)((()=>parseInt(e.lines,10))),i=(0,n.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===r.value?" ellipsis":""))),o=(0,n.Fl)((()=>void 0!==e.lines&&r.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":r.value}:null));return()=>(0,n.h)("div",{style:o.value,class:i.value},(0,h.KR)(t.default))}});var b=r(3430),E=r(5926),S=r(9405);let w=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,w=e.scrollLeft>=0,e.remove()}const T=1e3,_=["start","center","end","start-force","center-force","end-force"],k=Array.prototype.filter,x=void 0===window.getComputedStyle(document.body).overflowAnchor?f.ZT:function(e,t){null!==e&&(void 0!==e._qOverflowAnimationFrame&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===e)return;e._qOverflowAnimationFrame=void 0;const r=e.children||[];k.call(r,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const n=r[t];n&&n.dataset&&(n.dataset.qVsAnchor="")})))};function C(e,t){return e+t}function A(e,t,r,n,i,o,a,s){const l=e===window?document.scrollingElement||document.documentElement:e,u=!0===i?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(!0===i?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,!0===o&&(c.scrollStart=(!0===w?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),null!==r)for(let d=r.previousElementSibling;null!==d;d=d.previousElementSibling)!1===d.classList.contains("q-virtual-scroll--skip")&&(c.offsetStart+=d[u]);if(null!==n)for(let d=n.nextElementSibling;null!==d;d=d.nextElementSibling)!1===d.classList.contains("q-virtual-scroll--skip")&&(c.offsetEnd+=d[u]);if(t!==e){const r=l.getBoundingClientRect(),n=t.getBoundingClientRect();!0===i?(c.offsetStart+=n.left-r.left,c.offsetEnd-=n.width):(c.offsetStart+=n.top-r.top,c.offsetEnd-=n.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function L(e,t,r,n){"end"===t&&(t=(e===window?document.body:e)[!0===r?"scrollWidth":"scrollHeight"]),e===window?!0===r?(!0===n&&(t=(!0===w?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===r?(!0===n&&(t=(!0===w?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function D(e,t,r,n){if(r>=n)return 0;const i=t.length,o=Math.floor(r/T),a=Math.floor((n-1)/T)+1;let s=e.slice(o,a).reduce(C,0);return r%T!==0&&(s-=t.slice(o*T,r).reduce(C,0)),n%T!==0&&n!==i&&(s-=t.slice(n,a*T).reduce(C,0)),s}const R={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},P=(Object.keys(R),{virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...R});function O({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:r,virtualScrollItemSizeComputed:o}){const a=(0,n.FN)(),{props:s,emit:l,proxy:u}=a,{$q:c}=u;let d,f,h,p,v=[];const m=(0,i.iH)(0),g=(0,i.iH)(0),y=(0,i.iH)({}),b=(0,i.iH)(null),E=(0,i.iH)(null),w=(0,i.iH)(null),R=(0,i.iH)({from:0,to:0}),P=(0,n.Fl)((()=>void 0!==s.tableColspan?s.tableColspan:100));void 0===o&&(o=(0,n.Fl)((()=>s.virtualScrollItemSize)));const O=(0,n.Fl)((()=>o.value+";"+s.virtualScrollHorizontal)),I=(0,n.Fl)((()=>O.value+";"+s.virtualScrollSliceRatioBefore+";"+s.virtualScrollSliceRatioAfter));function F(){q(f,!0)}function N(e){q(void 0===e?f:e)}function M(n,i){const o=t();if(void 0===o||null===o||8===o.nodeType)return;const a=A(o,r(),b.value,E.value,s.virtualScrollHorizontal,c.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd);h!==a.scrollViewSize&&H(a.scrollViewSize),j(o,a,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,_.indexOf(i)>-1?i:f>-1&&n>f?"end":"start")}function $(){const n=t();if(void 0===n||null===n||8===n.nodeType)return;const i=A(n,r(),b.value,E.value,s.virtualScrollHorizontal,c.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd),o=e.value-1,a=i.scrollMaxSize-i.offsetStart-i.offsetEnd-g.value;if(d===i.scrollStart)return;if(i.scrollMaxSize<=0)return void j(n,i,0,0);h!==i.scrollViewSize&&H(i.scrollViewSize),U(R.value.from);const l=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(p[o],i.scrollViewSize/2));if(l>0&&Math.ceil(i.scrollStart)>=l)return void j(n,i,o,i.scrollMaxSize-i.offsetEnd-v.reduce(C,0));let u=0,f=i.scrollStart-i.offsetStart,y=f;if(f<=a&&f+i.scrollViewSize>=m.value)f-=m.value,u=R.value.from,y=f;else for(let e=0;f>=v[e]&&u<o;e++)f-=v[e],u+=T;while(f>0&&u<o)f-=p[u],f>-i.scrollViewSize?(u++,y=f):y=p[u]+f;j(n,i,u,y)}function j(t,r,n,i,o){const a="string"===typeof o&&o.indexOf("-force")>-1,l=!0===a?o.replace("-force",""):o,u=void 0!==l?l:"start";let f=Math.max(0,n-y.value[u]),h=f+y.value.total;h>e.value&&(h=e.value,f=Math.max(0,h-y.value.total)),d=r.scrollStart;const b=f!==R.value.from||h!==R.value.to;if(!1===b&&void 0===l)return void K(n);const{activeElement:E}=document,S=w.value;!0===b&&null!==S&&S!==E&&!0===S.contains(E)&&(S.addEventListener("focusout",B),setTimeout((()=>{null!==S&&S.removeEventListener("focusout",B)}))),x(S,n-f);const T=void 0!==l?p.slice(f,n).reduce(C,0):0;if(!0===b){const t=h>=R.value.from&&f<=R.value.to?R.value.to:h;R.value={from:f,to:t},m.value=D(v,p,0,f),g.value=D(v,p,h,e.value),requestAnimationFrame((()=>{R.value.to!==h&&d===r.scrollStart&&(R.value={from:R.value.from,to:h},g.value=D(v,p,h,e.value))}))}requestAnimationFrame((()=>{if(d!==r.scrollStart)return;!0===b&&U(f);const e=p.slice(f,n).reduce(C,0),o=e+r.offsetStart+m.value,u=o+p[n];let h=o+i;if(void 0!==l){const t=e-T,i=r.scrollStart+t;h=!0!==a&&i<o&&u<i+r.scrollViewSize?i:"end"===l?u-r.scrollViewSize:o-("start"===l?0:Math.round((r.scrollViewSize-p[n])/2))}d=h,L(t,h,s.virtualScrollHorizontal,c.lang.rtl),K(n)}))}function U(e){const t=w.value;if(t){const r=k.call(t.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),n=r.length,i=!0===s.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let o,a,l=e;for(let e=0;e<n;){o=i(r[e]),e++;while(e<n&&!0===r[e].classList.contains("q-virtual-scroll--with-prev"))o+=i(r[e]),e++;a=o-p[l],0!==a&&(p[l]+=a,v[Math.floor(l/T)]+=a),l++}}}function B(){null!==w.value&&void 0!==w.value&&w.value.focus()}function q(t,r){const i=1*o.value;!0!==r&&!1!==Array.isArray(p)||(p=[]);const a=p.length;p.length=e.value;for(let n=e.value-1;n>=a;n--)p[n]=i;const s=Math.floor((e.value-1)/T);v=[];for(let n=0;n<=s;n++){let t=0;const r=Math.min((n+1)*T,e.value);for(let e=n*T;e<r;e++)t+=p[e];v.push(t)}f=-1,d=void 0,m.value=D(v,p,0,R.value.from),g.value=D(v,p,R.value.to,e.value),t>=0?(U(R.value.from),(0,n.Y3)((()=>{M(t)}))):G()}function H(e){if(void 0===e&&"undefined"!==typeof window){const n=t();void 0!==n&&null!==n&&8!==n.nodeType&&(e=A(n,r(),b.value,E.value,s.virtualScrollHorizontal,c.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd).scrollViewSize)}h=e;const n=parseFloat(s.virtualScrollSliceRatioBefore)||0,i=parseFloat(s.virtualScrollSliceRatioAfter)||0,a=1+n+i,l=void 0===e||e<=0?1:Math.ceil(e/o.value),u=Math.max(1,l,Math.ceil((s.virtualScrollSliceSize>0?s.virtualScrollSliceSize:10)/a));y.value={total:Math.ceil(u*a),start:Math.ceil(u*n),center:Math.ceil(u*(.5+n)),end:Math.ceil(u*(1+n)),view:l}}function V(e,t){const r=!0===s.virtualScrollHorizontal?"width":"height",i={["--q-virtual-scroll-item-"+r]:o.value+"px"};return["tbody"===e?(0,n.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:b},[(0,n.h)("tr",[(0,n.h)("td",{style:{[r]:`${m.value}px`,...i},colspan:P.value})])]):(0,n.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:b,style:{[r]:`${m.value}px`,...i}}),(0,n.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:w,tabindex:-1},t.flat()),"tbody"===e?(0,n.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:E},[(0,n.h)("tr",[(0,n.h)("td",{style:{[r]:`${g.value}px`,...i},colspan:P.value})])]):(0,n.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[r]:`${g.value}px`,...i}})]}function K(e){f!==e&&(void 0!==s.onVirtualScroll&&l("virtualScroll",{index:e,from:R.value.from,to:R.value.to-1,direction:e<f?"decrease":"increase",ref:u}),f=e)}(0,n.YP)(I,(()=>{H()})),(0,n.YP)(O,F),H();const G=(0,S.Z)($,!0===c.platform.is.ios?120:35);(0,n.wF)((()=>{H()}));let z=!1;return(0,n.se)((()=>{z=!0})),(0,n.dl)((()=>{if(!0!==z)return;const e=t();void 0!==d&&void 0!==e&&null!==e&&8!==e.nodeType?L(e,d,s.virtualScrollHorizontal,c.lang.rtl):M(f)})),(0,n.Jd)((()=>{G.cancel()})),Object.assign(u,{scrollTo:M,reset:F,refresh:N}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:H,onVirtualScrollEvt:G,localResetVirtualScroll:q,padVirtualScroll:V,scrollTo:M,reset:F,refresh:N}}var I=r(9550),F=r(839),N=r(2162),M=r(2130),$=r(1436);const j=e=>["add","add-unique","toggle"].includes(e),U=".*+?^${}()|[]\\",B=Object.keys(o.Cl),q=(0,a.L)({name:"QSelect",inheritAttrs:!1,props:{...P,...I.Fz,...o.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:j},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...o.HJ,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:r}){const{proxy:a}=(0,n.FN)(),{$q:u}=a,c=(0,i.iH)(!1),d=(0,i.iH)(!1),p=(0,i.iH)(-1),S=(0,i.iH)(""),w=(0,i.iH)(!1),T=(0,i.iH)(!1);let _,k,x,C,A,L,D,R=null,P=null;const q=(0,i.iH)(null),H=(0,i.iH)(null),V=(0,i.iH)(null),K=(0,i.iH)(null),G=(0,i.iH)(null),z=(0,I.Do)(e),W=(0,F.Z)(Ye),Y=(0,n.Fl)((()=>Array.isArray(e.options)?e.options.length:0)),Z=(0,n.Fl)((()=>void 0===e.virtualScrollItemSize?!0===e.optionsDense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:X,virtualScrollSliceSizeComputed:J,localResetVirtualScroll:Q,padVirtualScroll:ee,onVirtualScrollEvt:te,scrollTo:re,setVirtualScrollSize:ne}=O({virtualScrollLength:Y,getVirtualScrollTarget:Ke,getVirtualScrollEl:Ve,virtualScrollItemSizeComputed:Z}),ie=(0,o.tL)(),oe=(0,n.Fl)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,r=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const n=!0===e.mapOptions&&void 0!==_?_:[],i=r.map((e=>Ne(e,n)));return null===e.modelValue&&!0===t?i.filter((e=>null!==e)):i}return r})),ae=(0,n.Fl)((()=>{const t={};return B.forEach((r=>{const n=e[r];void 0!==n&&(t[r]=n)})),t})),se=(0,n.Fl)((()=>null===e.optionsDark?ie.isDark.value:e.optionsDark)),le=(0,n.Fl)((()=>(0,o.yV)(oe.value))),ue=(0,n.Fl)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===oe.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),ce=(0,n.Fl)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),de=(0,n.Fl)((()=>0===Y.value)),fe=(0,n.Fl)((()=>oe.value.map((e=>ke.value(e))).join(", "))),he=(0,n.Fl)((()=>void 0!==e.displayValue?e.displayValue:fe.value)),pe=(0,n.Fl)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),ve=(0,n.Fl)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||oe.value.some(pe.value)))),me=(0,n.Fl)((()=>!0===ie.focused.value?e.tabindex:-1)),ge=(0,n.Fl)((()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":!0===e.readonly?"true":"false","aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===c.value?"true":"false","aria-controls":`${ie.targetUid.value}_lb`};return p.value>=0&&(t["aria-activedescendant"]=`${ie.targetUid.value}_${p.value}`),t})),ye=(0,n.Fl)((()=>({id:`${ie.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"}))),be=(0,n.Fl)((()=>oe.value.map(((e,t)=>({index:t,opt:e,html:pe.value(e),selected:!0,removeAtIndex:Re,toggleOption:Oe,tabindex:me.value}))))),Ee=(0,n.Fl)((()=>{if(0===Y.value)return[];const{from:t,to:r}=X.value;return e.options.slice(t,r).map(((r,n)=>{const i=!0===xe.value(r),o=t+n,a={clickable:!0,active:!1,activeClass:Te.value,manualFocus:!0,focused:!1,disable:i,tabindex:-1,dense:e.optionsDense,dark:se.value,role:"option",id:`${ie.targetUid.value}_${o}`,onClick:()=>{Oe(r)}};return!0!==i&&(!0===$e(r)&&(a.active=!0),p.value===o&&(a.focused=!0),a["aria-selected"]=!0===a.active?"true":"false",!0===u.platform.is.desktop&&(a.onMousemove=()=>{!0===c.value&&Ie(o)})),{index:o,opt:r,html:pe.value(r),label:ke.value(r),selected:a.active,focused:a.focused,toggleOption:Oe,setOptionIndex:Ie,itemProps:a}}))})),Se=(0,n.Fl)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:u.iconSet.arrow.dropdown)),we=(0,n.Fl)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),Te=(0,n.Fl)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),_e=(0,n.Fl)((()=>Me(e.optionValue,"value"))),ke=(0,n.Fl)((()=>Me(e.optionLabel,"label"))),xe=(0,n.Fl)((()=>Me(e.optionDisable,"disable"))),Ce=(0,n.Fl)((()=>oe.value.map((e=>_e.value(e))))),Ae=(0,n.Fl)((()=>{const e={onInput:Ye,onChange:W,onKeydown:He,onKeyup:Be,onKeypress:qe,onFocus:je,onClick(e){!0===k&&(0,f.sT)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=W,e}));function Le(t){return!0===e.emitValue?_e.value(t):t}function De(t){if(t>-1&&t<oe.value.length)if(!0===e.multiple){const n=e.modelValue.slice();r("remove",{index:t,value:n.splice(t,1)[0]}),r("update:modelValue",n)}else r("update:modelValue",null)}function Re(e){De(e),ie.focus()}function Pe(t,n){const i=Le(t);if(!0!==e.multiple)return!0===e.fillInput&&Xe(ke.value(t),!0,!0),void r("update:modelValue",i);if(0===oe.value.length)return r("add",{index:0,value:i}),void r("update:modelValue",!0===e.multiple?[i]:i);if(!0===n&&!0===$e(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const o=e.modelValue.slice();r("add",{index:o.length,value:i}),o.push(i),r("update:modelValue",o)}function Oe(t,n){if(!0!==ie.editable.value||void 0===t||!0===xe.value(t))return;const i=_e.value(t);if(!0!==e.multiple)return!0!==n&&(Xe(!0===e.fillInput?ke.value(t):"",!0,!0),ct()),null!==H.value&&H.value.focus(),void(0!==oe.value.length&&!0===(0,N.xb)(_e.value(oe.value[0]),i)||r("update:modelValue",!0===e.emitValue?i:t));if((!0!==k||!0===w.value)&&ie.focus(),je(),0===oe.value.length){const n=!0===e.emitValue?i:t;return r("add",{index:0,value:n}),void r("update:modelValue",!0===e.multiple?[n]:n)}const o=e.modelValue.slice(),a=Ce.value.findIndex((e=>(0,N.xb)(e,i)));if(a>-1)r("remove",{index:a,value:o.splice(a,1)[0]});else{if(void 0!==e.maxValues&&o.length>=e.maxValues)return;const n=!0===e.emitValue?i:t;r("add",{index:o.length,value:n}),o.push(n)}r("update:modelValue",o)}function Ie(e){if(!0!==u.platform.is.desktop)return;const t=e>-1&&e<Y.value?e:-1;p.value!==t&&(p.value=t)}function Fe(t=1,r){if(!0===c.value){let n=p.value;do{n=(0,M.Uz)(n+t,-1,Y.value-1)}while(-1!==n&&n!==p.value&&!0===xe.value(e.options[n]));p.value!==n&&(Ie(n),re(n),!0!==r&&!0===e.useInput&&!0===e.fillInput&&Ze(n>=0?ke.value(e.options[n]):C))}}function Ne(t,r){const n=e=>(0,N.xb)(_e.value(e),t);return e.options.find(n)||r.find(n)||t}function Me(e,t){const r=void 0!==e?e:t;return"function"===typeof r?r:e=>null!==e&&"object"===typeof e&&r in e?e[r]:e}function $e(e){const t=_e.value(e);return void 0!==Ce.value.find((e=>(0,N.xb)(e,t)))}function je(t){!0===e.useInput&&null!==H.value&&(void 0===t||H.value===t.target&&t.target.value===fe.value)&&H.value.select()}function Ue(e){!0===(0,$.So)(e,27)&&!0===c.value&&((0,f.sT)(e),ct(),dt()),r("keyup",e)}function Be(t){const{value:r}=t.target;if(void 0===t.keyCode)if(t.target.value="",null!==R&&(clearTimeout(R),R=null),dt(),"string"===typeof r&&r.length>0){const t=r.toLocaleLowerCase(),n=r=>{const n=e.options.find((e=>r.value(e).toLocaleLowerCase()===t));return void 0!==n&&(-1===oe.value.indexOf(n)?Oe(n):ct(),!0)},i=e=>{!0!==n(_e)&&!0!==n(ke)&&!0!==e&&Je(r,!0,(()=>i(!0)))};i()}else ie.clearValue(t);else Ue(t)}function qe(e){r("keypress",e)}function He(t){if(r("keydown",t),!0===(0,$.Wm)(t))return;const i=S.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),o=!0!==t.shiftKey&&!0!==e.multiple&&(p.value>-1||!0===i);if(27===t.keyCode)return void(0,f.X$)(t);if(9===t.keyCode&&!1===o)return void lt();if(void 0===t.target||t.target.id!==ie.targetUid.value)return;if(40===t.keyCode&&!0!==ie.innerLoading.value&&!1===c.value)return(0,f.NS)(t),void ut();if(8===t.keyCode&&!0!==e.hideSelected&&0===S.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?De(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&r("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof S.value&&0!==S.value.length||((0,f.NS)(t),p.value=-1,Fe(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===J.value||((0,f.NS)(t),p.value=Math.max(-1,Math.min(Y.value,p.value+(33===t.keyCode?-1:1)*J.value.view)),Fe(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,f.NS)(t),Fe(38===t.keyCode?-1:1,e.multiple));const a=Y.value;if((void 0===L||D<Date.now())&&(L=""),a>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&!1===t.altKey&&!1===t.ctrlKey&&!1===t.metaKey&&(32!==t.keyCode||L.length>0)){!0!==c.value&&ut(t);const r=t.key.toLocaleLowerCase(),i=1===L.length&&L[0]===r;D=Date.now()+1500,!1===i&&((0,f.NS)(t),L+=r);const o=new RegExp("^"+L.split("").map((e=>U.indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let s=p.value;if(!0===i||s<0||!0!==o.test(ke.value(e.options[s])))do{s=(0,M.Uz)(s+1,-1,a-1)}while(s!==p.value&&(!0===xe.value(e.options[s])||!0!==o.test(ke.value(e.options[s]))));p.value!==s&&(0,n.Y3)((()=>{Ie(s),re(s),s>=0&&!0===e.useInput&&!0===e.fillInput&&Ze(ke.value(e.options[s]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===L||9===t.keyCode&&!1!==o)if(9!==t.keyCode&&(0,f.NS)(t),p.value>-1&&p.value<a)Oe(e.options[p.value]);else{if(!0===i){const t=(t,r)=>{if(r){if(!0!==j(r))return}else r=e.newValueMode;if(void 0===t||null===t)return;Xe("",!0!==e.multiple,!0);const n="toggle"===r?Oe:Pe;n(t,"add-unique"===r),!0!==e.multiple&&(null!==H.value&&H.value.focus(),ct())};if(void 0!==e.onNewValue?r("newValue",S.value,t):t(S.value),!0!==e.multiple)return}!0===c.value?lt():!0!==ie.innerLoading.value&&ut()}}function Ve(){return!0===k?G.value:null!==V.value&&null!==V.value.contentEl?V.value.contentEl:void 0}function Ke(){return Ve()}function Ge(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?be.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?be.value.map(((t,r)=>(0,n.h)(v,{key:"option-"+r,removable:!0===ie.editable.value&&!0!==xe.value(t.opt),dense:!0,textColor:e.color,tabindex:me.value,onRemove(){t.removeAtIndex(r)}},(()=>(0,n.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:ke.value(t.opt)}))))):[(0,n.h)("span",{[!0===ve.value?"innerHTML":"textContent"]:he.value})]}function ze(){if(!0===de.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:S.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,n.h)(m.Z,{key:e.index,...e.itemProps},(()=>(0,n.h)(g.Z,(()=>(0,n.h)(y,(()=>(0,n.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let r=ee("div",Ee.value.map(e));return void 0!==t["before-options"]&&(r=t["before-options"]().concat(r)),(0,h.vs)(t["after-options"],r)}function We(t,r){const i=!0===r?{...ge.value,...ie.splitAttrs.attributes.value}:void 0,o={ref:!0===r?H:void 0,key:"i_t",class:ue.value,style:e.inputStyle,value:void 0!==S.value?S.value:"",type:"search",...i,id:!0===r?ie.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0===t||!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...Ae.value};return!0!==t&&!0===k&&(!0===Array.isArray(o.class)?o.class=[...o.class,"no-pointer-events"]:o.class+=" no-pointer-events"),(0,n.h)("input",o)}function Ye(t){null!==R&&(clearTimeout(R),R=null),t&&t.target&&!0===t.target.qComposing||(Ze(t.target.value||""),x=!0,C=S.value,!0===ie.focused.value||!0===k&&!0!==w.value||ie.focus(),void 0!==e.onFilter&&(R=setTimeout((()=>{R=null,Je(S.value)}),e.inputDebounce)))}function Ze(e){S.value!==e&&(S.value=e,r("inputValue",e))}function Xe(t,r,n){x=!0!==n,!0===e.useInput&&(Ze(t),!0!==r&&!0===n||(C=t),!0!==r&&Je(t))}function Je(t,i,o){if(void 0===e.onFilter||!0!==i&&!0!==ie.focused.value)return;!0===ie.innerLoading.value?r("filterAbort"):(ie.innerLoading.value=!0,T.value=!0),""!==t&&!0!==e.multiple&&oe.value.length>0&&!0!==x&&t===ke.value(oe.value[0])&&(t="");const s=setTimeout((()=>{!0===c.value&&(c.value=!1)}),10);null!==P&&clearTimeout(P),P=s,r("filter",t,((e,t)=>{!0!==i&&!0!==ie.focused.value||P!==s||(clearTimeout(P),"function"===typeof e&&e(),T.value=!1,(0,n.Y3)((()=>{ie.innerLoading.value=!1,!0===ie.editable.value&&(!0===i?!0===c.value&&ct():!0===c.value?ft(!0):c.value=!0),"function"===typeof t&&(0,n.Y3)((()=>{t(a)})),"function"===typeof o&&(0,n.Y3)((()=>{o(a)}))})))}),(()=>{!0===ie.focused.value&&P===s&&(clearTimeout(P),ie.innerLoading.value=!1,T.value=!1),!0===c.value&&(c.value=!1)}))}function Qe(){return(0,n.h)(b.Z,{ref:V,class:ce.value,style:e.popupContentStyle,modelValue:c.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==de.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:se.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:we.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ye.value,onScrollPassive:te,onBeforeShow:vt,onBeforeHide:et,onShow:tt},ze)}function et(e){mt(e),lt()}function tt(){ne()}function rt(e){(0,f.sT)(e),null!==H.value&&H.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function nt(e){(0,f.sT)(e),(0,n.Y3)((()=>{w.value=!1}))}function it(){const r=[(0,n.h)(s,{class:`col-auto ${ie.fieldClass.value}`,...ae.value,for:ie.targetUid.value,dark:se.value,square:!0,loading:T.value,itemAligned:!1,filled:!0,stackLabel:S.value.length>0,...ie.splitAttrs.listeners.value,onFocus:rt,onBlur:nt},{...t,rawControl:()=>ie.getControl(!0),before:void 0,after:void 0})];return!0===c.value&&r.push((0,n.h)("div",{ref:G,class:ce.value+" scroll",style:e.popupContentStyle,...ye.value,onClick:f.X$,onScrollPassive:te},ze())),(0,n.h)(E.Z,{ref:K,modelValue:d.value,position:!0===e.useInput?"top":void 0,transitionShow:A,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:vt,onBeforeHide:ot,onHide:at,onShow:st},(()=>(0,n.h)("div",{class:"q-select__dialog"+(!0===se.value?" q-select__dialog--dark q-dark":"")+(!0===w.value?" q-select__dialog--focused":"")},r)))}function ot(e){mt(e),null!==K.value&&K.value.__updateRefocusTarget(ie.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),ie.focused.value=!1}function at(e){ct(),!1===ie.focused.value&&r("blur",e),dt()}function st(){const e=document.activeElement;null!==e&&e.id===ie.targetUid.value||null===H.value||H.value===e||H.value.focus(),ne()}function lt(){!0!==d.value&&(p.value=-1,!0===c.value&&(c.value=!1),!1===ie.focused.value&&(null!==P&&(clearTimeout(P),P=null),!0===ie.innerLoading.value&&(r("filterAbort"),ie.innerLoading.value=!1,T.value=!1)))}function ut(r){!0===ie.editable.value&&(!0===k?(ie.onControlFocusin(r),d.value=!0,(0,n.Y3)((()=>{ie.focus()}))):ie.focus(),void 0!==e.onFilter?Je(S.value):!0===de.value&&void 0===t["no-option"]||(c.value=!0))}function ct(){d.value=!1,lt()}function dt(){!0===e.useInput&&Xe(!0!==e.multiple&&!0===e.fillInput&&oe.value.length>0&&ke.value(oe.value[0])||"",!0,!0)}function ft(t){let r=-1;if(!0===t){if(oe.value.length>0){const t=_e.value(oe.value[0]);r=e.options.findIndex((e=>(0,N.xb)(_e.value(e),t)))}Q(r)}Ie(r)}function ht(e,t){!0===c.value&&!1===ie.innerLoading.value&&(Q(-1,!0),(0,n.Y3)((()=>{!0===c.value&&!1===ie.innerLoading.value&&(e>t?Q():ft(!0))})))}function pt(){!1===d.value&&null!==V.value&&V.value.updatePosition()}function vt(e){void 0!==e&&(0,f.sT)(e),r("popupShow",e),ie.hasPopupOpen=!0,ie.onControlFocusin(e)}function mt(e){void 0!==e&&(0,f.sT)(e),r("popupHide",e),ie.hasPopupOpen=!1,ie.onControlFocusout(e)}function gt(){k=(!0===u.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===de.value))),A=!0===u.platform.is.ios&&!0===k&&!0===e.useInput?"fade":e.transitionShow}return(0,n.YP)(oe,(t=>{_=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==ie.innerLoading.value&&(!0!==d.value&&!0!==c.value||!0!==le.value)&&(!0!==x&&dt(),!0!==d.value&&!0!==c.value||Je(""))}),{immediate:!0}),(0,n.YP)((()=>e.fillInput),dt),(0,n.YP)(c,ft),(0,n.YP)(Y,ht),(0,n.Xn)(gt),(0,n.ic)(pt),gt(),(0,n.Jd)((()=>{null!==R&&clearTimeout(R)})),Object.assign(a,{showPopup:ut,hidePopup:ct,removeAtIndex:De,add:Pe,toggleOption:Oe,getOptionIndex:()=>p.value,setOptionIndex:Ie,moveOptionSelection:Fe,filter:Je,updateMenuPosition:pt,updateInputValue:Xe,isOptionSelected:$e,getEmittingOptionValue:Le,isOptionDisabled:(...e)=>!0===xe.value.apply(null,e),getOptionValue:(...e)=>_e.value.apply(null,e),getOptionLabel:(...e)=>ke.value.apply(null,e)}),Object.assign(ie,{innerValue:oe,fieldClass:(0,n.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:q,targetRef:H,hasValue:le,showPopup:ut,floatingLabel:(0,n.Fl)((()=>!0!==e.hideSelected&&!0===le.value||"number"===typeof S.value||S.value.length>0||(0,o.yV)(e.displayValue))),getControlChild:()=>{if(!1!==ie.editable.value&&(!0===d.value||!0!==de.value||void 0!==t["no-option"]))return!0===k?it():Qe();!0===ie.hasPopupOpen&&(ie.hasPopupOpen=!1)},controlEvents:{onFocusin(e){ie.onControlFocusin(e)},onFocusout(e){ie.onControlFocusout(e,(()=>{dt(),lt()}))},onClick(e){if((0,f.X$)(e),!0!==k&&!0===c.value)return lt(),void(null!==H.value&&H.value.focus());ut(e)}},getControl:t=>{const r=Ge(),i=!0===t||!0!==d.value||!0!==k;if(!0===e.useInput)r.push(We(t,i));else if(!0===ie.editable.value){const o=!0===i?ge.value:void 0;r.push((0,n.h)("input",{ref:!0===i?H:void 0,key:"d_t",class:"q-select__focus-target",id:!0===i?ie.targetUid.value:void 0,value:he.value,readonly:!0,"data-autofocus":!0===t||!0===e.autofocus||void 0,...o,onKeydown:He,onKeyup:Ue,onKeypress:qe})),!0===i&&"string"===typeof e.autocomplete&&e.autocomplete.length>0&&r.push((0,n.h)("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Be}))}if(void 0!==z.value&&!0!==e.disable&&Ce.value.length>0){const t=Ce.value.map((e=>(0,n.h)("option",{value:e,selected:!0})));r.push((0,n.h)("select",{class:"hidden",name:z.value,multiple:e.multiple},t))}const o=!0===e.useInput||!0!==i?void 0:ie.splitAttrs.attributes.value;return(0,n.h)("div",{class:"q-field__native row items-center",...o},r)},getInnerAppend:()=>!0!==e.loading&&!0!==T.value&&!0!==e.hideDropdownIcon?[(0,n.h)(l.Z,{class:"q-select__dropdown-icon"+(!0===c.value?" rotate-180":""),name:Se.value})]:null}),(0,o.ZP)(ie)}})},5869:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(3673),i=r(2236),o=r(908);const a={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},s={xs:2,sm:4,md:8,lg:16,xl:24},l=(0,o.L)({name:"QSeparator",props:{...i.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,n.FN)(),r=(0,i.Z)(e,t.proxy.$q),o=(0,n.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),l=(0,n.Fl)((()=>` q-separator--${o.value}`)),u=(0,n.Fl)((()=>!1!==e.inset?`${l.value}-${a[e.inset]}`:"")),c=(0,n.Fl)((()=>`q-separator${l.value}${u.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===r.value?" q-separator--dark":""))),d=(0,n.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const r=!0===e.spaced?`${s.md}px`:e.spaced in s?`${s[e.spaced]}px`:e.spaced,n=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${n[0]}`]=t[`margin${n[1]}`]=r}return t}));return()=>(0,n.h)("hr",{class:c.value,style:d.value,"aria-orientation":o.value})}})},4103:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u});r(3610);var n=r(3673),i=r(2236),o=r(908),a=r(7657);const s=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],l=["wave","pulse","pulse-x","pulse-y","fade","blink","none"],u=(0,o.L)({name:"QSkeleton",props:{...i.S,tag:{type:String,default:"div"},type:{type:String,validator:e=>s.includes(e),default:"rect"},animation:{type:String,validator:e=>l.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const r=(0,n.FN)(),o=(0,i.Z)(e,r.proxy.$q),s=(0,n.Fl)((()=>{const t=void 0!==e.size?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:t[0],height:t[1]}})),l=(0,n.Fl)((()=>`q-skeleton q-skeleton--${!0===o.value?"dark":"light"} q-skeleton--type-${e.type}`+("none"!==e.animation?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(!0===e.square?" q-skeleton--square":"")+(!0===e.bordered?" q-skeleton--bordered":"")));return()=>(0,n.h)(e.tag,{class:l.value,style:s.value},(0,a.KR)(t.default))}})},6833:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(3673),i=r(4633),o=r(908);const a=(0,o.L)({name:"QSpinner",props:{...i.G,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:r}=(0,i.Z)(e);return()=>(0,n.h)("svg",{class:r.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,n.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},5314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3673),i=r(4633),o=r(908);const a=[(0,n.h)("path",{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"},[(0,n.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"})]),(0,n.h)("path",{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"},[(0,n.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"})]),(0,n.h)("path",{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"},[(0,n.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"})]),(0,n.h)("path",{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"},[(0,n.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"})])],s=(0,o.L)({name:"QSpinnerPie",props:i.G,setup(e){const{cSize:t,classes:r}=(0,i.Z)(e);return()=>(0,n.h)("svg",{class:r.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},a)}})},4633:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,Z:()=>a});var n=r(3673),i=r(2417);const o={size:{type:[Number,String],default:"1em"},color:String};function a(e){return{cSize:(0,n.Fl)((()=>e.size in i.Ok?`${i.Ok[e.size]}px`:e.size)),classes:(0,n.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}},9570:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(3673),i=r(908),o=r(7657);const a=(0,i.L)({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const r=(0,n.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===e.inset?" q-toolbar--inset":"")));return()=>(0,n.h)("div",{class:r.value,role:"toolbar"},(0,o.KR)(t.default))}})},3747:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(3673),i=r(908),o=r(7657);const a=(0,i.L)({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const r=(0,n.Fl)((()=>"q-toolbar__title ellipsis"+(!0===e.shrink?" col-shrink":"")));return()=>(0,n.h)("div",{class:r.value},(0,o.KR)(t.default))}})},9992:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,jO:()=>a});r(3610);var n=r(3673);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(i),a={align:{type:String,validator:e=>o.includes(e)}};function s(e){return(0,n.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},2236:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,Z:()=>o});var n=r(3673);const i={dark:{type:Boolean,default:null}};function o(e,t){return(0,n.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},1572:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>j,yV:()=>F,HJ:()=>M,Cl:()=>N,tL:()=>$});r(5663);var n=r(3673),i=r(1959),o=r(8880),a=r(4688),s=r(4554),l=r(6833),u=r(2236),c=(r(3610),r(2547));function d({validate:e,resetValidation:t,requiresQForm:r}){const i=(0,n.f3)(c.vh,!1);if(!1!==i){const{props:r,proxy:o}=(0,n.FN)();Object.assign(o,{validate:e,resetValidation:t}),(0,n.YP)((()=>r.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(o)):i.bindComponent(o)})),(0,n.bv)((()=>{!0!==r.disable&&i.bindComponent(o)})),(0,n.Jd)((()=>{!0!==r.disable&&i.unbindComponent(o)}))}else!0===r&&console.error("Parent QForm not found on useFormChild()!")}const f=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,h=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,v=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,m=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,g={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>f.test(e),hexaColor:e=>h.test(e),hexOrHexaColor:e=>p.test(e),rgbColor:e=>v.test(e),rgbaColor:e=>m.test(e),rgbOrRgbaColor:e=>v.test(e)||m.test(e),hexOrRgbColor:e=>f.test(e)||v.test(e),hexaOrRgbaColor:e=>h.test(e)||m.test(e),anyColor:e=>p.test(e)||v.test(e)||m.test(e)};var y=r(9405),b=r(9085);const E=[!0,!1,"ondemand"],S={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>E.includes(e)}};function w(e,t){const{props:r,proxy:o}=(0,n.FN)(),a=(0,i.iH)(!1),s=(0,i.iH)(null),l=(0,i.iH)(null);d({validate:E,resetValidation:m});let u,c=0;const f=(0,n.Fl)((()=>void 0!==r.rules&&null!==r.rules&&r.rules.length>0)),h=(0,n.Fl)((()=>!0!==r.disable&&!0===f.value)),p=(0,n.Fl)((()=>!0===r.error||!0===a.value)),v=(0,n.Fl)((()=>"string"===typeof r.errorMessage&&r.errorMessage.length>0?r.errorMessage:s.value));function m(){c++,t.value=!1,l.value=null,a.value=!1,s.value=null,w.cancel()}function E(e=r.modelValue){if(!0!==h.value)return!0;const n=++c,i=!0!==t.value?()=>{l.value=!0}:()=>{},o=(e,r)=>{!0===e&&i(),a.value=e,s.value=r||null,t.value=!1},u=[];for(let t=0;t<r.rules.length;t++){const n=r.rules[t];let i;if("function"===typeof n?i=n(e,g):"string"===typeof n&&void 0!==g[n]&&(i=g[n](e)),!1===i||"string"===typeof i)return o(!0,i),!1;!0!==i&&void 0!==i&&u.push(i)}return 0===u.length?(o(!1),!0):(t.value=!0,Promise.all(u).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return n===c&&o(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return n===c&&o(void 0!==t,t),void 0===t}),(e=>(n===c&&(console.error(e),o(!0)),!1))))}function S(e){!0===h.value&&"ondemand"!==r.lazyRules&&(!0===l.value||!0!==r.lazyRules&&!0!==e)&&w()}(0,n.YP)((()=>r.modelValue),(()=>{S()})),(0,n.YP)((()=>r.reactiveRules),(e=>{!0===e?void 0===u&&(u=(0,n.YP)((()=>r.rules),(()=>{S(!0)}))):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),(0,n.YP)(e,(e=>{!0===e?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===h.value&&"ondemand"!==r.lazyRules&&!1===t.value&&w())}));const w=(0,y.Z)(E,0);return(0,n.Jd)((()=>{void 0!==u&&u(),w.cancel()})),Object.assign(o,{resetValidation:m,validate:E}),(0,b.g)(o,"hasError",(()=>p.value)),{isDirtyModel:l,hasRules:f,hasError:p,errorMessage:v,validate:E,resetValidation:m}}const T=/^on[A-Z]/;function _(e,t){const r={listeners:(0,i.iH)({}),attributes:(0,i.iH)({})};function o(){const n={},i={};for(const t in e)"class"!==t&&"style"!==t&&!1===T.test(t)&&(n[t]=e[t]);for(const e in t.props)!0===T.test(e)&&(i[e]=t.props[e]);r.attributes.value=n,r.listeners.value=i}return(0,n.Xn)(o),o(),r}var k=r(7657);r(5123),r(4331),r(7648);let x,C=0;const A=new Array(256);for(let U=0;U<256;U++)A[U]=(U+256).toString(16).substring(1);const L=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const r=new Uint8Array(t);return e.getRandomValues(r),r}}return e=>{const t=[];for(let r=e;r>0;r--)t.push(Math.floor(256*Math.random()));return t}})(),D=4096;function R(){(void 0===x||C+16>D)&&(C=0,x=L(D));const e=Array.prototype.slice.call(x,C,C+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,A[e[0]]+A[e[1]]+A[e[2]]+A[e[3]]+"-"+A[e[4]]+A[e[5]]+"-"+A[e[6]]+A[e[7]]+"-"+A[e[8]]+A[e[9]]+"-"+A[e[10]]+A[e[11]]+A[e[12]]+A[e[13]]+A[e[14]]+A[e[15]]}var P=r(4716),O=r(230);function I(e){return void 0===e?`f_${R()}`:e}function F(e){return void 0!==e&&null!==e&&(""+e).length>0}const N={...u.S,...S,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},M=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function $(){const{props:e,attrs:t,proxy:r,vnode:o}=(0,n.FN)(),a=(0,u.Z)(e,r.$q);return{isDark:a,editable:(0,n.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,i.iH)(!1),focused:(0,i.iH)(!1),hasPopupOpen:!1,splitAttrs:_(t,o),targetUid:(0,i.iH)(I(e.for)),rootRef:(0,i.iH)(null),targetRef:(0,i.iH)(null),controlRef:(0,i.iH)(null)}}function j(e){const{props:t,emit:r,slots:i,attrs:u,proxy:c}=(0,n.FN)(),{$q:d}=c;let f=null;void 0===e.hasValue&&(e.hasValue=(0,n.Fl)((()=>F(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{r("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:N,onFocusout:M}),Object.assign(e,{clearValue:$,onControlFocusin:N,onControlFocusout:M,focus:D}),void 0===e.computedCounter&&(e.computedCounter=(0,n.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,r=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==r?" / "+r:"")}})));const{isDirtyModel:h,hasRules:p,hasError:v,errorMessage:m,resetValidation:g}=w(e.focused,e.innerLoading),y=void 0!==e.floatingLabel?(0,n.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,n.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),b=(0,n.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===p.value||!0===t.counter||null!==t.error)),E=(0,n.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),S=(0,n.Fl)((()=>`q-field row no-wrap items-start q-field--${E.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===y.value?" q-field--float":"")+(!0===_.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===v.value?" q-field--error":"")+(!0===v.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===b.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),T=(0,n.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===v.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),_=(0,n.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),x=(0,n.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==v.value?` text-${t.labelColor}`:""))),C=(0,n.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:y.value,modelValue:t.modelValue,emitValue:e.emitValue}))),A=(0,n.Fl)((()=>{const r={for:e.targetUid.value};return!0===t.disable?r["aria-disabled"]="true":!0===t.readonly&&(r["aria-readonly"]="true"),r}));function L(){const t=document.activeElement;let r=void 0!==e.targetRef&&e.targetRef.value;!r||null!==t&&t.id===e.targetUid.value||(!0===r.hasAttribute("tabindex")||(r=r.querySelector("[tabindex]")),r&&r!==t&&r.focus({preventScroll:!0}))}function D(){(0,O.jd)(L)}function R(){(0,O.fP)(L);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function N(t){null!==f&&(clearTimeout(f),f=null),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,r("focus",t))}function M(t,n){null!==f&&clearTimeout(f),f=setTimeout((()=>{f=null,(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,r("blur",t)),void 0!==n&&n())}))}function $(i){if((0,P.NS)(i),!0!==d.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),r("update:modelValue",null),r("clear",t.modelValue),(0,n.Y3)((()=>{g(),!0!==d.platform.is.mobile&&(h.value=!1)}))}function j(){const r=[];return void 0!==i.prepend&&r.push((0,n.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:P.X$},i.prepend())),r.push((0,n.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},U())),!0===v.value&&!1===t.noErrorIcon&&r.push(q("error",[(0,n.h)(s.Z,{name:d.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?r.push(q("inner-loading-append",void 0!==i.loading?i.loading():[(0,n.h)(l.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&r.push(q("inner-clearable-append",[(0,n.h)(s.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||d.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:$})])),void 0!==i.append&&r.push((0,n.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:P.X$},i.append())),void 0!==e.getInnerAppend&&r.push(q("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&r.push(e.getControlChild()),r}function U(){const r=[];return void 0!==t.prefix&&null!==t.prefix&&r.push((0,n.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&r.push(e.getShadowControl()),void 0!==e.getControl?r.push(e.getControl()):void 0!==i.rawControl?r.push(i.rawControl()):void 0!==i.control&&r.push((0,n.h)("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},i.control(C.value))),!0===_.value&&r.push((0,n.h)("div",{class:x.value},(0,k.KR)(i.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&r.push((0,n.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),r.concat((0,k.KR)(i.default))}function B(){let r,a;!0===v.value?null!==m.value?(r=[(0,n.h)("div",{role:"alert"},m.value)],a=`q--slot-error-${m.value}`):(r=(0,k.KR)(i.error),a="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(r=[(0,n.h)("div",t.hint)],a=`q--slot-hint-${t.hint}`):(r=(0,k.KR)(i.hint),a="q--slot-hint"));const s=!0===t.counter||void 0!==i.counter;if(!0===t.hideBottomSpace&&!1===s&&void 0===r)return;const l=(0,n.h)("div",{key:a,class:"q-field__messages col"},r);return(0,n.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale"),onClick:P.X$},[!0===t.hideBottomSpace?l:(0,n.h)(o.uT,{name:"q-transition--field-message"},(()=>l)),!0===s?(0,n.h)("div",{class:"q-field__counter"},void 0!==i.counter?i.counter():e.computedCounter.value):null])}function q(e,t){return null===t?null:(0,n.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}(0,n.YP)((()=>t.for),(t=>{e.targetUid.value=I(t)}));let H=!1;return(0,n.se)((()=>{H=!0})),(0,n.dl)((()=>{!0===H&&!0===t.autofocus&&c.focus()})),(0,n.bv)((()=>{!0===a.uX.value&&void 0===t.for&&(e.targetUid.value=I()),!0===t.autofocus&&c.focus()})),(0,n.Jd)((()=>{null!==f&&clearTimeout(f)})),Object.assign(c,{focus:D,blur:R}),function(){const r=void 0===e.getControl&&void 0===i.control?{...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0,...A.value}:A.value;return(0,n.h)("label",{ref:e.rootRef,class:[S.value,u.class],style:u.style,...r},[void 0!==i.before?(0,n.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:P.X$},i.before()):null,(0,n.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,n.h)("div",{ref:e.controlRef,class:T.value,tabindex:-1,...e.controlEvents},j()),!0===b.value?B():null]),void 0!==i.after?(0,n.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:P.X$},i.after()):null])}}},9550:(e,t,r)=>{"use strict";r.d(t,{Do:()=>o,Fz:()=>i});var n=r(3673);const i={name:String};function o(e){return(0,n.Fl)((()=>e.name||e.for))}},839:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(4688);const i=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,o=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,a=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,s=/[a-z0-9_ -]$/i;function l(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.qComposing)return;t.target.qComposing=!1,e(t)}else if("compositionupdate"===t.type&&!0!==t.target.qComposing&&"string"===typeof t.data){const e=!0===n.Lp.is.firefox?!1===s.test(t.data):!0===i.test(t.data)||!0===o.test(t.data)||!0===a.test(t.data);!0===e&&(t.target.qComposing=!0)}}}},3628:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,gH:()=>a,vr:()=>o});var n=r(3673),i=r(7445);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},a=["beforeShow","show","beforeHide","hide"];function s({showing:e,canShow:t,hideOnRouteChange:r,handleShow:o,handleHide:a,processOnMount:s}){const l=(0,n.FN)(),{props:u,emit:c,proxy:d}=l;let f;function h(t){!0===e.value?m(t):p(t)}function p(e){if(!0===u.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const r=void 0!==u["onUpdate:modelValue"];!0===r&&(c("update:modelValue",!0),f=e,(0,n.Y3)((()=>{f===e&&(f=void 0)}))),null!==u.modelValue&&!1!==r||v(e)}function v(t){!0!==e.value&&(e.value=!0,c("beforeShow",t),void 0!==o?o(t):c("show",t))}function m(e){if(!0===u.disable)return;const t=void 0!==u["onUpdate:modelValue"];!0===t&&(c("update:modelValue",!1),f=e,(0,n.Y3)((()=>{f===e&&(f=void 0)}))),null!==u.modelValue&&!1!==t||g(e)}function g(t){!1!==e.value&&(e.value=!1,c("beforeHide",t),void 0!==a?a(t):c("hide",t))}function y(t){if(!0===u.disable&&!0===t)void 0!==u["onUpdate:modelValue"]&&c("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?v:g;e(f)}}(0,n.YP)((()=>u.modelValue),y),void 0!==r&&!0===(0,i.Rb)(l)&&(0,n.YP)((()=>d.$route.fullPath),(()=>{!0===r.value&&!0===e.value&&m()})),!0===s&&(0,n.bv)((()=>{y(u.modelValue)}));const b={show:p,hide:m,toggle:h};return Object.assign(d,b),b}},9104:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});r(5663);var n=r(1959),i=r(3673),o=(r(4716),r(230)),a=r(8144),s=r(4312),l=r(9085);function u(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function c(e,t,r,c){const d=(0,n.iH)(!1),f=(0,n.iH)(!1);let h=null;const p={},v="dialog"===c&&u(e);function m(t){if(!0===t)return(0,o.xF)(p),void(f.value=!0);f.value=!1,!1===d.value&&(!1===v&&null===h&&(h=(0,a.q_)(!1,c)),d.value=!0,s.Q$.push(e.proxy),(0,o.YX)(p))}function g(t){if(f.value=!1,!0!==t)return;(0,o.xF)(p),d.value=!1;const r=s.Q$.indexOf(e.proxy);-1!==r&&s.Q$.splice(r,1),null!==h&&((0,a.pB)(h),h=null)}return(0,i.Ah)((()=>{g(!0)})),e.proxy.__qPortal=!0,(0,l.g)(e.proxy,"contentEl",(()=>t.value)),{showPortal:m,hidePortal:g,portalIsActive:d,portalIsAccessible:f,renderPortal:()=>!0===v?r():!0===d.value?[(0,i.h)(i.lR,{to:h},r())]:void 0}}},7277:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,Z:()=>f});var n=r(3673),i=r(7445);function o(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function s(e,t){for(const r in t){const n=t[r],i=e[r];if("string"===typeof n){if(n!==i)return!1}else if(!1===Array.isArray(i)||i.length!==n.length||n.some(((e,t)=>e!==i[t])))return!1}return!0}function l(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}function u(e,t){return!0===Array.isArray(e)?l(e,t):!0===Array.isArray(t)?l(t,e):e===t}function c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!1===u(e[r],t[r]))return!1;return!0}const d={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function f({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const r=(0,n.FN)(),{props:l,proxy:u,emit:d}=r,f=(0,i.Rb)(r),h=(0,n.Fl)((()=>!0!==l.disable&&void 0!==l.href)),p=!0===t?(0,n.Fl)((()=>!0===f&&!0!==l.disable&&!0!==h.value&&void 0!==l.to&&null!==l.to&&""!==l.to)):(0,n.Fl)((()=>!0===f&&!0!==h.value&&void 0!==l.to&&null!==l.to&&""!==l.to)),v=(0,n.Fl)((()=>!0===p.value?_(l.to):null)),m=(0,n.Fl)((()=>null!==v.value)),g=(0,n.Fl)((()=>!0===h.value||!0===m.value)),y=(0,n.Fl)((()=>"a"===l.type||!0===g.value?"a":l.tag||e||"div")),b=(0,n.Fl)((()=>!0===h.value?{href:l.href,target:l.target}:!0===m.value?{href:v.value.href,target:l.target}:{})),E=(0,n.Fl)((()=>{if(!1===m.value)return-1;const{matched:e}=v.value,{length:t}=e,r=e[t-1];if(void 0===r)return-1;const n=u.$route.matched;if(0===n.length)return-1;const i=n.findIndex(a.bind(null,r));if(i>-1)return i;const s=o(e[t-2]);return t>1&&o(r)===s&&n[n.length-1].path!==s?n.findIndex(a.bind(null,e[t-2])):i})),S=(0,n.Fl)((()=>!0===m.value&&-1!==E.value&&s(u.$route.params,v.value.params))),w=(0,n.Fl)((()=>!0===S.value&&E.value===u.$route.matched.length-1&&c(u.$route.params,v.value.params))),T=(0,n.Fl)((()=>!0===m.value?!0===w.value?` ${l.exactActiveClass} ${l.activeClass}`:!0===l.exact?"":!0===S.value?` ${l.activeClass}`:"":""));function _(e){try{return u.$router.resolve(e)}catch(t){}return null}function k(e,{returnRouterError:t,to:r=l.to,replace:n=l.replace}={}){if(!0===l.disable)return e.preventDefault(),Promise.resolve(!1);if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||void 0!==e.button&&0!==e.button||"_blank"===l.target)return Promise.resolve(!1);e.preventDefault();const i=u.$router[!0===n?"replace":"push"](r);return!0===t?i:i.then((()=>{})).catch((()=>{}))}function x(e){if(!0===m.value){const t=t=>k(e,t);d("click",e,t),!0!==e.defaultPrevented&&t()}else d("click",e)}return{hasRouterLink:m,hasHrefLink:h,hasLink:g,linkTag:y,resolvedLink:v,linkIsActive:S,linkIsExactActive:w,linkClass:T,linkAttrs:b,getLink:_,navigateToRouterLink:k,navigateOnClick:x}}},2417:(e,t,r)=>{"use strict";r.d(t,{LU:()=>o,Ok:()=>i,ZP:()=>a});var n=r(3673);const i={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function a(e,t=i){return(0,n.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},416:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(3673),i=r(7445);function o(){let e;const t=(0,n.FN)();function r(){e=void 0}return(0,n.se)(r),(0,n.Jd)(r),{removeTick:r,registerTick(r){e=r,(0,n.Y3)((()=>{e===r&&(!1===(0,i.$D)(t)&&e(),e=void 0)}))}}}},4955:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(3673),i=r(7445);function o(){let e=null;const t=(0,n.FN)();function r(){null!==e&&(clearTimeout(e),e=null)}return(0,n.se)(r),(0,n.Jd)(r),{removeTimeout:r,registerTimeout(n,o){r(e),!1===(0,i.$D)(t)&&(e=setTimeout(n,o))}}}},6104:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,Z:()=>o});var n=r(3673);const i={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function o(e,t=(()=>{}),r=(()=>{})){return{transitionProps:(0,n.Fl)((()=>{const n=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||r()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}})),transitionStyle:(0,n.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},6489:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});r(5663);var n=r(908),i=r(2012),o=r(4716),a=r(1436);function s(e,t=250){let r,n=!1;return function(){return!1===n&&(n=!0,setTimeout((()=>{n=!1}),t),r=e.apply(this,arguments)),r}}function l(e,t,r,n){!0===r.modifiers.stop&&(0,o.sT)(e);const a=r.modifiers.color;let s=r.modifiers.center;s=!0===s||!0===n;const l=document.createElement("span"),u=document.createElement("span"),c=(0,o.FK)(e),{left:d,top:f,width:h,height:p}=t.getBoundingClientRect(),v=Math.sqrt(h*h+p*p),m=v/2,g=(h-v)/2+"px",y=s?g:c.left-d-m+"px",b=(p-v)/2+"px",E=s?b:c.top-f-m+"px";u.className="q-ripple__inner",(0,i.iv)(u,{height:`${v}px`,width:`${v}px`,transform:`translate3d(${y},${E},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(a?" text-"+a:""),l.setAttribute("dir","ltr"),l.appendChild(u),t.appendChild(l);const S=()=>{l.remove(),clearTimeout(w)};r.abort.push(S);let w=setTimeout((()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${g},${b},0) scale3d(1,1,1)`,u.style.opacity=.2,w=setTimeout((()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,w=setTimeout((()=>{l.remove(),r.abort.splice(r.abort.indexOf(S),1)}),275)}),250)}),50)}function u(e,{modifiers:t,value:r,arg:n}){const i=Object.assign({},e.cfg.ripple,t,r);e.modifiers={early:!0===i.early,stop:!0===i.stop,center:!0===i.center,color:i.color||n,keyCodes:[].concat(i.keyCodes||13)}}const c=(0,n.f)({name:"ripple",beforeMount(e,t){const r=t.instance.$.appContext.config.globalProperties.$q.config||{};if(!1===r.ripple)return;const n={cfg:r,enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===n.enabled&&!0!==t.qSkipRipple&&t.type===(!0===n.modifiers.early?"pointerdown":"click")&&l(t,e,n,!0===t.qKeyEvent)},keystart:s((t=>{!0===n.enabled&&!0!==t.qSkipRipple&&!0===(0,a.So)(t,n.modifiers.keyCodes)&&t.type==="key"+(!0===n.modifiers.early?"down":"up")&&l(t,e,n,!0)}),300)};u(n,t),e.__qripple=n,(0,o.M0)(n,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const r=e.__qripple;void 0!==r&&(r.enabled=!1!==t.value,!0===r.enabled&&Object(t.value)===t.value&&u(r,t))}},beforeUnmount(e){const t=e.__qripple;void 0!==t&&(t.abort.forEach((e=>{e()})),(0,o.ul)(t,"main"),delete e._qripple)}})},6583:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});r(5663),r(3610);var n=r(4688),i=r(4716);const o=()=>!0;function a(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function s(e){return!0===e.startsWith("#")&&(e=e.substring(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substring(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return o;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(a).map(s)),()=>t.includes(window.location.hash)}const u={__history:[],add:i.ZT,remove:i.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:r}=n.Lp.is;if(!0!==t&&!0!==r)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===r&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=o),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const a=l(Object.assign({backButtonExit:!0},i)),s=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===a()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",s,!1)})):window.Capacitor.Plugins.App.addListener("backButton",s)}}},9409:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(2002),i=r(9085);const o={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},a=(0,n.Z)({iconMapFn:null,__icons:{}},{set(e,t){const r={...e,rtl:!0===e.rtl};r.set=a.set,Object.assign(a.__icons,r)},install({$q:e,iconSet:t,ssrContext:r}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,(0,i.g)(e,"iconMapFn",(()=>this.iconMapFn),(e=>{this.iconMapFn=e})),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||o)}}),s=a},8242:(e,t,r)=>{"use strict";r.d(t,{$:()=>C,Z:()=>D});r(3610);var n=r(8880),i=r(4688),o=(r(5663),r(2002)),a=r(4716),s=r(9405);const l=["sm","md","lg","xl"],{passive:u}=a.rU,c=(0,o.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:a.ZT,setDebounce:a.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:r}=window,n=r||window,o=document.scrollingElement||document.documentElement,a=void 0===r||!0===i.Lp.is.mobile?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[r.width*r.scale+window.innerWidth-o.clientWidth,r.height*r.scale+window.innerHeight-o.clientHeight],c=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const[t,r]=a();if(r!==this.height&&(this.height=r),t!==this.width)this.width=t;else if(!0!==e)return;let n=this.sizes;this.gt.xs=t>=n.sm,this.gt.sm=t>=n.md,this.gt.md=t>=n.lg,this.gt.lg=t>=n.xl,this.lt.sm=t<n.sm,this.lt.md=t<n.md,this.lt.lg=t<n.lg,this.lt.xl=t<n.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,n=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",n!==this.name&&(!0===c&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${n}`)),this.name=n)};let d,f={},h=16;this.setSizes=e=>{l.forEach((t=>{void 0!==e[t]&&(f[t]=e[t])}))},this.setDebounce=e=>{h=e};const p=()=>{const e=getComputedStyle(document.body);e.getPropertyValue("--q-size-sm")&&l.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{l.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==d&&n.removeEventListener("resize",d,u),d=e>0?(0,s.Z)(this.__update,e):this.__update,n.addEventListener("resize",d,u)},this.setDebounce(h),Object.keys(f).length>0?(this.setSizes(f),f=void 0):this.__update(),!0===c&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(p):p()}}),d=(0,o.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){d.mode=e,"auto"===e?(void 0===d.__media&&(d.__media=window.matchMedia("(prefers-color-scheme: dark)"),d.__updateMedia=()=>{d.set("auto")},d.__media.addListener(d.__updateMedia)),e=d.__media.matches):void 0!==d.__media&&(d.__media.removeListener(d.__updateMedia),d.__media=void 0),d.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){d.set(!1===d.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:r}){const{dark:n}=e.config;if(e.dark=this,!0===this.__installed&&void 0===n)return;this.isActive=!0===n;const o=void 0!==n&&n;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},r=this.set;this.set=e,e(o),t.push((()=>{this.set=r,this.set(this.__fromSSR)}))}else this.set(o)}}),f=d;var h=r(6583),p=r(9111);r(6701);function v(e,t,r=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(r instanceof Element))throw new TypeError("Expected a DOM element");r.style.setProperty(`--q-${e}`,t)}var m=r(1436);function g(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function y({is:e,has:t,within:r},n){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=g(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==n[t]&&!1===n[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===r.iframe&&i.push("within-iframe"),i}function b(){const{is:e}=i.Lp,t=document.body.className,r=new Set(t.replace(/ {2}/g," ").split(" "));if(void 0!==i.aG)r.delete("desktop"),r.add("platform-ios"),r.add("mobile");else if(!0!==e.nativeMobile&&!0!==e.electron&&!0!==e.bex)if(!0===e.desktop)r.delete("mobile"),r.delete("platform-ios"),r.delete("platform-android"),r.add("desktop");else if(!0===e.mobile){r.delete("desktop"),r.add("mobile");const t=g(e);void 0!==t?(r.add(`platform-${t}`),r.delete("platform-"+("ios"===t?"android":"ios"))):(r.delete("platform-ios"),r.delete("platform-android"))}!0===i.Lp.has.touch&&(r.delete("no-touch"),r.add("touch")),!0===i.Lp.within.iframe&&r.add("within-iframe");const n=Array.from(r).join(" ");t!==n&&(document.body.className=n)}function E(e){for(const t in e)v(t,e[t])}const S={install(e){if(!0!==this.__installed){if(!0===i.uX.value)b();else{const{$q:t}=e;void 0!==t.config.brand&&E(t.config.brand);const r=y(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,r)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",a.ZT),window.addEventListener("keydown",m.ZK,!0)}}};var w=r(9409),T=r(2547),_=r(5578),k=r(2162);const x=[i.ZP,S,f,c,h.Z,p.Z,w.Z];function C(e,t){const r=(0,n.ri)(e);r.config.globalProperties=t.config.globalProperties;const{reload:i,...o}=t._context;return Object.assign(r._context,o),r}function A(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function L(e,t,r){e.config.globalProperties.$q=r.$q,e.provide(T.Ng,r.$q),A(r,x),void 0!==t.components&&Object.values(t.components).forEach((t=>{!0===(0,k.Kn)(t)&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{!0===(0,k.Kn)(t)&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&A(r,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===x.includes(e)))),!0===i.uX.value&&(r.$q.onSSRHydrated=()=>{r.onSSRHydrated.forEach((e=>{e()})),r.$q.onSSRHydrated=()=>{}})}const D=function(e,t={}){const r={version:"2.11.5"};!1===_.Uf?(void 0!==t.config&&Object.assign(_.w6,t.config),r.config={..._.w6},(0,_.tP)()):r.config=t.config||{},L(e,t,{parentApp:e,$q:r,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})}},9111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(2002);const i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,r)=>e+"-"+t+" of "+r,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const a=(0,n.Z)({__langPack:{}},{getLocale:o,set(e=i,t){const r={...e,rtl:!0===e.rtl,getLocale:o};if(r.set=a.set,void 0===a.__langConfig||!0!==a.__langConfig.noHtmlAttrs){const e=document.documentElement;e.setAttribute("dir",!0===r.rtl?"rtl":"ltr"),e.setAttribute("lang",r.isoName)}Object.assign(a.__langPack,r),a.props=r,a.isoName=r.isoName,a.nativeName=r.nativeName},install({$q:e,lang:t,ssrContext:r}){e.lang=a.__langPack,a.__langConfig=e.config.lang,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),s=a},6417:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});r(3610),r(5663);var n=r(1959),i=r(3673),o=r(8880),a=r(4554),s=r(2417),l=r(908),u=r(7657);const c=(0,l.L)({name:"QAvatar",props:{...s.LU,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const r=(0,s.ZP)(e),n=(0,i.Fl)((()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(!0===e.square?" q-avatar--square":!0===e.rounded?" rounded-borders":""))),o=(0,i.Fl)((()=>e.fontSize?{fontSize:e.fontSize}:null));return()=>{const s=void 0!==e.icon?[(0,i.h)(a.Z,{name:e.icon})]:void 0;return(0,i.h)("div",{class:n.value,style:r.value},[(0,i.h)("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},(0,u.pf)(t.default,s))])}}});var d=r(8240),f=r(6833),h=(r(4716),r(8144)),p=r(8242),v=r(2162);let m=0;const g={},y={},b={},E={},S=/^\s*$/,w=[],T=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],_=["top-left","top-right","bottom-left","bottom-right"],k={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function x(e,t,r){if(!e)return L("parameter required");let i;const o={textColor:"white"};if(!0!==e.ignoreDefaults&&Object.assign(o,g),!1===(0,v.Kn)(e)&&(o.type&&Object.assign(o,k[o.type]),e={message:e}),Object.assign(o,k[e.type||o.type],e),"function"===typeof o.icon&&(o.icon=o.icon(t)),o.spinner?(!0===o.spinner&&(o.spinner=f.Z),o.spinner=(0,n.Xl)(o.spinner)):o.spinner=!1,o.meta={hasMedia:Boolean(!1!==o.spinner||o.icon||o.avatar),hasText:A(o.message)||A(o.caption)},o.position){if(!1===T.includes(o.position))return L("wrong position",e)}else o.position="bottom";if(void 0===o.timeout)o.timeout=5e3;else{const t=parseInt(o.timeout,10);if(isNaN(t)||t<0)return L("wrong timeout",e);o.timeout=t}0===o.timeout?o.progress=!1:!0===o.progress&&(o.meta.progressClass="q-notification__progress"+(o.progressClass?` ${o.progressClass}`:""),o.meta.progressStyle={animationDuration:`${o.timeout+1e3}ms`});const a=(!0===Array.isArray(e.actions)?e.actions:[]).concat(!0!==e.ignoreDefaults&&!0===Array.isArray(g.actions)?g.actions:[]).concat(void 0!==k[e.type]&&!0===Array.isArray(k[e.type].actions)?k[e.type].actions:[]),{closeBtn:s}=o;if(s&&a.push({label:"string"===typeof s?s:t.lang.label.close}),o.actions=a.map((({handler:e,noDismiss:t,...r})=>({flat:!0,...r,onClick:"function"===typeof e?()=>{e(),!0!==t&&l()}:()=>{l()}}))),void 0===o.multiLine&&(o.multiLine=o.actions.length>1),Object.assign(o.meta,{class:"q-notification row items-stretch q-notification--"+(!0===o.multiLine?"multi-line":"standard")+(void 0!==o.color?` bg-${o.color}`:"")+(void 0!==o.textColor?` text-${o.textColor}`:"")+(void 0!==o.classes?` ${o.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(!0===o.multiLine?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(!0===o.multiLine?"":" col"),leftClass:!0===o.meta.hasText?"additional":"single",attrs:{role:"alert",...o.attrs}}),!1===o.group?(o.group=void 0,o.meta.group=void 0):(void 0!==o.group&&!0!==o.group||(o.group=[o.message,o.caption,o.multiline].concat(o.actions.map((e=>`${e.label}*${e.icon}`))).join("|")),o.meta.group=o.group+"|"+o.position),0===o.actions.length?o.actions=void 0:o.meta.actionsClass="q-notification__actions row items-center "+(!0===o.multiLine?"justify-end":"col-auto")+(!0===o.meta.hasMedia?" q-notification__actions--with-media":""),void 0!==r){r.notif.meta.timer&&(clearTimeout(r.notif.meta.timer),r.notif.meta.timer=void 0),o.meta.uid=r.notif.meta.uid;const e=b[o.position].value.indexOf(r.notif);b[o.position].value[e]=o}else{const t=y[o.meta.group];if(void 0===t){if(o.meta.uid=m++,o.meta.badge=1,-1!==["left","right","center"].indexOf(o.position))b[o.position].value.splice(Math.floor(b[o.position].value.length/2),0,o);else{const e=o.position.indexOf("top")>-1?"unshift":"push";b[o.position].value[e](o)}void 0!==o.group&&(y[o.meta.group]=o)}else{if(t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0),void 0!==o.badgePosition){if(!1===_.includes(o.badgePosition))return L("wrong badgePosition",e)}else o.badgePosition="top-"+(o.position.indexOf("left")>-1?"right":"left");o.meta.uid=t.meta.uid,o.meta.badge=t.meta.badge+1,o.meta.badgeClass=`q-notification__badge q-notification__badge--${o.badgePosition}`+(void 0!==o.badgeColor?` bg-${o.badgeColor}`:"")+(void 0!==o.badgeTextColor?` text-${o.badgeTextColor}`:"")+(o.badgeClass?` ${o.badgeClass}`:"");const r=b[o.position].value.indexOf(t);b[o.position].value[r]=y[o.meta.group]=o}}const l=()=>{C(o),i=void 0};return o.timeout>0&&(o.meta.timer=setTimeout((()=>{o.meta.timer=void 0,l()}),o.timeout+1e3)),void 0!==o.group?t=>{void 0!==t?L("trying to update a grouped one which is forbidden",e):l()}:(i={dismiss:l,config:e,notif:o},void 0===r?e=>{if(void 0!==i)if(void 0===e)i.dismiss();else{const r=Object.assign({},i.config,e,{group:!1,position:o.position});x(r,t,i)}}:void Object.assign(r,i))}function C(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=b[e.position].value.indexOf(e);if(-1!==t){void 0!==e.group&&delete y[e.meta.group];const r=w[""+e.meta.uid];if(r){const{width:e,height:t}=getComputedStyle(r);r.style.left=`${r.offsetLeft}px`,r.style.width=e,r.style.height=t}b[e.position].value.splice(t,1),"function"===typeof e.onDismiss&&e.onDismiss()}}function A(e){return void 0!==e&&null!==e&&!0!==S.test(e)}function L(e,t){return console.error(`Notify: ${e}`,t),!1}function D(){return(0,l.L)({name:"QNotifications",devtools:{hide:!0},setup(){return()=>(0,i.h)("div",{class:"q-notifications"},T.map((e=>(0,i.h)(o.W3,{key:e,class:E[e],tag:"div",name:`q-notification--${e}`},(()=>b[e].value.map((e=>{const t=e.meta,r=[];if(!0===t.hasMedia&&(!1!==e.spinner?r.push((0,i.h)(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+t.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?r.push((0,i.h)(a.Z,{class:"q-notification__icon q-notification__icon--"+t.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&r.push((0,i.h)(c,{class:"q-notification__avatar q-notification__avatar--"+t.leftClass},(()=>(0,i.h)("img",{src:e.avatar,"aria-hidden":"true"}))))),!0===t.hasText){let t;const n={class:"q-notification__message col"};if(!0===e.html)n.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const r=[e.message];t=e.caption?[(0,i.h)("div",r),(0,i.h)("div",{class:"q-notification__caption"},[e.caption])]:r}r.push((0,i.h)("div",n,t))}const n=[(0,i.h)("div",{class:t.contentClass},r)];return!0===e.progress&&n.push((0,i.h)("div",{key:`${t.uid}|p|${t.badge}`,class:t.progressClass,style:t.progressStyle})),void 0!==e.actions&&n.push((0,i.h)("div",{class:t.actionsClass},e.actions.map((e=>(0,i.h)(d.Z,e))))),t.badge>1&&n.push((0,i.h)("div",{key:`${t.uid}|${t.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[t.badge])),(0,i.h)("div",{ref:e=>{w[""+t.uid]=e},key:t.uid,class:t.class,...t.attrs},[(0,i.h)("div",{class:t.wrapperClass},n)])})))))))}})}const R={setDefaults(e){!0===(0,v.Kn)(e)&&Object.assign(g,e)},registerType(e,t){!0===(0,v.Kn)(t)&&(k[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=t=>x(t,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,void 0!==e.config.notify&&this.setDefaults(e.config.notify),!0!==this.__installed){T.forEach((e=>{b[e]=(0,n.iH)([]);const t=!0===["left","center","right"].includes(e)?"center":e.indexOf("top")>-1?"top":"bottom",r=e.indexOf("left")>-1?"start":e.indexOf("right")>-1?"end":"center",i=["left","right"].includes(e)?`items-${"left"===e?"start":"end"} justify-center`:"center"===e?"flex-center":`items-${r}`;E[e]=`q-notifications__list q-notifications__list--${t} fixed column no-wrap ${i}`}));const e=(0,h.q_)("q-notify");(0,p.$)(D(),t).mount(e)}}}},4688:(e,t,r)=>{"use strict";r.d(t,{Lp:()=>v,ZP:()=>g,aG:()=>a,uX:()=>o});r(5663);var n=r(1959),i=r(9085);const o=(0,n.iH)(!1);let a,s=!1;function l(e,t){const r=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:r[5]||r[3]||r[1]||"",version:r[2]||r[4]||"0",versionNumber:r[4]||r[2]||"0",platform:t[0]||""}}function u(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function d(e){a={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function f(e){const t=e.toLowerCase(),r=u(t),n=l(t,r),i={};n.browser&&(i[n.browser]=!0,i.version=n.version,i.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(i[n.platform]=!0);const o=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===o||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,n.browser="edge"):i.crios?(i.chrome=!0,n.browser="chrome"):i.fxios&&(i.firefox=!0,n.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==o)&&(i.webkit=!0),i.edg&&(n.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(n.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(n.browser="playbook",i.playbook=!0),i.opr&&(n.browser="opera",i.opera=!0),i.safari&&i.android&&(n.browser="android",i.android=!0),i.safari&&i.kindle&&(n.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(n.browser="silk",i.silk=!0),i.vivaldi&&(n.browser="vivaldi",i.vivaldi=!0),i.name=n.browser,i.platform=n.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===c&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)&&d(i)),i}const h=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},v={userAgent:h,is:f(h),has:{touch:c},within:{iframe:window.self!==window.top}},m={install(e){const{$q:t}=e;!0===o.value?(e.onSSRHydrated.push((()=>{Object.assign(t.platform,v),o.value=!1,a=void 0})),t.platform=(0,n.qj)(this)):t.platform=this}};{let e;(0,i.g)(v.has,"webStorage",(()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1})),s=!0===v.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===o.value?Object.assign(m,v,a,p):Object.assign(m,v)}const g=m},9405:(e,t,r)=>{"use strict";function n(e,t=250,r){let n=null;function i(){const i=arguments,o=()=>{n=null,!0!==r&&e.apply(this,i)};null!==n?clearTimeout(n):!0===r&&e.apply(this,i),n=setTimeout(o,t)}return i.cancel=()=>{null!==n&&clearTimeout(n)},i}r.d(t,{Z:()=>n})},2012:(e,t,r)=>{"use strict";r.d(t,{iv:()=>i,mY:()=>a,sb:()=>o});var n=r(1959);function i(e,t){const r=e.style;for(const n in t)r[n]=t[n]}function o(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(r){return}const t=(0,n.SU)(e);return t?t.$el||t:void 0}function a(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let r=e.nextElementSibling;null!==r;r=r.nextElementSibling)if(r.contains(t))return!0;return!1}},4716:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>a,FK:()=>o,M0:()=>c,NS:()=>u,X$:()=>l,ZT:()=>i,rU:()=>n,sT:()=>s,ul:()=>d});r(5663);const n={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(n,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(f){}function i(){}function o(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let r=e.target;while(r){if(t.push(r),"HTML"===r.tagName)return t.push(document),t.push(window),t;r=r.parentElement}}function s(e){e.stopPropagation()}function l(e){!1!==e.cancelable&&e.preventDefault()}function u(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function c(e,t,r){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(r):r,r.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],n[t[3]])}))}function d(e,t){const r=`__q_${t}_evt`;void 0!==e[r]&&(e[r].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],n[t[3]])})),e[r]=void 0)}},2130:(e,t,r)=>{"use strict";r.d(t,{Uz:()=>i,vX:()=>n});function n(e,t,r){return r<=t?t:Math.min(r,Math.max(t,e))}function i(e,t,r){if(r<=t)return t;const n=r-t+1;let i=t+(e-t)%n;return i<t&&(i=n+i),0===i?0:i}},2162:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>i,xb:()=>n});r(4406);function n(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let r,i;if(e.constructor===Array){if(r=e.length,r!==t.length)return!1;for(i=r;0!==i--;)if(!0!==n(e[i],t[i]))return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let r=e.entries();i=r.next();while(!0!==i.done){if(!0!==t.has(i.value[0]))return!1;i=r.next()}r=e.entries(),i=r.next();while(!0!==i.done){if(!0!==n(i.value[1],t.get(i.value[0])))return!1;i=r.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const r=e.entries();i=r.next();while(!0!==i.done){if(!0!==t.has(i.value[0]))return!1;i=r.next()}return!0}if(null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(r=e.length,r!==t.length)return!1;for(i=r;0!==i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e).filter((t=>void 0!==e[t]));if(r=o.length,r!==Object.keys(t).filter((e=>void 0!==t[e])).length)return!1;for(i=r;0!==i--;){const r=o[i];if(!0!==n(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function i(e){return null!==e&&"object"===typeof e&&!0!==Array.isArray(e)}},908:(e,t,r)=>{"use strict";r.d(t,{L:()=>o,f:()=>a});var n=r(1959),i=r(3673);const o=e=>(0,n.Xl)((0,i.aZ)(e)),a=e=>(0,n.Xl)(e)},2002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(1959),i=r(9085);const o=(e,t)=>{const r=(0,n.qj)(e);for(const n in e)(0,i.g)(t,n,(()=>r[n]),(e=>{r[n]=e}));return t}},4704:(e,t,r)=>{"use strict";r.d(t,{c:()=>d,k:()=>f});r(5663);var n=r(4688),i=r(1436);const o=[];let a;function s(e){a=27===e.keyCode}function l(){!0===a&&(a=!1)}function u(e){!0===a&&(a=!1,!0===(0,i.So)(e,27)&&o[o.length-1](e))}function c(e){window[e]("keydown",s),window[e]("blur",l),window[e]("keyup",u),a=!1}function d(e){!0===n.Lp.is.desktop&&(o.push(e),1===o.length&&c("addEventListener"))}function f(e){const t=o.indexOf(e);t>-1&&(o.splice(t,1),0===o.length&&c("removeEventListener"))}},230:(e,t,r)=>{"use strict";r.d(t,{YX:()=>a,fP:()=>u,jd:()=>l,xF:()=>s});r(5663);let n=[],i=[];function o(e){i=i.filter((t=>t!==e))}function a(e){o(e),i.push(e)}function s(e){o(e),0===i.length&&n.length>0&&(n[n.length-1](),n=[])}function l(e){0===i.length?e():n.push(e)}function u(e){n=n.filter((t=>t!==e))}},8517:(e,t,r)=>{"use strict";r.d(t,{H:()=>s,i:()=>a});r(5663);var n=r(4688);const i=[];function o(e){i[i.length-1](e)}function a(e){!0===n.Lp.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",o))}function s(e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",o))}},5578:(e,t,r)=>{"use strict";r.d(t,{Uf:()=>i,tP:()=>o,w6:()=>n});const n={};let i=!1;function o(){i=!0}},8144:(e,t,r)=>{"use strict";r.d(t,{pB:()=>u,q_:()=>l});r(5663);var n=r(5578);const i=[],o=[];let a=1,s=document.body;function l(e,t){const r=document.createElement("div");if(r.id=void 0!==t?`q-portal--${t}--${a++}`:e,void 0!==n.w6.globalNodes){const e=n.w6.globalNodes["class"];void 0!==e&&(r.className=e)}return s.appendChild(r),i.push(r),o.push(t),r}function u(e){const t=i.indexOf(e);i.splice(t,1),o.splice(t,1),e.remove()}},9085:(e,t,r)=>{"use strict";function n(e,t,r,n){return Object.defineProperty(e,t,{get:r,set:n,enumerable:!0}),e}r.d(t,{g:()=>n})},1436:(e,t,r)=>{"use strict";r.d(t,{So:()=>a,Wm:()=>o,ZK:()=>i});r(3610);let n=!1;function i(e){n=!0===e.isComposing}function o(e){return!0===n||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function a(e,t){return!0!==o(e)&&[].concat(t).includes(e.keyCode)}},4312:(e,t,r)=>{"use strict";r.d(t,{AH:()=>o,Q$:()=>i});var n=r(7445);const i=[];function o(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,n.O2)(e)}else if(!0===e.__qPortal){const r=(0,n.O2)(e);return void 0!==r&&"QPopupProxy"===r.$options.name?(e.hide(t),r):e}e=(0,n.O2)(e)}while(void 0!==e&&null!==e)}},7657:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>o,Jl:()=>l,KR:()=>i,pf:()=>s,vs:()=>a});var n=r(3673);function i(e,t){return void 0!==e&&e()||t}function o(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function a(e,t){return void 0!==e?t.concat(e()):t}function s(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,r,i,o,a){t.key=i+o;const s=(0,n.h)(e,t,r);return!0===o?(0,n.wy)(s,a()):s}},2547:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>o,Ng:()=>n,YE:()=>i,qO:()=>s,vh:()=>a});const n="_q_",i="_q_l_",o="_q_pc_",a="_q_fo_",s=()=>{}},7445:(e,t,r)=>{"use strict";function n(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;while(Object(t)===t){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function i(e){return void 0!==e.appContext.config.globalProperties.$router}function o(e){return!0===e.isUnmounted||!0===e.isDeactivated}r.d(t,{$D:()=>o,O2:()=>n,Rb:()=>i})},8400:(e,t,r)=>{"use strict";r.d(t,{OI:()=>s,QA:()=>c,b0:()=>o,np:()=>u,u3:()=>a});r(3610);var n=r(2012);const i=[null,document,document.body,document.scrollingElement,document.documentElement];function o(e,t){let r=(0,n.sb)(t);if(void 0===r){if(void 0===e||null===e)return window;r=e.closest(".scroll,.scroll-y,.overflow-auto")}return i.includes(r)?window:r}function a(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function s(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let l;function u(){if(void 0!==l)return l;const e=document.createElement("p"),t=document.createElement("div");(0,n.iv)(e,{width:"100%",height:"200px"}),(0,n.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const r=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return r===i&&(i=t.clientWidth),t.remove(),l=r-i,l}function c(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},9592:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(8242),i=r(9111),o=r(9409);const a={version:"2.11.5",install:n.Z,lang:i.Z,iconSet:o.Z}},392:(e,t,r)=>{var n=r(419),i=r(3353),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a function")}},8248:(e,t,r)=>{var n=r(419),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},2852:(e,t,r)=>{var n=r(854),i=r(1074),o=r(928).f,a=n("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},7950:(e,t,r)=>{var n=r(776),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not an object")}},8295:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},683:(e,t,r)=>{"use strict";var n,i,o,a=r(8295),s=r(9631),l=r(7358),u=r(419),c=r(776),d=r(7322),f=r(5976),h=r(3353),p=r(1904),v=r(3460),m=r(928).f,g=r(7673),y=r(4945),b=r(6184),E=r(854),S=r(6862),w=r(7624),T=w.enforce,_=w.get,k=l.Int8Array,x=k&&k.prototype,C=l.Uint8ClampedArray,A=C&&C.prototype,L=k&&y(k),D=x&&y(x),R=Object.prototype,P=l.TypeError,O=E("toStringTag"),I=S("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",N=a&&!!b&&"Opera"!==f(l.opera),M=!1,$={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!c(e))return!1;var t=f(e);return"DataView"===t||d($,t)||d(j,t)},B=function(e){var t=y(e);if(c(t)){var r=_(t);return r&&d(r,F)?r[F]:B(t)}},q=function(e){if(!c(e))return!1;var t=f(e);return d($,t)||d(j,t)},H=function(e){if(q(e))return e;throw P("Target is not a typed array")},V=function(e){if(u(e)&&(!b||g(L,e)))return e;throw P(h(e)+" is not a typed array constructor")},K=function(e,t,r,n){if(s){if(r)for(var i in $){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(u){}}}D[e]&&!r||v(D,e,r?t:N&&x[e]||t,n)}},G=function(e,t,r){var n,i;if(s){if(b){if(r)for(n in $)if(i=l[n],i&&d(i,e))try{delete i[e]}catch(o){}if(L[e]&&!r)return;try{return v(L,e,r?t:N&&L[e]||t)}catch(o){}}for(n in $)i=l[n],!i||i[e]&&!r||v(i,e,t)}};for(n in $)i=l[n],o=i&&i.prototype,o?T(o)[F]=i:N=!1;for(n in j)i=l[n],o=i&&i.prototype,o&&(T(o)[F]=i);if((!N||!u(L)||L===Function.prototype)&&(L=function(){throw P("Incorrect invocation")},N))for(n in $)l[n]&&b(l[n],L);if((!N||!D||D===R)&&(D=L.prototype,N))for(n in $)l[n]&&b(l[n].prototype,D);if(N&&y(A)!==D&&b(A,D),s&&!d(D,O))for(n in M=!0,m(D,O,{get:function(){return c(this)?this[I]:void 0}}),$)l[n]&&p(l[n],I,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:M&&I,aTypedArray:H,aTypedArrayConstructor:V,exportTypedArrayMethod:K,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:B,isView:U,isTypedArray:q,TypedArray:L,TypedArrayPrototype:D}},6963:(e,t,r)=>{var n=r(7120),i=r(1801),o=r(6042),a=function(e){return function(t,r,a){var s,l=n(t),u=o(l),c=i(a,u);if(e&&r!=r){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},5416:(e,t,r)=>{var n=r(422),i=r(2985),o=r(7475),a=r(6042),s=function(e){var t=1==e;return function(r,s,l){var u,c,d=o(r),f=i(d),h=n(s,l),p=a(f);while(p-- >0)if(u=f[p],c=h(u,p,d),c)switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},2557:(e,t,r)=>{"use strict";var n=r(9631),i=r(6894),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},5173:(e,t,r)=>{var n=r(1890),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},5976:(e,t,r)=>{var n=r(5705),i=r(419),o=r(5173),a=r(854),s=a("toStringTag"),l=Object,u="Arguments"==o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(r){}};e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=c(t=l(e),s))?r:u?o(t):"Object"==(n=o(t))&&i(t.callee)?"Arguments":n}},8438:(e,t,r)=>{var n=r(7322),i=r(7764),o=r(2404),a=r(928);e.exports=function(e,t,r){for(var s=i(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];n(e,d)||r&&n(r,d)||l(e,d,u(t,d))}}},123:(e,t,r)=>{var n=r(6400);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1904:(e,t,r)=>{var n=r(9631),i=r(928),o=r(5442);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},5442:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9468:(e,t,r)=>{var n=r(9843),i=r(928);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},3460:(e,t,r)=>{var n=r(419),i=r(928),o=r(9843),a=r(1615);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(n(r)&&o(r,u,s),s.global)l?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},1615:(e,t,r)=>{var n=r(7358),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},2733:(e,t,r)=>{"use strict";var n=r(3353),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},9631:(e,t,r)=>{var n=r(6400);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8465:e=>{var t="object"==typeof document&&document.all,r="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},5354:(e,t,r)=>{var n=r(7358),i=r(776),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3821:e=>{var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},9173:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},5068:(e,t,r)=>{var n,i,o=r(7358),a=r(9173),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(n=c.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),e.exports=i},2875:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2141:(e,t,r)=>{var n=r(1890),i=Error,o=n("".replace),a=function(e){return String(i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,s,"");return e}},6290:(e,t,r)=>{var n=r(1904),i=r(2141),o=r(6429),a=Error.captureStackTrace;e.exports=function(e,t,r,s){o&&(a?a(e,t):n(e,"stack",i(r,s)))}},6429:(e,t,r)=>{var n=r(6400),i=r(5442);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},8934:(e,t,r)=>{var n=r(7358),i=r(2404).f,o=r(1904),a=r(3460),s=r(1615),l=r(8438),u=r(4389);e.exports=function(e,t){var r,c,d,f,h,p,v=e.target,m=e.global,g=e.stat;if(c=m?n:g?n[v]||s(v,{}):(n[v]||{}).prototype,c)for(d in t){if(h=t[d],e.dontCallGetSet?(p=i(c,d),f=p&&p.value):f=c[d],r=u(m?d:v+(g?".":"#")+d,e.forced),!r&&void 0!==f){if(typeof h==typeof f)continue;l(h,f)}(e.sham||f&&f.sham)&&o(h,"sham",!0),a(c,d,h,e)}}},6400:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},4157:(e,t,r)=>{var n=r(8427),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},422:(e,t,r)=>{var n=r(5897),i=r(392),o=r(8427),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8427:(e,t,r)=>{var n=r(6400);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3577:(e,t,r)=>{var n=r(8427),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},7961:(e,t,r)=>{var n=r(9631),i=r(7322),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},5897:(e,t,r)=>{var n=r(5173),i=r(1890);e.exports=function(e){if("Function"===n(e))return i(e)}},1890:(e,t,r)=>{var n=r(8427),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},9694:(e,t,r)=>{var n=r(7358),i=r(419),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},2344:(e,t,r)=>{var n=r(392),i=r(8056);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},7358:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},7322:(e,t,r)=>{var n=r(1890),i=r(7475),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},600:e=>{e.exports={}},9970:(e,t,r)=>{var n=r(9694);e.exports=n("document","documentElement")},7021:(e,t,r)=>{var n=r(9631),i=r(6400),o=r(5354);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2985:(e,t,r)=>{var n=r(1890),i=r(6400),o=r(5173),a=Object,s=n("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},9941:(e,t,r)=>{var n=r(419),i=r(776),o=r(6184);e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},3725:(e,t,r)=>{var n=r(1890),i=r(419),o=r(1089),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},5684:(e,t,r)=>{var n=r(776),i=r(1904);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},7624:(e,t,r)=>{var n,i,o,a=r(3260),s=r(7358),l=r(776),u=r(1904),c=r(7322),d=r(1089),f=r(203),h=r(600),p="Object already initialized",v=s.TypeError,m=s.WeakMap,g=function(e){return o(e)?i(e):n(e,{})},y=function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}};if(a||d.state){var b=d.state||(d.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,n=function(e,t){if(b.has(e))throw v(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},o=function(e){return b.has(e)}}else{var E=f("state");h[E]=!0,n=function(e,t){if(c(e,E))throw v(p);return t.facade=e,u(e,E,t),t},i=function(e){return c(e,E)?e[E]:{}},o=function(e){return c(e,E)}}e.exports={set:n,get:i,has:o,enforce:g,getterFor:y}},6894:(e,t,r)=>{var n=r(5173);e.exports=Array.isArray||function(e){return"Array"==n(e)}},419:(e,t,r)=>{var n=r(8465),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4389:(e,t,r)=>{var n=r(6400),i=r(419),o=/#|\.prototype\./,a=function(e,t){var r=l[s(e)];return r==c||r!=u&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},8056:e=>{e.exports=function(e){return null===e||void 0===e}},776:(e,t,r)=>{var n=r(419),i=r(8465),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===o}:function(e){return"object"==typeof e?null!==e:n(e)}},6692:e=>{e.exports=!1},410:(e,t,r)=>{var n=r(9694),i=r(419),o=r(7673),a=r(8476),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},6042:(e,t,r)=>{var n=r(4068);e.exports=function(e){return n(e.length)}},9843:(e,t,r)=>{var n=r(1890),i=r(6400),o=r(419),a=r(7322),s=r(9631),l=r(7961).CONFIGURABLE,u=r(3725),c=r(7624),d=c.enforce,f=c.get,h=String,p=Object.defineProperty,v=n("".slice),m=n("".replace),g=n([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),E=e.exports=function(e,t,r){"Symbol("===v(h(t),0,7)&&(t="["+m(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&a(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=d(e);return a(n,"source")||(n.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return o(this)&&f(this).source||u(this)}),"toString")},1243:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},7598:(e,t,r)=>{var n=r(4481);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},1074:(e,t,r)=>{var n,i=r(7950),o=r(3605),a=r(2875),s=r(600),l=r(9970),u=r(5354),c=r(203),d=">",f="<",h="prototype",p="script",v=c("IE_PROTO"),m=function(){},g=function(e){return f+p+d+e+f+"/"+p+d},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),r="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},E=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}E="undefined"!=typeof document?document.domain&&n?y(n):b():y(n);var e=a.length;while(e--)delete E[h][a[e]];return E()};s[v]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[h]=i(e),r=new m,m[h]=null,r[v]=e):r=E(),void 0===t?r:o.f(r,t)}},3605:(e,t,r)=>{var n=r(9631),i=r(5953),o=r(928),a=r(7950),s=r(7120),l=r(9158);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);var r,n=s(t),i=l(t),u=i.length,c=0;while(u>c)o.f(e,r=i[c++],n[r]);return e}},928:(e,t,r)=>{var n=r(9631),i=r(7021),o=r(5953),a=r(7950),s=r(8618),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"===typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=c(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return u(e,t,r)}catch(n){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},2404:(e,t,r)=>{var n=r(9631),i=r(3577),o=r(5604),a=r(5442),s=r(7120),l=r(8618),u=r(7322),c=r(7021),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(r){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},1454:(e,t,r)=>{var n=r(1587),i=r(2875),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},4199:(e,t)=>{t.f=Object.getOwnPropertySymbols},4945:(e,t,r)=>{var n=r(7322),i=r(419),o=r(7475),a=r(203),s=r(123),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?c:null}},7673:(e,t,r)=>{var n=r(1890);e.exports=n({}.isPrototypeOf)},1587:(e,t,r)=>{var n=r(1890),i=r(7322),o=r(7120),a=r(6963).indexOf,s=r(600),l=n([].push);e.exports=function(e,t){var r,n=o(e),u=0,c=[];for(r in n)!i(s,r)&&i(n,r)&&l(c,r);while(t.length>u)i(n,r=t[u++])&&(~a(c,r)||l(c,r));return c}},9158:(e,t,r)=>{var n=r(1587),i=r(2875);e.exports=Object.keys||function(e){return n(e,i)}},5604:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},6184:(e,t,r)=>{var n=r(1890),i=r(7950),o=r(8248);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(r,[]),t=r instanceof Array}catch(a){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},9308:(e,t,r)=>{var n=r(3577),i=r(419),o=r(776),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},7764:(e,t,r)=>{var n=r(9694),i=r(1890),o=r(1454),a=r(4199),s=r(7950),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?l(t,r(e)):t}},4836:(e,t,r)=>{var n=r(928).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},136:(e,t,r)=>{"use strict";var n=r(7950);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},7933:(e,t,r)=>{var n=r(8056),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},203:(e,t,r)=>{var n=r(1586),i=r(6862),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},1089:(e,t,r)=>{var n=r(7358),i=r(1615),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},1586:(e,t,r)=>{var n=r(6692),i=r(1089);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},387:(e,t,r)=>{var n=r(5068),i=r(6400);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1801:(e,t,r)=>{var n=r(1860),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},7120:(e,t,r)=>{var n=r(2985),i=r(7933);e.exports=function(e){return n(i(e))}},1860:(e,t,r)=>{var n=r(1243);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},4068:(e,t,r)=>{var n=r(1860),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},7475:(e,t,r)=>{var n=r(7933),i=Object;e.exports=function(e){return i(n(e))}},2181:(e,t,r)=>{var n=r(3577),i=r(776),o=r(410),a=r(2344),s=r(9308),l=r(854),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,l=a(e,c);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||o(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8618:(e,t,r)=>{var n=r(2181),i=r(410);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},5705:(e,t,r)=>{var n=r(854),i=n("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},4481:(e,t,r)=>{var n=r(5976),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},3353:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},6862:(e,t,r)=>{var n=r(1890),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},8476:(e,t,r)=>{var n=r(387);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5953:(e,t,r)=>{var n=r(9631),i=r(6400);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3260:(e,t,r)=>{var n=r(7358),i=r(419),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},854:(e,t,r)=>{var n=r(7358),i=r(1586),o=r(7322),a=r(6862),s=r(387),l=r(8476),u=n.Symbol,c=i("wks"),d=l?u["for"]||u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)||(c[e]=s&&o(u,e)?u[e]:d("Symbol."+e)),c[e]}},7971:(e,t,r)=>{"use strict";var n=r(9694),i=r(7322),o=r(1904),a=r(7673),s=r(6184),l=r(8438),u=r(4836),c=r(9941),d=r(7598),f=r(5684),h=r(6290),p=r(9631),v=r(6692);e.exports=function(e,t,r,m){var g="stackTraceLimit",y=m?2:1,b=e.split("."),E=b[b.length-1],S=n.apply(null,b);if(S){var w=S.prototype;if(!v&&i(w,"cause")&&delete w.cause,!r)return S;var T=n("Error"),_=t((function(e,t){var r=d(m?t:e,void 0),n=m?new S(e):new S;return void 0!==r&&o(n,"message",r),h(n,_,n.stack,2),this&&a(w,this)&&c(n,this,_),arguments.length>y&&f(n,arguments[y]),n}));if(_.prototype=w,"Error"!==E?s?s(_,T):l(_,T,{name:!0}):p&&g in S&&(u(_,S,g),u(_,S,"prepareStackTrace")),l(_,S),!v)try{w.name!==E&&o(w,"name",E),w.constructor=_}catch(k){}return _}}},3610:(e,t,r)=>{"use strict";var n=r(8934),i=r(6963).includes,o=r(6400),a=r(2852),s=o((function(){return!Array(1).includes()}));n({target:"Array",proto:!0,forced:s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},5663:(e,t,r)=>{"use strict";var n=r(8934),i=r(7475),o=r(6042),a=r(2557),s=r(3821),l=r(6400),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),r=o(t),n=arguments.length;s(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return a(t,r),r}})},2031:(e,t,r)=>{"use strict";var n=r(8934),i=r(7475),o=r(6042),a=r(2557),s=r(2733),l=r(3821),u=1!==[].unshift(0),c=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},d=u||!c();n({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(e){var t=i(this),r=o(t),n=arguments.length;if(n){l(r+n);var u=r;while(u--){var c=u+n;u in t?t[c]=t[u]:s(t,c)}for(var d=0;d<n;d++)t[d]=arguments[d]}return a(t,r+n)}})},6701:(e,t,r)=>{var n=r(8934),i=r(7358),o=r(4157),a=r(7971),s="WebAssembly",l=i[s],u=7!==Error("e",{cause:7}).cause,c=function(e,t){var r={};r[e]=a(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},d=function(e,t){if(l&&l[e]){var r={};r[e]=a(s+"."+e,t,u),n({target:s,stat:!0,constructor:!0,arity:1,forced:u},r)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},4406:(e,t,r)=>{var n=r(7358),i=r(9631),o=r(9468),a=r(136),s=r(6400),l=n.RegExp,u=l.prototype,c=i&&s((function(){var e=!0;try{l(".","d")}catch(c){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);var s=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return s!==n||r!==n}));c&&o(u,"flags",{configurable:!0,get:a})},5123:(e,t,r)=>{"use strict";var n=r(683),i=r(6042),o=r(1860),a=n.aTypedArray,s=n.exportTypedArrayMethod;s("at",(function(e){var t=a(this),r=i(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},7648:(e,t,r)=>{"use strict";var n=r(683),i=r(5416).findLastIndex,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4331:(e,t,r)=>{"use strict";var n=r(683),i=r(5416).findLast,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},120:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",o="minute",a="hour",s="day",l="week",u="month",c="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},g=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:g,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,u),o=r-i<0,a=t.clone().add(n+(o?-1:1),u);return+(-(n+(r-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:f,h:a,m:o,s:i,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",E={};E[b]=m;var S=function(e){return e instanceof k},w=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();E[o]&&(i=o),r&&(E[o]=r,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;E[s]=t,i=s}return!n&&i&&(b=i),i||!n&&b},T=function(e,t){if(S(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new k(r)},_=y;_.l=w,_.i=S,_.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return _},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var r=T(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return T(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<T(e)},g.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,n=!!_.u(t)||t,c=_.p(e),h=function(e,t){var i=_.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(s)},p=function(e,t){return _.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case d:return n?h(1,0):h(31,11);case u:return n?h(1,m):h(0,m+1);case l:var b=this.$locale().weekStart||0,E=(v<b?v+7:v)-b;return h(n?g-E:g+(6-E),m);case s:case f:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var r,l=_.p(e),c="set"+(this.$u?"UTC":""),h=(r={},r[s]=c+"Date",r[f]=c+"Date",r[u]=c+"Month",r[d]=c+"FullYear",r[a]=c+"Hours",r[o]=c+"Minutes",r[i]=c+"Seconds",r[n]=c+"Milliseconds",r)[l],p=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[_.p(e)]()},g.add=function(n,c){var f,h=this;n=Number(n);var p=_.p(c),v=function(e){var t=T(h);return _.w(t.date(t.date()+Math.round(e*n)),h)};if(p===u)return this.set(u,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===s)return v(1);if(p===l)return v(7);var m=(f={},f[o]=t,f[a]=r,f[i]=e,f)[p]||1,g=this.$d.getTime()+n*m;return _.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),o=this.$H,a=this.$m,s=this.$M,l=r.weekdays,u=r.months,c=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},d=function(e){return _.s(o%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:_.s(s+1,2,"0"),MMM:c(r.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:_.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:i};return n.replace(v,(function(e,t){return t||p[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,h){var p,v=_.p(f),m=T(n),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=_.m(this,m);return b=(p={},p[d]=b/12,p[u]=b,p[c]=b/3,p[l]=(y-g)/6048e5,p[s]=(y-g)/864e5,p[a]=y/r,p[o]=y/t,p[i]=y/e,p)[v]||y,h?b:_.a(b)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return E[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=w(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return _.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),x=k.prototype;return T.prototype=x,[["$ms",n],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",d],["$D",f]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,k,T),e.$i=!0),T},T.locale=w,T.isDayjs=S,T.unix=function(e){return T(1e3*e)},T.en=E[b],T.Ls=E,T.p={},T}))},8765:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(r,n,i){var o,a=function(e,r,n){void 0===n&&(n={});var i=new Date(e),o=function(e,r){void 0===r&&(r={});var n=r.timeZoneName||"short",i=e+"|"+n,o=t[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),t[i]=o),o}(r,n);return o.formatToParts(i)},s=function(t,r){for(var n=a(t,r),o=[],s=0;s<n.length;s+=1){var l=n[s],u=l.type,c=l.value,d=e[u];d>=0&&(o[d]=parseInt(c,10))}var f=o[3],h=24===f?0:f,p=o[0]+"-"+o[1]+"-"+o[2]+" "+h+":"+o[4]+":"+o[5]+":000",v=+t;return(i.utc(p).valueOf()-(v-=v%1e3))/6e4},l=n.prototype;l.tz=function(e,t){void 0===e&&(e=o);var r=this.utcOffset(),n=this.toDate(),a=n.toLocaleString("en-US",{timeZone:e}),s=Math.round((n-new Date(a))/1e3/60),l=i(a).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-s,!0);if(t){var u=l.utcOffset();l=l.add(r-u,"minute")}return l.$x.$timezone=e,l},l.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),r=a(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return r&&r.value};var u=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return u.call(this,e,t);var r=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(r,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,r){var n=r&&t,a=r||t||o,l=s(+i(),a);if("string"!=typeof e)return i(e).tz(a);var u=function(e,t,r){var n=e-60*t*1e3,i=s(n,r);if(t===i)return[n,t];var o=s(n-=60*(i-t)*1e3,r);return i===o?[n,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(e,n).valueOf(),l,a),c=u[0],d=u[1],f=i(c).utcOffset(d);return f.$x.$timezone=a,f},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){o=e}}}))},9348:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,o){var a=i.prototype;o.utc=function(e){var t={date:e,utc:!0,args:arguments};return new i(t)},a.utc=function(t){var r=o(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var l=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var u=a.utcOffset;a.utcOffset=function(n,i){var o=this.$utils().u;if(o(n))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var i=(""+n[0]).match(r)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(n),null===n))return this;var a=Math.abs(n)<=16?60*n:n,s=this;if(i)return s.$offset=a,s.$u=0===n,s;if(0!==n){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+l,e)).$offset=a,s.$x.$localOffset=l}else s=this.utc();return s};var c=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=a.diff;a.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var n=this.local(),i=o(e).local();return f.call(n,i,t,r)}}}))},4984:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},1405:function(e){"undefined"!==typeof window&&function(t,r){e.exports=r()}(0,(()=>(()=>{var e={"./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{enableStreamingMode:()=>A,hlsDefaultConfig:()=>k,mergeConfig:()=>C});var n=r(/*! ./controller/abr-controller */"./src/controller/abr-controller.ts"),i=r(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.ts"),o=r(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.ts"),a=r(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.ts"),s=r(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.ts"),l=r(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.ts"),u=r(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.ts"),c=r(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.ts"),d=r(/*! ./controller/fps-controller */"./src/controller/fps-controller.ts"),f=r(/*! ./controller/eme-controller */"./src/controller/eme-controller.ts"),h=r(/*! ./controller/cmcd-controller */"./src/controller/cmcd-controller.ts"),p=r(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.ts"),v=r(/*! ./utils/fetch-loader */"./src/utils/fetch-loader.ts"),m=r(/*! ./utils/cues */"./src/utils/cues.ts"),g=r(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),y=r(/*! ./utils/logger */"./src/utils/logger.ts");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t=T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=_(e,"string");return"symbol"===typeof t?t:String(t)}function _(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var k=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p["default"],fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n["default"],bufferController:l["default"],capLevelController:c["default"],fpsController:d["default"],stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},x()),{},{subtitleStreamController:a.SubtitleStreamController,subtitleTrackController:s["default"],timelineController:u.TimelineController,audioStreamController:i["default"],audioTrackController:o["default"],emeController:f["default"],cmcdController:h["default"]});function x(){return{cueHandler:m["default"],enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function C(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function A(e){var t=e.loader;if(t!==v["default"]&&t!==p["default"])y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{var r=(0,v.fetchSupported)();r&&(e.loader=v["default"],e.progressive=!0,e.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}}},"./src/controller/abr-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.ts ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.ts"),o=r(/*! ../events */"./src/events.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=r(/*! ../types/loader */"./src/types/loader.ts"),l=r(/*! ../utils/logger */"./src/utils/logger.ts");function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"===typeof t?t:String(t)}function f(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i["default"](t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(o.Events.FRAG_LOADING,this.onFragLoading,this),e.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e.off(o.Events.FRAG_LOADING,this.onFragLoading,this),e.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.ERROR,this.onError,this)},t.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},t.onFragLoading=function(e,t){var r,n=t.frag;n.type===s.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null,this.timer=self.setInterval(this.onCheck,100)))},t.onLevelLoaded=function(e,t){var r=this.hls.config;t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},t._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,i=r.autoLevelEnabled,a=r.media;if(e&&a){var s=t?t.stats:e.stats,u=t?t.duration:e.duration;if(s.aborted||s.loaded&&s.loaded===s.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!a.paused&&a.playbackRate&&a.readyState){var c=r.mainForwardBufferInfo;if(null!==c){var d=performance.now()-s.loading.start,f=Math.abs(a.playbackRate);if(!(d<=500*u/f)){var h=s.loaded&&s.loading.first,p=this.bwEstimator.getEstimate(),v=r.levels,m=r.minAutoLevel,g=v[e.level],y=s.total||Math.max(s.loaded,Math.round(u*g.maxBitrate/8)),b=h?1e3*s.loaded/d:0,E=b?(y-s.loaded)/b:8*y/p,S=c.len/f;if(!(E<=S)){var w,T=Number.POSITIVE_INFINITY;for(w=e.level-1;w>m;w--){var _=v[w].maxBitrate;if(T=b?u*_/(6.4*b):u*_/p,T<S)break}T>=E||(l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+w+"\n      Current BW estimate: "+((0,n.isFiniteNumber)(p)?(p/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+E.toFixed(3)+" s\n      Estimated load time for the next fragment: "+T.toFixed(3)+" s\n      Time to underbuffer: "+S.toFixed(3)+" s"),r.nextLoadLevel=w,h&&this.bwEstimator.sample(d,s.loaded),this.clearTimer(),(e.loader||e.keyLoader)&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),r.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s}))}}}}}},t.onFragLoaded=function(e,t){var r=t.frag,i=t.part;if(r.type===s.PlaylistLevelType.MAIN&&(0,n.isFiniteNumber)(r.sn)){var a=i?i.stats:r.stats,l=i?i.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[r.level],c=(u.loaded?u.loaded.bytes:0)+a.loaded,d=(u.loaded?u.loaded.duration:0)+l;u.loaded={bytes:c,duration:d},u.realBitrate=Math.round(8*c/d)}if(r.bitrateTest){var f={stats:a,frag:r,part:i,id:r.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,f)}}},t.onFragBuffered=function(e,t){var r=t.frag,n=t.part,i=n?n.stats:r.stats;if(!i.aborted&&r.type===s.PlaylistLevelType.MAIN&&"initSegment"!==r.sn){var o=i.parsing.end-i.loading.start;this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},t.onError=function(e,t){var r;if((null===(r=t.frag)||void 0===r?void 0:r.type)===s.PlaylistLevelType.MAIN){if(t.type===a.ErrorTypes.KEY_SYSTEM_ERROR)return void this.clearTimer();switch(t.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer();break;default:break}}},t.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},t.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.maxAutoLevel,i=r.config,o=r.minAutoLevel,a=r.media,s=t?t.duration:e?e.duration:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=r.mainForwardBufferInfo,f=(d?d.len:0)/u,h=this.findBestLevel(c,o,n,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;l.logger.trace((f?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!f){var g=this.bitrateTestDelay;if(g){var y=s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay;p=y-g,l.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=m=1}}return h=this.findBestLevel(c,o,n,f+p,v,m),Math.max(h,0)},t.findBestLevel=function(e,t,r,i,o,a){for(var s,u=this.fragCurrent,c=this.partCurrent,d=this.lastLoadedFragLevel,f=this.hls.levels,h=f[d],p=!(null===h||void 0===h||null===(s=h.details)||void 0===s||!s.live),v=null===h||void 0===h?void 0:h.codecSet,m=c?c.duration:u?u.duration:0,g=r;g>=t;g--){var y=f[g];if(y&&(!v||y.codecSet===v)){var b=y.details,E=(c?null===b||void 0===b?void 0:b.partTarget:null===b||void 0===b?void 0:b.averagetargetduration)||m,S=void 0;S=g<=d?o*e:a*e;var w=f[g].maxBitrate,T=w*E/S;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(S)+"/"+w+"/"+E+"/"+i+"/"+T),S>w&&(0===T||!(0,n.isFiniteNumber)(T)||p&&!this.bitrateTestDelay||T<i))return g}}return-1},c(e,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var r=this.getNextABRAutoLevel();return-1!==e&&this.hls.levels[r].loadError?e:(-1!==e&&(r=Math.min(e,r)),r)},set:function(e){this._nextAutoLevel=e}}]),e}();const p=h},"./src/controller/audio-stream-controller.ts":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.ts ***!
  \***************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),o=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),l=r(/*! ../types/level */"./src/types/level.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),c=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),d=r(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts"),f=r(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),h=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),p=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),v=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),m=r(/*! ../errors */"./src/errors.ts");function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var E=100,S=function(e){function t(t,r,n){var i;return i=e.call(this,t,r,n,"[audio-stream-controller]")||this,i.videoBuffer=null,i.videoTrackCC=-1,i.waitingVideoCC=-1,i.audioSwitch=!1,i.trackId=-1,i.waitingData=null,i.mainDetails=null,i.bufferFlushed=!1,i.cachedTrackLoadedData=null,i._registerListeners(),i}y(t,e);var r=t.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},r._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.BUFFER_RESET,this.onBufferReset,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.BUFFER_RESET,this.onBufferReset,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r.onInitPtsFound=function(e,t){var r=t.frag,n=t.id,o=t.initPTS;if("main"===n){var a=r.cc;this.initPTS[r.cc]=o,this.log("InitPTS for cc: "+a+" found from main: "+o),this.videoTrackCC=a,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},r.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(E),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},r.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,r=this.levels,n=this.trackId,o=null===r||void 0===r||null===(t=r[n])||void 0===t?void 0:t.details;if(o){if(this.waitForCdnTuneIn(o))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),u=this.retryDate;(!u||l>=u||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var d=c.frag,f=c.part,h=c.cache,v=c.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var m=h.flush(),g={frag:d,part:f,payload:m,networkDetails:null};this._handleFragmentLoadProgress(g),v&&e.prototype._handleFragmentLoadComplete.call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=a.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole),E=(0,p.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,d);E<0&&(this.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},r.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},r.resetLoadingState=function(){this.clearWaitingFragment(),e.prototype.resetLoadingState.call(this)},r.onTickEnd=function(){var e=this.media;e&&e.readyState&&(this.lastCurrentTime=e.currentTime)},r.doTickIdle=function(){var e=this.hls,t=this.levels,r=this.media,n=this.trackId,a=e.config;if(t&&t[n]&&(r||!this.startFragRequested&&a.startFragPrefetch)){var s=t[n],l=s.details;if(!l||l.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(l))this.state=i.State.WAITING_TRACK;else{var d=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&d&&(this.bufferFlushed=!1,this.afterBufferFlushed(d,c.ElementaryStreamTypes.AUDIO,u.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(d,u.PlaylistLevelType.AUDIO);if(null!==f){var h=this.audioSwitch;if(!h&&this._streamEnded(f,l))return e.trigger(o.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var p=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,u.PlaylistLevelType.MAIN),v=f.len,m=this.getMaxBufferLength(null===p||void 0===p?void 0:p.len);if(!(v>=m)||h){var g=l.fragments,y=g[0].start,b=f.end;if(h&&r){var E=this.getLoadPosition();b=E,l.PTSKnown&&E<y&&(f.end>y||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=y+.05)}if(!(p&&b>p.end+l.targetduration)&&(p&&p.len||!f.len)){var S=this.getNextFragment(b,l);S?this.loadFragment(S,l,b):this.bufferFlushed=!0}}}}}},r.getMaxBufferLength=function(t){var r=e.prototype.getMaxBufferLength.call(this);return t?Math.max(r,t):r},r.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},r.onAudioTracksUpdated=function(e,t){var r=t.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(e){return new l.Level(e)}))},r.onAudioTrackSwitching=function(e,t){var r=!!t.url;this.trackId=t.id;var n=this.fragCurrent;n&&n.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),r?this.setInterval(E):this.resetTransmuxer(),r?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},r.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},r.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(o.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},r.onAudioTrackLoaded=function(e,t){var r;if(null!=this.mainDetails){var n=this.levels,o=t.details,a=t.id;if(n){this.log("Track "+a+" loaded ["+o.startSN+","+o.endSN+"],duration:"+o.totalduration);var s=n[a],l=0;if(o.live||null!==(r=s.details)&&void 0!==r&&r.live){var u=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!u)return;!s.details&&o.hasProgramDateTime&&u.hasProgramDateTime?((0,v.alignMediaPlaylistByPDT)(o,u),l=o.fragments[0].start):l=this.alignPlaylists(o,s.details)}s.details=o,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(s.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(o)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=t},r._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,o=e.payload,a=this.config,s=this.trackId,l=this.levels;if(l){var c=l[s];console.assert(c,"Audio track is defined on fragment load progress");var p=c.details;console.assert(p,"Audio track details are defined on fragment load progress");var v=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new f["default"](this.hls,u.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var g=this.initPTS[r.cc],y=null===(t=r.initSegment)||void 0===t?void 0:t.data;if(void 0!==g){var b=!1,E=n?n.index:-1,S=-1!==E,w=new h.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,o.byteLength,E,S);m.push(o,y,v,"",r,n,p.totalduration,b,w,g)}else{this.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s);var T=this.waitingData=this.waitingData||{frag:r,part:n,cache:new d["default"],complete:!1},_=T.cache;_.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},r.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.onBufferCreated=function(e,t){var r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)},r.onFragBuffered=function(e,t){var r,n=t.frag,i=t.part;n.type===u.PlaylistLevelType.AUDIO?this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(i?" p: "+i.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,i)):this.loadedmetadata||n.type!==u.PlaylistLevelType.MAIN||null!==(r=this.videoBuffer||this.media)&&void 0!==r&&r.buffered.length&&(this.loadedmetadata=!0)},r.onError=function(t,r){if(r.type!==m.ErrorTypes.KEY_SYSTEM_ERROR)switch(r.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.FRAG_PARSING_ERROR:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.AUDIO,r);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=r.fatal?i.State.ERROR:i.State.IDLE,this.warn(r.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===r.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,o=this.getFwdBufferInfo(this.mediaBuffer,u.PlaylistLevelType.AUDIO);o&&o.len>.5&&(n=!this.reduceMaxBufferLength(o.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}break;default:break}else this.onFragmentOrKeyLoadError(u.PlaylistLevelType.AUDIO,r)},r.onBufferFlushed=function(e,t){var r=t.type;r===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===i.State.ENDED&&(this.state=i.State.IDLE))},r._handleTransmuxComplete=function(e){var t,r="audio",n=this.hls,a=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(s.level);var u=l.frag,d=l.part,f=l.level.details,h=a.audio,p=a.text,v=a.id3,m=a.initSegment;if(!this.fragContextChanged(u)&&f){if(this.state=i.State.PARSING,this.audioSwitch&&h&&this.completeAudioSwitch(),null!==m&&void 0!==m&&m.tracks&&(this._bufferInitSegment(m.tracks,u,s),n.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:r,tracks:m.tracks})),h){var y=h.startPTS,b=h.endPTS,E=h.startDTS,S=h.endDTS;d&&(d.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:y,endPTS:b,startDTS:E,endDTS:S}),u.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,y,b,E,S),this.bufferFragmentData(h,u,d,s)}if(null!==v&&void 0!==v&&null!==(t=v.samples)&&void 0!==t&&t.length){var w=g({id:r,frag:u,details:f},v);n.trigger(o.Events.FRAG_PARSING_METADATA,w)}if(p){var T=g({id:r,frag:u,details:f},p);n.trigger(o.Events.FRAG_PARSING_USERDATA,T)}}},r._bufferInitSegment=function(e,t,r){if(this.state===i.State.PARSING){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,e);var a=n.initSegment;if(null!==a&&void 0!==a&&a.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:r,parent:t.type,data:a};this.hls.trigger(o.Events.BUFFER_APPENDING,s)}this.tick()}}},r.loadFragment=function(t,r,o){var a=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||a===s.FragmentState.NOT_LOADED||a===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t,r):r.live&&!(0,n.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,o)))},r.completeAudioSwitch=function(){var t=this.hls,r=this.media,n=this.trackId;r&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:n})},t}(i["default"]);const w=S},"./src/controller/audio-track-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.ts ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),a=r(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"===typeof t?t:String(t)}function c(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){function t(t){var r;return r=e.call(this,t,"[audio-track-controller]")||this,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.trackName="",r.selectDefaultTrack=!0,r.registerListeners(),r}d(t,e);var r=t.prototype;return r.registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},r.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},r.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},r.onAudioTrackLoaded=function(e,t){var r=t.id,n=t.details,i=this.tracksInGroup[r];if(i){var o=i.details;i.details=t.details,this.log("audioTrack "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,t,o))}else this.warn("Invalid audio track id "+r)},r.onLevelLoading=function(e,t){this.switchLevel(t.level)},r.onLevelSwitching=function(e,t){this.switchLevel(t.level)},r.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.audioGroupIds){var r=t.audioGroupIds[t.urlId];if(this.groupId!==r){this.groupId=r;var i=this.tracks.filter((function(e){return!r||e.groupId===r}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var o={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,o),this.selectInitialTrack()}}},r.onError=function(t,r){e.prototype.onError.call(this,t,r),!r.fatal&&r.context&&r.context.type===a.PlaylistContextType.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},r.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],o=i.id,a=i.groupId,s=void 0===a?"":a,l=i.name,u=i.type,c=i.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:o,groupId:s,name:l,type:u,url:c}),!i.details||i.details.live){var d=this.switchParams(i.url,null===r||void 0===r?void 0:r.details);this.loadPlaylist(d)}}},r.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,r=this.findTrackId(t)||this.findTrackId();-1!==r?this.setAudioTrack(r):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},r.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(r)){var i=r.id,o=r.groupId,a=r.url;if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("loading audio-track playlist for id: "+i),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:a,id:i,groupId:o,deliveryDirectives:t||null})}},l(t,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}]),t}(o["default"]);const p=h},"./src/controller/base-playlist-controller.ts":
/*!****************************************************!*\
  !*** ./src/controller/base-playlist-controller.ts ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../types/level */"./src/types/level.ts"),i=r(/*! ./level-helper */"./src/controller/level-helper.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){!t.fatal||t.type!==a.ErrorTypes.NETWORK_ERROR&&t.type!==a.ErrorTypes.KEY_SYSTEM_ERROR||this.stopLoad()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var r=null===t||void 0===t?void 0:t.renditionReports;if(r)for(var i=0;i<r.length;i++){var a=r[i],s=void 0;try{s=new self.URL(a.URI,t.url).href}catch(d){o.logger.warn("Could not construct new URL for Rendition Report: "+d),s=a.URI||""}if(s===e.slice(-s.length)){var l=parseInt(a["LAST-MSN"])||(null===t||void 0===t?void 0:t.lastPartSn),u=parseInt(a["LAST-PART"])||(null===t||void 0===t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&c>t.partTarget&&(u+=1)}return new n.HlsUrlParameters(l,u>=0?u:void 0,n.HlsSkip.No)}}},t.loadPlaylist=function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,r){var n=this,o=t.details,a=t.stats,s=self.performance.now(),l=a.loading.first?Math.max(0,s-a.loading.first):0;if(o.advancedDateTime=Date.now()-l,o.live||null!==r&&void 0!==r&&r.live){if(o.reloaded(r),r&&this.log("live playlist "+e+" "+(o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED")),r&&o.fragments.length>0&&(0,i.mergeDetails)(r,o),!this.canLoad||!o.live)return;var u,c=void 0,d=void 0;if(o.canBlockReload&&o.endSN&&o.advanced){var f=this.hls.config.lowLatencyMode,h=o.lastPartSn,p=o.endSN,v=o.lastPartIndex,m=-1!==v,g=h===p,y=f?0:v;m?(c=g?p+1:h,d=g?y:v+1):c=p+1;var b=o.age,E=b+o.ageHeader,S=Math.min(E-o.partTarget,1.5*o.targetduration);if(S>0){if(r&&S>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+S+" with playlist age: "+o.age),S=0;else{var w=Math.floor(S/o.targetduration);if(c+=w,void 0!==d){var T=Math.round(S%o.targetduration/o.partTarget);d+=T}this.log("CDN Tune-in age: "+o.ageHeader+"s last advanced "+b.toFixed(2)+"s goal: "+S+" skip sn "+w+" to part "+d)}o.tuneInGoal=S}if(u=this.getDeliveryDirectives(o,t.deliveryDirectives,c,d),f||!g)return void this.loadPlaylist(u)}else u=this.getDeliveryDirectives(o,t.deliveryDirectives,c,d);var _=this.hls.mainForwardBufferInfo,k=_?_.end-_.len:0,x=1e3*(o.edge-k),C=(0,i.computeReloadInterval)(o,x);o.updated?s>this.requestScheduled+C&&(this.requestScheduled=a.loading.start):this.requestScheduled=-1,void 0!==c&&o.canBlockReload?this.requestScheduled=a.loading.first+C-(1e3*o.partTarget||1e3):this.requestScheduled=(-1===this.requestScheduled?s:this.requestScheduled)+C;var A=this.requestScheduled-s;A=Math.max(0,A),this.log("reload live playlist "+e+" in "+Math.round(A)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(u)}),A)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,r,i){var o=(0,n.getSkipValue)(e,r);return null!==t&&void 0!==t&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,i=t.part,o=n.HlsSkip.No),new n.HlsUrlParameters(r,i,o)},t.retryLoadingOrFail=function(e){var t,r=this,n=this.hls.config,i=this.retryCount<n.levelLoadingMaxRetry;if(i)if(this.requestScheduled=-1,this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return r.loadPlaylist()}),o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.ts ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{State:()=>x,default:()=>C});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../task-loop */"./src/task-loop.ts"),o=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),a=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),l=r(/*! ../events */"./src/events.ts"),u=r(/*! ../errors */"./src/errors.ts"),c=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),d=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),f=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),h=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),p=r(/*! ./level-helper */"./src/controller/level-helper.ts"),v=r(/*! ../loader/fragment-loader */"./src/loader/fragment-loader.ts"),m=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),g=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.ts"),y=r(/*! ../types/loader */"./src/types/loader.ts");function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function E(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=w(e,"string");return"symbol"===typeof t?t:String(t)}function w(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var x={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},C=function(e){function t(t,r,n,i){var o;return o=e.call(this)||this,o.hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=x.STOPPED,o.media=null,o.mediaBuffer=null,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.loadedmetadata=!1,o.fragLoadError=0,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.keyLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.onvseeking=null,o.onvended=null,o.logPrefix="",o.log=void 0,o.warn=void 0,o.logPrefix=i,o.log=s.logger.log.bind(s.logger,i+":"),o.warn=s.logger.warn.bind(s.logger,i+":"),o.hls=t,o.fragmentLoader=new v["default"](t.config),o.keyLoader=n,o.fragmentTracker=r,o.config=t.config,o.decrypter=new m["default"](t.config),t.on(l.Events.LEVEL_SWITCHING,o.onLevelSwitching,T(o)),o}_(t,e);var r=t.prototype;return r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(e){},r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var e=this.fragCurrent;e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=x.STOPPED},r._streamEnded=function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var r=t.partList;if(null!==r&&void 0!==r&&r.length){var n=r[r.length-1],i=a.BufferHelper.isBuffered(this.media,n.start+n.duration/2);return i}var o=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)},r.getLevelDetails=function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null===(e=this.levels[this.levelLastLoaded])||void 0===e?void 0:e.details},r.onMediaAttached=function(e,t){var r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===x.STOPPED&&this.startLoad(n.startPosition)},r.onMediaDetaching=function(){var e=this.media;null!==e&&void 0!==e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},r.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,r=this.media,i=this.mediaBuffer,o=this.state,s=r?r.currentTime:0,l=a.BufferHelper.bufferInfo(i||r,s,e.maxBufferHole);if(this.log("media seeking to "+((0,n.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+o),this.state===x.ENDED)this.resetLoadingState();else if(t){var u=e.maxFragLookUpTolerance,c=t.start-u,d=t.start+t.duration+u;if(!l.len||d<l.start||c>l.end){var f=s>d;(s<c||f)&&(f&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests()),this.resetLoadingState())}}r&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onLevelSwitching=function(e,t){this.fragLoadError=0},r.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=x.STOPPED,this.hls.off(l.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(e,t,r){this._loadFragForPlayback(e,t,r)},r._loadFragForPlayback=function(e,t,r){var n=this,i=function(t){if(n.fragContextChanged(e))return n.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)};this._doFragLoad(e,t,r,i).then((function(t){if(t){n.fragLoadError=0;var r=n.state;n.fragContextChanged(e)?(r===x.FRAG_LOADING||!n.fragCurrent&&r===x.PARSING)&&(n.fragmentTracker.removeFragment(e),n.state=x.IDLE):("payload"in t&&(n.log("Loaded fragment "+e.sn+" of level "+e.level),n.hls.trigger(l.Events.FRAG_LOADED,t)),n._handleFragmentLoadComplete(t))}})).catch((function(t){n.state!==x.STOPPED&&n.state!==x.ERROR&&(n.warn(t),n.resetFragmentLoading(e))}))},r.flushMainBuffer=function(e,t,r){if(void 0===r&&(r=null),e-t){var n={startOffset:e,endOffset:t,type:r};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,n)}},r._loadInitSegment=function(e,t){var r=this;this._doFragLoad(e,t).then((function(t){if(!t||r.fragContextChanged(e)||!r.levels)throw new Error("init load aborted");return t})).then((function(t){var n=r.hls,i=t.payload,o=e.decryptdata;if(i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return r.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).then((function(r){var i=self.performance.now();return n.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:a,tdecrypt:i}}),t.payload=r,t}))}return t})).then((function(t){var n=r.fragCurrent,i=r.hls,o=r.levels;if(!o)throw new Error("init load aborted, missing levels");var a=o[e.level].details;console.assert(a,"Level details are defined when init segment is loaded");var s=e.stats;r.state=x.IDLE,r.fragLoadError=0,e.data=new Uint8Array(t.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),t.frag===n&&i.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:e.type}),r.tick()})).catch((function(t){r.state!==x.STOPPED&&r.state!==x.ERROR&&(r.warn(t),r.resetFragmentLoading(e))}))},r.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},r.fragBufferedComplete=function(e,t){var r,n,i=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" (frag:["+(e.startPTS||NaN).toFixed(3)+"-"+(e.endPTS||NaN).toFixed(3)+"] > buffer:"+(i?g["default"].toString(a.BufferHelper.getBuffered(i)):"(detached)")+")"),this.state=x.IDLE,i&&(!this.loadedmetadata&&e.type==y.PlaylistLevelType.MAIN&&i.buffered.length&&(null===(r=this.fragCurrent)||void 0===r?void 0:r.sn)===(null===(n=this.fragPrevious)||void 0===n?void 0:n.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},r.seekToStartPos=function(){},r._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var r=e.frag,n=e.part,i=e.partsLoaded,o=!i||0===i.length||i.some((function(e){return!e})),a=new c.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!o);t.flush(a)}},r._handleFragmentLoadProgress=function(e){},r._doFragLoad=function(e,t,r,i){var o,a=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");var s=null;if(!e.encrypted||null!==(o=e.decryptdata)&&void 0!==o&&o.key?!e.encrypted&&t.encryptedFragments.length&&this.keyLoader.loadClear(e,t.encryptedFragments):(this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=x.KEY_LOADING,this.fragCurrent=e,s=this.keyLoader.load(e).then((function(e){if(!a.fragContextChanged(e.frag))return a.hls.trigger(l.Events.KEY_LOADED,e),e})),this.hls.trigger(l.Events.KEY_LOADING,{frag:e}),this.throwIfFragContextChanged("KEY_LOADING")),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&t){var u=t.partList;if(u&&i){r>e.end&&t.fragmentHint&&(e=t.fragmentHint);var c=this.getNextPart(u,e,r);if(c>-1){var d=u[c];return this.log("Loading part sn: "+e.sn+" p: "+d.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+c+"-"+(u.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=x.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:u[c],targetBufferTime:r}),this.throwIfFragContextChanged("FRAG_LOADING parts"),s?s.then((function(t){return!t||a.fragContextChanged(t.frag)?null:a.doFragPartsLoad(e,u,c,i)})).catch((function(e){return a.handleFragLoadError(e)})):this.doFragPartsLoad(e,u,c,i).catch((function(e){return a.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),(0,n.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=x.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.throwIfFragContextChanged("FRAG_LOADING");var f=this.config.progressive;return f&&s?s.then((function(t){return!t||a.fragContextChanged(null===t||void 0===t?void 0:t.frag)?null:a.fragmentLoader.load(e,i)})).catch((function(e){return a.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,f?i:void 0),s]).then((function(e){var t=e[0];return!f&&t&&i&&i(t),t})).catch((function(e){return a.handleFragLoadError(e)}))},r.throwIfFragContextChanged=function(e){if(null===this.fragCurrent)throw new Error("frag load aborted, context changed in "+e)},r.doFragPartsLoad=function(e,t,r,n){var i=this;return new Promise((function(o,a){var s=[],u=function r(u){var c=t[u];i.fragmentLoader.loadPart(e,c,n).then((function(n){s[c.index]=n;var a=n.part;i.hls.trigger(l.Events.FRAG_LOADED,n);var d=t[u+1];if(!d||d.fragment!==e)return o({frag:e,part:a,partsLoaded:s});r(u+1)})).catch(a)};u(r)}))},r.handleFragLoadError=function(e){if("data"in e){var t=e.data;e.data&&t.details===u.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t)}else this.hls.trigger(l.Events.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,err:e,fatal:!0});return null},r._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===x.PARSING){var r=t.frag,n=t.part,i=t.level,o=self.performance.now();r.stats.parsing.end=o,n&&(n.stats.parsing.end=o),this.updateLevelTiming(r,n,i,e.partial)}else this.fragCurrent||this.state===x.STOPPED||this.state===x.ERROR||(this.state=x.IDLE)},r.getCurrentContext=function(e){var t=this.levels,r=e.level,n=e.sn,i=e.part;if(!t||!t[r])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+r+". The current chunk will not be buffered."),null;var o=t[r],a=i>-1?(0,p.getPartWith)(o,n,i):null,s=a?a.fragment:(0,p.getFragmentWithSN)(o,n,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},r.bufferFragmentData=function(e,t,r,n){if(e&&this.state===x.PARSING){var i=e.data1,o=e.data2,a=i;if(i&&o&&(a=(0,d.appendUint8Array)(i,o)),a&&a.length){var s={type:e.type,frag:t,part:r,chunkMeta:n,parent:t.type,data:a};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!r&&this.flushBufferGap(t)}}},r.flushBufferGap=function(e){var t=this.media;if(t)if(a.BufferHelper.isBuffered(t,t.currentTime)){var r=t.currentTime,n=a.BufferHelper.bufferInfo(t,r,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-o,n.end-o),r+o);e.start-s>o&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},r.getFwdBufferInfo=function(e,t){var r=this.config,i=this.getLoadPosition();if(!(0,n.isFiniteNumber)(i))return null;var o=a.BufferHelper.bufferInfo(e,i,r.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&o.nextStart<s.end)return a.BufferHelper.bufferInfo(e,i,Math.max(o.nextStart,r.maxBufferHole))}return o},r.getMaxBufferLength=function(e){var t,r=this.config;return t=e?Math.max(8*r.maxBufferSize/e,r.maxBufferLength):r.maxBufferLength,Math.min(t,r.maxMaxBufferLength)},r.reduceMaxBufferLength=function(e){var t=this.config,r=e||t.maxBufferLength;return t.maxMaxBufferLength>=r&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.getNextFragment=function(e,t){var r=t.fragments,n=r.length;if(!n)return null;var i,o=this.config,a=r[0].start;if(t.live){var s=o.initialLiveManifestSize;if(n<s)return this.warn("Not enough fragments to start playback (have: "+n+", need: "+s+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(t,r),this.startPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=a&&(i=r[0]);if(!i){var l=o.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)},r.mapToInitFragWhenRequired=function(e){return null===e||void 0===e||!e.initSegment||null!==e&&void 0!==e&&e.initSegment.data||this.bitrateTest?e:e.initSegment},r.getNextPart=function(e,t,r){for(var n=-1,i=!1,o=!0,a=0,s=e.length;a<s;a++){var l=e[a];if(o=o&&!l.independent,n>-1&&r<l.start)break;var u=l.loaded;u?n=-1:(i||l.independent||o)&&l.fragment===t&&(n=a),i=u}return n},r.loadedEndOfParts=function(e,t){var r=e[e.length-1];return r&&t>r.start&&r.loaded},r.getInitialLiveFragment=function(e,t){var r=this.fragPrevious,n=null;if(r){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),n=(0,h.findFragmentByPDT)(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){var o=t[i-e.startSN];r.cc===o.cc&&(n=o,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=(0,h.findFragWithCC)(t,r.cc),n&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn))}}else{var a=this.hls.liveSyncPosition;null!==a&&(n=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n},r.getFragmentAtPosition=function(e,t,r){var n,i=this.config,a=this.fragPrevious,s=r.fragments,l=r.endSN,u=r.fragmentHint,c=i.maxFragLookUpTolerance,d=!!(i.lowLatencyMode&&r.partList&&u);if(d&&u&&!this.bitrateTest&&(s=s.concat(u),l=u.sn),e<t){var f=e>t-c?0:c;n=(0,h.findFragmentByPTS)(a,s,e,f)}else n=s[s.length-1];if(n){var p=n.sn-r.startSN;if(this.fragmentTracker.getState(n)===o.FragmentState.OK&&(a=n),a&&n.sn===a.sn&&!d){var v=a&&n.level===a.level;if(v){var m=s[p+1];n.sn<l&&this.fragmentTracker.getState(m)!==o.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+m.sn),n=m):n=null}}}return n},r.synchronizeToLiveEdge=function(e){var t=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,i=r.currentTime,o=e.fragments[0].start,a=e.edge,s=i>=o-t.maxFragLookUpTolerance&&i<=a;if(null!==n&&r.duration>n&&(i<n||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&r.readyState<4||i<a-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+n.toFixed(3)),r.currentTime=n))}}},r.alignPlaylists=function(e,t){var r=this.levels,i=this.levelLastLoaded,o=this.fragPrevious,a=null!==i?r[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,u=!t,c=e.alignedSliding&&(0,n.isFiniteNumber)(l);if(u||!c&&!l){(0,f.alignStream)(o,a,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),d}return l},r.waitForCdnTuneIn=function(e){var t=3;return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*t)},r.setStartPosition=function(e,t){var r=this.startPosition;if(r<t&&(r=-1),-1===r||-1===this.lastCurrentTime){var i=e.startTimeOffset;(0,n.isFiniteNumber)(i)?(r=t+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+r),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},r.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},r.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},r.resetFragmentLoading=function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===x.FRAG_LOADING_WAITING_RETRY)||(this.state=x.IDLE)},r.onFragmentOrKeyLoadError=function(e,t){if(t.fatal)return this.stopLoad(),void(this.state=x.ERROR);var r=this.config;if(t.chunkMeta){var n=this.getCurrentContext(t.chunkMeta);n&&(t.frag=n.frag,t.levelRetry=!0,this.fragLoadError=r.fragLoadingMaxRetry)}var i=t.frag;if(i&&i.type===e){var o=this.fragCurrent;if(console.assert(o&&i.sn===o.sn&&i.level===o.level&&i.urlId===o.urlId,"Frag load error must match current frag to retry"),this.fragLoadError+1<=r.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var a=Math.min(Math.pow(2,this.fragLoadError)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);this.warn("Fragment "+i.sn+" of "+e+" "+i.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=x.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=x.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=x.ERROR)}},r.afterBufferFlushed=function(e,t,r){if(e){var n=a.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,r),this.state===x.ENDED&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=x.IDLE},r.resetStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!==t&&void 0!==t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.updateLevelTiming=function(e,t,r,n){var i=this,o=r.details;console.assert(!!o,"level.details must be defined");var a=Object.keys(e.elementaryStreams).reduce((function(t,a){var s=e.elementaryStreams[a];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return i.warn("Could not parse fragment "+e.sn+" "+a+" duration reliably ("+u+")"),t||!1;var c=n?0:(0,p.updateFragPTSDTS)(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:o,level:r,drift:c,type:a,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1);a||(this.warn("Found no media in fragment "+e.sn+" of level "+r.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=x.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})},r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},E(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}]),t}(i["default"])},"./src/controller/buffer-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.ts ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),u=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),c=r(/*! ./buffer-operation-queue */"./src/controller/buffer-operation-queue.ts"),d=(0,l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,r=t.media,n=t.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),r&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c["default"](this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},t.onManifestParsed=function(e,t){var r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var r=this.media=t.media;if(r&&d){var n=this.mediaSource=new d;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,r=this._objectUrl;if(t){if(o.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(n){o.logger.warn("[buffer-controller]: onMediaDetaching: "+n.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var r=e.sourceBuffer[t];try{r&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(r),e.sourceBuffer[t]=void 0)}catch(n){o.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",n)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var r=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var i=r.tracks[e];if(i&&"function"===typeof i.buffer.changeType){var a=t[e],s=a.id,l=a.codec,u=a.levelCodec,c=a.container,d=a.metadata,h=(i.levelCodec||i.codec).replace(f,"$1"),p=(u||l).replace(f,"$1");if(h!==p){var v=c+";codecs="+(u||l);r.appendChangeType(e,v),o.logger.log("[buffer-controller]: switching codec "+h+" to "+p),r.tracks[e]={buffer:i.buffer,codec:l,container:c,levelCodec:u,metadata:d,id:s}}}}else r.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var r=this,n=this.operationQueue,i={execute:function(){var i=r.sourceBuffer[e];i&&(o.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};n.append(i,e)},t.onBufferAppending=function(e,t){var r=this,n=this.hls,l=this.operationQueue,u=this.tracks,c=t.data,d=t.type,f=t.frag,h=t.part,p=t.chunkMeta,v=p.buffering[d],m=self.performance.now();v.start=m;var g=f.stats.buffering,y=h?h.stats.buffering:null;0===g.start&&(g.start=m),y&&0===y.start&&(y.start=m);var b=u.audio,E=!1;"audio"===d&&"audio/mpeg"===(null===b||void 0===b?void 0:b.container)&&(E=!this.lastMpegAudioChunk||1===p.id||this.lastMpegAudioChunk.sn!==p.sn,this.lastMpegAudioChunk=p);var S=f.start,w={execute:function(){if(v.executeStart=self.performance.now(),E){var e=r.sourceBuffer[d];if(e){var t=S-e.timestampOffset;Math.abs(t)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+S+" (delta: "+t+") sn: "+f.sn+")"),e.timestampOffset=S)}}r.appendExecutor(c,d)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===g.first&&(g.first=e),y&&0===y.first&&(y.first=e);var t=r.sourceBuffer,n={};for(var o in t)n[o]=s.BufferHelper.getBuffered(t[o]);r.appendError=0,r.hls.trigger(i.Events.BUFFER_APPENDED,{type:d,frag:f,part:h,chunkMeta:p,parent:f.type,timeRanges:n})},onError:function(e){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",e);var t={type:a.ErrorTypes.MEDIA_ERROR,parent:f.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=a.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,t.details=a.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0,n.stopLoad())),n.trigger(i.Events.ERROR,t)}};l.append(w,d)},t.onBufferFlushing=function(e,t){var r=this,n=this.operationQueue,a=function(e){return{execute:r.removeExecutor.bind(r,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){o.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?n.append(a(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(a(e),e)}))},t.onFragParsed=function(e,t){var r=this,n=t.frag,a=t.part,s=[],l=a?a.elementaryStreams:n.elementaryStreams;l[u.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[u.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[u.ElementaryStreamTypes.VIDEO]&&s.push("video"));var c=function(){var e=self.performance.now();n.stats.buffering.end=e,a&&(a.stats.buffering.end=e);var t=a?a.stats:n.stats;r.hls.trigger(i.Events.FRAG_BUFFERED,{frag:n,part:a,stats:t,id:n.type})};0===s.length&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers(c,s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var r=this,n=this.getSourceBufferTypes().reduce((function(e,n){var i=r.sourceBuffer[n];return!i||t.type&&t.type!==n||(i.ending=!0,i.ended||(i.ended=!0,o.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS"))),e&&!(i&&!i.ended)}),!0);n&&(o.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){r.getSourceBufferTypes().forEach((function(e){var t=r.sourceBuffer[e];t&&(t.ending=!1)}));var e=r.mediaSource;e&&"open"===e.readyState?(o.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),e.endOfStream()):e&&o.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+e.readyState)})))},t.onLevelUpdated=function(e,t){var r=t.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,r=this.media,a=this.sourceBuffer;if(r&&null!==t){var l=this.getSourceBufferTypes();if(l.length){var u=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if((0,n.isFiniteNumber)(u)&&!(u<0)){var c=r.currentTime,d=t.levelTargetDuration,f=Math.max(u,d),h=Math.floor(c/d)*d-f;l.forEach((function(r){var n=a[r];if(n){var l=s.BufferHelper.getBuffered(n);if(l.length>0&&h>l.start(0)){if(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:h}),t.live)e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:h});else if(n.ended&&l.end(l.length-1)-c<2*d)return void o.logger.info("[buffer-controller]: Cannot flush "+r+" back buffer while SourceBuffer is in ended state");e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:h,type:r})}}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,r=this.media,i=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=r.duration,l=(0,n.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>l&&a>s||!(0,n.isFiniteNumber)(s))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),i.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,r=e.fragments,n=r.length;if(n&&e.live&&null!==t&&void 0!==t&&t.setLiveSeekableRange){var i=Math.max(0,r[0].start),o=Math.max(i,i+e.totalduration);t.setLiveSeekableRange(i,o)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!e||2===n){this.createSourceBuffers(r),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var u=l.levelCodec||l.codec,c=l.container+";codecs="+u;o.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var d=t[s]=r.addSourceBuffer(c),f=s;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[s]={buffer:d,codec:u,container:l.container,levelCodec:l.levelCodec,metadata:l.metadata,id:l.id},n++}catch(h){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+h.message),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,mimeType:c})}}n&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){var t=this.operationQueue,r=t.current(e);r.onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue,r=t.current(e);r.onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(e);r&&r.onError(t)},t.removeExecutor=function(e,t,r){var i=this.media,a=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer,u=l[e];if(!i||!a||!u)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var c=(0,n.isFiniteNumber)(i.duration)?i.duration:1/0,d=(0,n.isFiniteNumber)(a.duration)?a.duration:1/0,f=Math.max(0,t),h=Math.min(r,c,d);h>f&&!u.ending?(u.ended=!1,o.logger.log("[buffer-controller]: Removing ["+f+","+h+"] from the "+e+" SourceBuffer"),console.assert(!u.updating,e+" sourceBuffer must not be updating"),u.remove(f,h)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var r=this.operationQueue,n=this.sourceBuffer,i=n[t];if(!i)return o.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(t);i.ended=!1,console.assert(!i.updating,t+" sourceBuffer must not be updating"),i.appendBuffer(e)},t.blockBuffers=function(e,t){var r=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var n=this.operationQueue,i=t.map((function(e){return n.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=r.sourceBuffer[e];t&&t.updating||n.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,r){var n=this.sourceBuffer[e];if(n){var i=r.bind(this,e);this.listeners[e].push({event:t,listener:i}),n.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":
/*!**************************************************!*\
  !*** ./src/controller/buffer-operation-queue.ts ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(/*! ../utils/logger */"./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var r=this.queues[t];r.push(e),1===r.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){var r=this.queues[t];r.unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,r=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),r},t.executeNext=function(e){var t=this.buffers,r=this.queues,i=t[e],o=r[e];if(o.length){var a=o[0];try{a.execute()}catch(s){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(s),i&&i.updating||(o.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.ts ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../events */"./src/events.ts");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"===typeof t?t:String(t)}function s(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},t.registerListeners=function(){var e=this.hls;e.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.unregisterListener=function(){var e=this.hls;e.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.onFpsDropLevelCapping=function(t,r){e.isLevelAllowed(r.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(r.droppedLevel)},t.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null},t.onManifestParsed=function(e,t){var r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onBufferCodecs=function(e,t){var r=this.hls;r.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onMediaDetaching=function(){this.stopCapping()},t.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.getMaxLevel=function(t){var r=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(n,i){return e.isLevelAllowed(i,r.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},t.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,r){if(!e||!e.length)return-1;for(var n=function(e,t){return!t||(e.width!==t.width||e.height!==t.height)},i=e.length-1,o=0;o<e.length;o+=1){var a=e[o];if((a.width>=t||a.height>=r)&&n(a,e[o+1])){i=o;break}}return i},o(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}}]),e}();const u=l},"./src/controller/cmcd-controller.ts":
/*!*******************************************!*\
  !*** ./src/controller/cmcd-controller.ts ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../types/cmcd */"./src/types/cmcd.ts"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"===typeof t?t:String(t)}function c(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=f(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}var v=function(){function e(t){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(e){try{r.apply(e,{ot:i.CMCDObjectType.MANIFEST,su:!r.initialized})}catch(t){a.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(e){try{var t=e.frag,n=r.hls.levels[t.level],o=r.getObjectType(t),s={d:1e3*t.duration,ot:o};o!==i.CMCDObjectType.VIDEO&&o!==i.CMCDObjectType.AUDIO&&o!=i.CMCDObjectType.MUXED||(s.br=n.bitrate/1e3,s.tb=r.getTopBandwidth(o)/1e3,s.bl=r.getBufferLength(o)),r.apply(e,s)}catch(l){a.logger.warn("Could not generate segment CMCD data.",l)}},this.hls=t;var n=this.config=t.config,o=n.cmcd;null!=o&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=o.sessionId||e.uuid(),this.cid=o.contentId,this.useHeaders=!0===o.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(n.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(n.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var r,n;this.audioBuffer=null===(r=t.tracks.audio)||void 0===r?void 0:r.buffer,this.videoBuffer=null===(n=t.tracks.video)||void 0===n?void 0:n.buffer},t.createData=function(){var e;return{v:i.CMCDVersion,sf:i.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,r){void 0===r&&(r={}),p(r,this.createData());var n=r.ot===i.CMCDObjectType.INIT||r.ot===i.CMCDObjectType.VIDEO||r.ot===i.CMCDObjectType.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var o=e.toHeaders(r);if(!Object.keys(o).length)return;t.headers||(t.headers={}),p(t.headers,o)}else{var a=e.toQuery(r);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?i.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?i.CMCDObjectType.INIT:"audio"===t?i.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?i.CMCDObjectType.VIDEO:i.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,r=0,n=this.hls;if(e===i.CMCDObjectType.AUDIO)t=n.audioTracks;else{var o=n.maxAutoLevel,a=o>-1?o+1:n.levels.length;t=n.levels.slice(0,a)}for(var s,l=d(t);!(s=l()).done;){var u=s.value;u.bitrate>r&&(r=u.bitrate)}return r>0?r:NaN},t.getBufferLength=function(e){var t=this.hls.media,r=e===i.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;if(!r||!t)return NaN;var n=o.BufferHelper.bufferInfo(r,t.currentTime,this.config.maxBufferHole);return 1e3*n.len},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,r=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new r(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,r,n){t(e),this.loader.load(e,r,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,r=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new r(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,r,n){t(e),this.loader.load(e,r,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,r=[],n=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},o=function(e){return 100*i(e/100)},a=function(e){return encodeURIComponent(e)},s={br:i,d:i,bl:o,dl:o,mtp:o,nor:a,rtp:o,tb:i},l=Object.keys(e||{}).sort(),u=d(l);!(t=u()).done;){var c=t.value,f=e[c];if(n(f)&&(("v"!==c||1!==f)&&("pr"!=c||1!==f))){var h=s[c];h&&(f=h(f));var p=typeof f,v=void 0;v="ot"===c||"sf"===c||"st"===c?c+"="+f:"boolean"===p?c:"number"===p?c+"="+f:c+"="+JSON.stringify(f),r.push(v)}}return r.join(",")},e.toHeaders=function(t){for(var r=Object.keys(t),n={},i=["Object","Request","Session","Status"],o=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,l=r;s<l.length;s++){var u=l[s],c=null!=a[u]?a[u]:1;o[c][u]=t[u]}for(var d=0;d<o.length;d++){var f=e.serialize(o[d]);f&&(n["CMCD-"+i[d]]=f)}return n},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var r=e.includes("?")?"&":"?";return""+e+r+t},e}()},"./src/controller/eme-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.ts ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),s=r(/*! ../utils/keysystem-util */"./src/utils/keysystem-util.ts"),l=r(/*! ../utils/numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts"),u=r(/*! ../loader/level-key */"./src/loader/level-key.ts"),c=r(/*! ../utils/hex */"./src/utils/hex.ts"),d=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),f=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),h=r.n(f);function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function v(e){var t="function"===typeof Map?new Map:void 0;return v=function(e){if(null===e||!y(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return m(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},v(e)}function m(e,t,r){return m=g()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&b(o,r.prototype),o},m.apply(null,arguments)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var S=3,w="[eme]",T=function(){function e(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=o.logger.debug.bind(o.logger,w),this.log=o.logger.log.bind(o.logger,w),this.warn=o.logger.warn.bind(o.logger,w),this.error=o.logger.error.bind(o.logger,w),this.hls=t,this.config=t.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},t.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},t.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},t.getLicenseServerUrl=function(e){var t=this.config,r=t.drmSystems,n=t.widevineLicenseUrl,i=r[e];if(i)return i.licenseUrl;if(e===a.KeySystems.WIDEVINE&&n)return n;throw new Error('no license server URL configured for key-system "'+e+'"')},t.getServerCertificateUrl=function(e){var t=this.config.drmSystems,r=t[e];if(r)return r.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+e+'"]')},t.attemptKeySystemAccess=function(e){var t=this,r=this.hls.levels,n=function(e,t,r){return!!e&&r.indexOf(e)===t},o=r.map((function(e){return e.audioCodec})).filter(n),a=r.map((function(e){return e.videoCodec})).filter(n);return o.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(r,n){var s=function e(s){var l=s.shift();t.getMediaKeysPromise(l,o,a).then((function(e){return r({keySystem:l,mediaKeys:e})})).catch((function(t){s.length?e(s):n(t instanceof _?t:new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};s(e)}))},t.requestMediaKeySystemAccess=function(e,t){var r=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof r){var n="Configured requestMediaKeySystemAccess is not a function "+r;return null===a.requestMediaKeySystemAccess&&"http:"===self.location.protocol&&(n="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(n))}return r(e,t)},t.getMediaKeysPromise=function(e,t,r){var n=this,i=(0,a.getSupportedMediaKeySystemConfigurations)(e,t,r,this.config.drmSystemOptions),o=this.keySystemAccessPromises[e],s=null===o||void 0===o?void 0:o.keySystemAccess;if(!s){this.log('Requesting encrypted media "'+e+'" key-system access with config: '+JSON.stringify(i)),s=this.requestMediaKeySystemAccess(e,i);var l=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch((function(t){n.log('Failed to obtain access to key-system "'+e+'": '+t)})),s.then((function(t){n.log('Access for key-system "'+t.keySystem+'" obtained');var r=n.fetchServerCertificate(e);return n.log('Create media-keys for "'+e+'"'),l.mediaKeys=t.createMediaKeys().then((function(t){return n.log('Media-keys created for "'+e+'"'),r.then((function(r){return r?n.setMediaKeysServerCertificate(t,e,r):t}))})),l.mediaKeys.catch((function(t){n.error('Failed to create media-keys for "'+e+'"}: '+t)})),l.mediaKeys}))}return s.then((function(){return o.mediaKeys}))},t.createMediaKeySessionContext=function(e){var t=e.decryptdata,r=e.keySystem,n=e.mediaKeys;console.assert(!!n,"mediaKeys is defined"),this.log('Creating key-system session "'+r+'" keyId: '+c["default"].hexDump(t.keyId||[]));var i=n.createSession(),o={decryptdata:t,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o},t.renewKeySession=function(e){var t=e.decryptdata;if(t.pssh){var r=this.createMediaKeySessionContext(e),n=this.getKeyIdString(t),i="cenc";this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(r,i,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)},t.getKeyIdString=function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return c["default"].hexDump(e.keyId)},t.updateKeySession=function(e,t){var r,n=e.mediaKeysSession;return this.log('Updating key-session "'+n.sessionId+'" for keyID '+c["default"].hexDump((null===(r=e.decryptdata)||void 0===r?void 0:r.keyId)||[])+"\n      } (data length: "+(t?t.byteLength:t)+")"),n.update(t)},t.selectKeySystemFormat=function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+e.sn+" "+e.type+": "+e.level+") key formats "+t.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise},t.getKeyFormatPromise=function(e){var t=this;return new Promise((function(r,n){var i=(0,a.getKeySystemsForConfig)(t.config),o=e.map(a.keySystemFormatToKeySystemDomain).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(o).then((function(e){var t=e.keySystem,i=(0,a.keySystemDomainToKeySystemFormat)(t);i?r(i):n(new Error('Unable to find format for key-system "'+t+'"'))})).catch(n)}))},t.loadKey=function(e){var t=this,r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i="(keyId: "+n+' format: "'+r.keyFormat+'" method: '+r.method+" uri: "+r.uri+")";this.log("Starting session for key "+i);var o=this.keyIdToKeySessionPromise[n];return o||(o=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then((function(n){var o=n.keySystem,a=n.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: "+e.frag.sn+" "+e.frag.type+": "+e.frag.level+" using key "+i),t.attemptSetMediaKeys(o,a).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:r}),n="cenc";return t.generateRequestWithPreferredKeySession(e,n,r.pssh,"playlist-key")}))})),o.catch((function(e){return t.handleError(e)}))),o},t.throwIfDestroyed=function(e){if(void 0===e&&(e="Invalid state"),!this.hls)throw new Error("invalid state")},t.handleError=function(e){this.hls&&(this.error(e.message),e instanceof _?this.hls.trigger(n.Events.ERROR,e.data):this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))},t.getKeySystemForKeyPromise=function(e){var t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){var n=(0,a.keySystemFormatToKeySystemDomain)(e.keyFormat),i=n?[n]:(0,a.getKeySystemsForConfig)(this.config);return this.attemptKeySystemAccess(i)}return r},t.getKeySystemSelectionPromise=function(e){if(e.length||(e=(0,a.getKeySystemsForConfig)(this.config)),0===e.length)throw new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(e)},t._onMediaEncrypted=function(e){var t=this,r=e.initDataType,n=e.initData;if(this.debug('"'+e.type+'" event: init data type: "'+r+'"'),null!==n){var i,o;if("sinf"===r&&this.config.drmSystems[a.KeySystems.FAIRPLAY]){var s=(0,d.bin2str)(new Uint8Array(n));try{var f=(0,l.base64Decode)(JSON.parse(s).sinf),h=(0,d.parseSinf)(new Uint8Array(f));if(!h)return;i=h.subarray(8,24),o=a.KeySystems.FAIRPLAY}catch(w){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var p=(0,d.parsePssh)(n);if(null===p)return;0===p.version&&p.systemId===a.KeySystemIds.WIDEVINE&&p.data&&(i=p.data.subarray(8,24)),o=(0,a.keySystemIdToKeySystemDomain)(p.systemId)}if(o&&i){for(var v=c["default"].hexDump(i),m=this.keyIdToKeySessionPromise,g=this.mediaKeySessions,y=m[v],b=function(e){var o=g[e],a=o.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=c["default"].hexDump(a.keyId);return v===s||-1!==a.uri.replace(/-/g,"").indexOf(v)?(y=m[s],delete m[s],a.pssh=new Uint8Array(n),a.keyId=i,y=m[v]=y.then((function(){return t.generateRequestWithPreferredKeySession(o,r,n,"encrypted-event-key-match")})),"break"):void 0},E=0;E<g.length;E++){var S=b(E);if("continue"!==S&&"break"===S)break}y||(y=m[v]=this.getKeySystemSelectionPromise([o]).then((function(e){var o,s=e.keySystem,l=e.mediaKeys;t.throwIfDestroyed();var c=new u.LevelKey("ISO-23001-7",v,null!=(o=(0,a.keySystemDomainToKeySystemFormat)(s))?o:"");return c.pssh=new Uint8Array(n),c.keyId=i,t.attemptSetMediaKeys(s,l).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:c,keySystem:s,mediaKeys:l});return t.generateRequestWithPreferredKeySession(e,r,n,"encrypted-event-no-match")}))}))),y.catch((function(e){return t.handleError(e)}))}}},t._onWaitingForKey=function(e){this.log('"'+e.type+'" event')},t.attemptSetMediaKeys=function(e,t){var r=this,n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+e+'"');var i=Promise.all(n).then((function(){if(!r.media)throw new Error("Attempted to set mediaKeys without media element attached");return r.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){r.log('Media-keys set for "'+e+'"'),n.push(i),r.setMediaKeysQueue=r.setMediaKeysQueue.filter((function(e){return-1===n.indexOf(e)}))}))},t.generateRequestWithPreferredKeySession=function(e,t,r,n){var o,l,u=this,c=null===(o=this.config.drmSystems)||void 0===o||null===(l=o[e.keySystem])||void 0===l?void 0:l.generateRequest;if(c)try{var d=c.call(this.hls,t,r,e);if(!d)throw new Error("Invalid response from configured generateRequest filter");t=d.initDataType,r=e.decryptdata.pssh=d.initData?new Uint8Array(d.initData):null}catch(g){var f;if(this.warn(g.message),null!==(f=this.hls)&&void 0!==f&&f.config.debug)throw g}if(null===r)return this.log('Skipping key-session request for "'+n+'" (no initData)'),Promise.resolve(e);var p=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'+n+'": '+p+" (init data type: "+t+" length: "+(r?r.byteLength:null)+")");var v=new(h());e.mediaKeysSession.onmessage=function(t){var r=e.mediaKeysSession;if(r){var n=t.messageType,i=t.message;u.log('"'+n+'" message event for session "'+r.sessionId+'" message size: '+i.byteLength),"license-request"===n||"license-renewal"===n?u.renewLicense(e,i).catch((function(e){u.handleError(e),v.emit("error",e)})):"license-release"===n?e.keySystem===a.KeySystems.FAIRPLAY&&(u.updateKeySession(e,(0,s.strToUtf8array)("acknowledged")),u.removeSession(e)):u.warn('unhandled media key message type "'+n+'"')}else v.emit("error",new Error("invalid state"))},e.mediaKeysSession.onkeystatuseschange=function(t){var r=e.mediaKeysSession;if(r){u.onKeyStatusChange(e);var n=e.keyStatus;v.emit("keyStatus",n),"expired"===n&&(u.warn(e.keySystem+" expired for key "+p),u.renewKeySession(e))}else v.emit("error",new Error("invalid state"))};var m=new Promise((function(e,t){v.on("error",t),v.on("keyStatus",(function(r){r.startsWith("usable")?e():"output-restricted"===r?t(new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===r?t(new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+r+'"')):"expired"===r?t(new Error("key expired while generating request")):u.warn('unhandled key status change "'+r+'"')}))}));return e.mediaKeysSession.generateRequest(t,r).then((function(){var t;u.log('Request generated for key-session "'+(null===(t=e.mediaKeysSession)||void 0===t?void 0:t.sessionId)+'" keyId: '+p)})).catch((function(e){throw new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: "+e)})).then((function(){return m})).catch((function(t){throw v.removeAllListeners(),u.removeSession(e),t})).then((function(){return v.removeAllListeners(),e}))},t.onKeyStatusChange=function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(r,n){t.log('key status change "'+r+'" for keyStatuses keyId: '+c["default"].hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))+" session keyId: "+c["default"].hexDump(new Uint8Array(e.decryptdata.keyId||[]))+" uri: "+e.decryptdata.uri),e.keyStatus=r}))},t.fetchServerCertificate=function(e){var t=this;return new Promise((function(r,n){var o=t.getServerCertificateUrl(e);if(!o)return r();t.log('Fetching serverCertificate for "'+e+'"');var a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="arraybuffer",a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?r(a.response):n(new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:a},'"'+e+'" certificate request XHR failed ('+o+"). Status: "+a.status+" ("+a.statusText+")")))},a.send()}))},t.setMediaKeysServerCertificate=function(e,t,r){var n=this;return new Promise((function(o,a){e.setServerCertificate(r).then((function(i){n.log("setServerCertificate "+(i?"success":"not supported by CDM")+" ("+(null===r||void 0===r?void 0:r.byteLength)+') on "'+t+'"'),o(e)})).catch((function(e){a(new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))},t.renewLicense=function(e,t){var r=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return r.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))},t.setupLicenseXHR=function(e,t,r,n){var i=this,o=this.config.licenseXhrSetup;return o?Promise.resolve().then((function(){if(!r.decryptdata)throw new Error("Key removed");return o.call(i.hls,e,t,r,n)})).catch((function(a){if(!r.decryptdata)throw a;return e.open("POST",t,!0),o.call(i.hls,e,t,r,n)})).then((function(r){e.readyState||e.open("POST",t,!0);var i=r||n;return{xhr:e,licenseChallenge:i}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))},t.requestLicense=function(e,t){var r=this;return new Promise((function(n,o){var a=r.getLicenseServerUrl(e.keySystem);r.log("Sending license request to URL: "+a);var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!r.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(4===s.readyState)if(200===s.status){r._requestLicenseFailureCount=0;var l=s.response;r.log("License received "+(l instanceof ArrayBuffer?l.byteLength:l));var u=r.config.licenseResponseCallback;if(u)try{l=u.call(r.hls,s,a,e)}catch(d){r.error(d)}n(l)}else if(r._requestLicenseFailureCount++,r._requestLicenseFailureCount>S||s.status>=400&&s.status<500)o(new _({type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s},"License Request XHR failed ("+a+"). Status: "+s.status+" ("+s.statusText+")"));else{var c=S-r._requestLicenseFailureCount+1;r.warn("Retrying license request, "+c+" attempts left"),r.requestLicense(e,t).then(n,o)}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,r.setupLicenseXHR(s,a,e,t).then((function(e){var t=e.xhr,r=e.licenseChallenge;t.send(r)}))}))},t.onMediaAttached=function(e,t){if(this.config.emeEnabled){var r=t.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}},t.onMediaDetached=function(){var t=this,r=this.media,n=this.mediaKeySessions;r&&(r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},u.LevelKey.clearKeyUriToKeyIdMap();var i=n.length;e.CDMCleanupPromise=Promise.all(n.map((function(e){return t.removeSession(e)})).concat(null===r||void 0===r?void 0:r.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: "+e+". media.src: "+(null===r||void 0===r?void 0:r.src))})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),n.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: "+e+". media.src: "+(null===r||void 0===r?void 0:r.src))}))},t.onManifestLoaded=function(e,t){var r=t.sessionKeys;if(r&&this.config.emeEnabled&&!this.keyFormatPromise){var n=r.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys "+n.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(n)}},t.removeSession=function(e){var t=this,r=e.mediaKeysSession,n=e.licenseXhr;if(r){this.log("Remove licenses and keys and close session "+r.sessionId),r.onmessage=null,r.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch((function(e){t.log("Could not remove session: "+e)})).then((function(){return r.close()})).catch((function(e){t.log("Could not close session: "+e)}))}},e}();T.CDMCleanupPromise=void 0;var _=function(e){function t(t,r){var n;return n=e.call(this,r)||this,n.data=void 0,n.data=t,t.err=t.error,n}return p(t,e),t}(v(Error));const k=T},"./src/controller/fps-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.ts ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,r){var o=performance.now();if(t){if(this.lastTime){var a=o-this.lastTime,s=r-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/a,c=this.hls;if(c.trigger(n.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:r}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();const a=o},"./src/controller/fragment-finders.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.ts ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{findFragWithCC:()=>u,findFragmentByPDT:()=>o,findFragmentByPTS:()=>a,fragmentWithinToleranceTest:()=>s,pdtWithinToleranceTest:()=>l});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../utils/binary-search */"./src/utils/binary-search.ts");function o(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!(0,n.isFiniteNumber)(t))return null;var i=e[0].programDateTime;if(t<(i||0))return null;var o=e[e.length-1].endProgramDateTime;if(t>=(o||0))return null;r=r||0;for(var a=0;a<e.length;++a){var s=e[a];if(l(t,r,s))return s}return null}function a(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=null;if(e?o=t[e.sn-t[0].sn+1]||null:0===r&&0===t[0].start&&(o=t[0]),o&&0===s(r,n,o))return o;var a=i["default"].search(t,s.bind(null,r,n));return!a||a===e&&o?o:a}function s(e,t,r){if(void 0===e&&(e=0),void 0===t&&(t=0),r.start<=e&&r.start+r.duration>e)return 0;var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function l(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0)),i=r.endProgramDateTime||0;return i-n>e}function u(e,t){return i["default"].search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.ts ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{FragmentState:()=>n,FragmentTracker:()=>a});var n,i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../types/loader */"./src/types/loader.ts");(function(e){e["NOT_LOADED"]="NOT_LOADED",e["APPENDING"]="APPENDING",e["PARTIAL"]="PARTIAL",e["OK"]="OK"})(n||(n={}));var a=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},t.getAppendedFrag=function(e,t){if(t===o.PlaylistLevelType.MAIN){var r=this.activeFragment,n=this.activeParts;if(!r)return null;if(n)for(var i=n.length;i--;){var a=n[i],s=a?a.end:r.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=n.slice(i-9)),a}else if(r.start<=e&&void 0!==r.appendedPTS&&e<=r.appendedPTS)return r}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var r=this.fragments,n=Object.keys(r),i=n.length;i--;){var o=r[n[i]];if((null===o||void 0===o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null},t.detectEvictedFragments=function(e,t,r){var n=this;this.timeRanges&&(this.timeRanges[e]=t),Object.keys(this.fragments).forEach((function(i){var o=n.fragments[i];if(o)if(o.buffered||o.loaded){var a=o.range[e];a&&a.time.some((function(e){var r=!n.isTimeBuffered(e.startPTS,e.endPTS,t);return r&&n.removeFragment(o.body),r}))}else o.body.type===r&&n.removeFragment(o.body)}))},t.detectPartialFragments=function(e){var t=this,r=this.timeRanges,n=e.frag,i=e.part;if(r&&"initSegment"!==n.sn){var o=l(n),a=this.fragments[o];a&&(Object.keys(r).forEach((function(e){var o=n.elementaryStreams[e];if(o){var s=r[e],l=null!==i||!0===o.partial;a.range[e]=t.getBufferedTimes(n,i,l,s)}})),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,a.body.endList&&(this.endListFragments[a.body.type]=a)):this.removeFragment(a.body))}},t.fragBuffered=function(e){var t=l(e),r=this.fragments[t];r&&(r.loaded=null,r.buffered=!0)},t.getBufferedTimes=function(e,t,r,n){for(var i={time:[],partial:r},o=t?t.start:e.start,a=t?t.end:e.end,s=e.minEndPTS||a,l=e.maxStartPTS||o,u=0;u<n.length;u++){var c=n.start(u)-this.bufferPadding,d=n.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(o,n.start(u)),endPTS:Math.min(a,n.end(u))});break}if(o<d&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,n.start(u)),endPTS:Math.min(a,n.end(u))});else if(a<=c)break}return i},t.getPartialFragment=function(e){var t,r,n,i=null,o=0,a=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(u){var c=l[u];c&&s(c)&&(r=c.body.start-a,n=c.body.end+a,e>=r&&e<=n&&(t=Math.min(e-r,n-e),o<=t&&(i=c.body,o=t)))})),i},t.isEndListAppended=function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||s(t))},t.getState=function(e){var t=l(e),r=this.fragments[t];return r?r.buffered?s(r)?n.PARTIAL:n.OK:n.APPENDING:n.NOT_LOADED},t.isTimeBuffered=function(e,t,r){for(var n,i,o=0;o<r.length;o++){if(n=r.start(o)-this.bufferPadding,i=r.end(o)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},t.onFragLoaded=function(e,t){var r=t.frag,n=t.part;if("initSegment"!==r.sn&&!r.bitrateTest&&!n){var i=l(r);this.fragments[i]={body:r,loaded:t,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var r=this,n=t.frag,i=t.part,a=t.timeRanges;if(n.type===o.PlaylistLevelType.MAIN)if(this.activeFragment!==n&&(this.activeFragment=n,n.appendedPTS=void 0),i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(r.detectEvictedFragments(e,t),!i&&n.type===o.PlaylistLevelType.MAIN){var s=n.elementaryStreams[e];if(!s)return;for(var l=0;l<t.length;l++){var u=t.end(l);u<=s.endPTS&&u>s.startPTS?n.appendedPTS=Math.max(u,n.appendedPTS||0):n.appendedPTS=s.endPTS}}}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,r){var n=this;Object.keys(this.fragments).forEach((function(i){var o=n.fragments[i];if(o&&o.buffered){var a=o.body;a.type===r&&a.start<t&&a.end>e&&n.removeFragment(a)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),e.appendedPTS=void 0,delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,r;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(r=e.range.audio)||void 0===r?void 0:r.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.ts ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{MAX_START_GAP_JUMP:()=>l,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>u,SKIP_BUFFER_RANGE_START:()=>c,STALL_MINIMUM_DURATION_MS:()=>s,default:()=>d});var n=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),i=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=250,l=2,u=.1,c=.05,d=function(){function e(e,t,r,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var r=this.config,i=this.media,o=this.stalled;if(null!==i){var u=i.currentTime,c=i.seeking,d=this.seeking&&!c,f=!this.seeking&&c;if(this.seeking=c,u===e){if((f||d)&&(this.stalled=null),!(i.paused&&!c||i.ended||0===i.playbackRate)&&n.BufferHelper.getBuffered(i).length){var h=n.BufferHelper.bufferInfo(i,u,0),p=h.len>0,v=h.nextStart||0;if(p||v){if(c){var m=h.len>l,g=!v||t&&t.start<=u||v-u>l&&!this.fragmentTracker.getPartialFragment(u);if(m||g)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var y,b=Math.max(v,h.start||0)-u,E=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=null===E||void 0===E||null===(y=E.details)||void 0===y?void 0:y.live,w=S?2*E.details.targetduration:l;if(b>0&&b<=w)return void this._trySkipBufferHole(null)}var T=self.performance.now();if(null!==o){var _=T-o;if(c||!(_>=s)||(this._reportStall(h),this.media)){var k=n.BufferHelper.bufferInfo(i,u,r.maxBufferHole);this._tryFixBufferStall(k,_)}}else this.stalled=T}}}else if(this.moved=!0,null!==o){if(this.stallReported){var x=self.performance.now()-o;a.logger.warn("playback not stuck anymore @"+u+", after "+Math.round(x)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media;if(null!==i){var o=i.currentTime,s=n.getPartialFragment(o);if(s){var l=this._trySkipBufferHole(s);if(l||!this.media)return}e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,r=this.media,n=this.stallReported;!n&&r&&(this.stallReported=!0,a.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer ("+JSON.stringify(e)+")"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e.len}))},t._trySkipBufferHole=function(e){var t=this.config,r=this.hls,s=this.media;if(null===s)return 0;for(var l=s.currentTime,d=0,f=n.BufferHelper.getBuffered(s),h=0;h<f.length;h++){var p=f.start(h);if(l+t.maxBufferHole>=d&&l<p){var v=Math.max(p+c,s.currentTime+u);return a.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&r.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+v,frag:e}),v}d=f.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=this.nudgeRetry;if(null!==r){var s=r.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){var l=s+(n+1)*e.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+s+" to "+l),r.currentTime=l,t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},e}()},"./src/controller/id3-track-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.ts ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),a=r(/*! ../demux/id3 */"./src/demux/id3.ts"),s=r(/*! ../loader/date-range */"./src/loader/date-range.ts"),l=r(/*! ../types/demuxer */"./src/types/demuxer.ts"),u=.25;function c(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var d=function(){var e=c();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function f(e,t){return e.getTime()/1e3-t}function h(e){return Uint8Array.from(e.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var p=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&((0,o.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return(0,o.sendAddTrackEvent)(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var r=this.hls.config,n=r.enableEmsgMetadataCues,i=r.enableID3MetadataCues;if(n||i){var o=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var s=c(),f=0;f<o.length;f++){var h=o[f].type;if((h!==l.MetadataSchema.emsg||n)&&i){var p=a.getID3Frames(o[f].data);if(p){var v=o[f].pts,m=v+o[f].duration;m>d&&(m=d);var g=m-v;g<=0&&(m=v+u);for(var y=0;y<p.length;y++){var b=p[y];if(!a.isTimeStampFrame(b)){this.updateId3CueEnds(v);var E=new s(v,m,"");E.value=b,h&&(E.type=h),this.id3Track.addCue(E)}}}}}}}},t.updateId3CueEnds=function(e){var t,r=null===(t=this.id3Track)||void 0===t?void 0:t.cues;if(r)for(var n=r.length;n--;){var i=r[n];i.startTime<e&&i.endTime===d&&(i.endTime=e)}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,i=t.type,a=this.id3Track,s=this.hls;if(s){var u,c=s.config,d=c.enableEmsgMetadataCues,f=c.enableID3MetadataCues;if(a&&(d||f))u="audio"===i?function(e){return e.type===l.MetadataSchema.audioId3&&f}:"video"===i?function(e){return e.type===l.MetadataSchema.emsg&&d}:function(e){return e.type===l.MetadataSchema.audioId3&&f||e.type===l.MetadataSchema.emsg&&d},(0,o.removeCuesInRange)(a,r,n,u)}},t.onLevelUpdated=function(e,t){var r=this,i=t.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var o=this.dateRangeCuesAppended,a=this.id3Track,u=i.dateRanges,p=Object.keys(u);if(a)for(var v=Object.keys(o).filter((function(e){return!p.includes(e)})),m=function(e){var t=v[e];Object.keys(o[t].cues).forEach((function(e){a.removeCue(o[t].cues[e])})),delete o[t]},g=v.length;g--;)m(g);var y=i.fragments[i.fragments.length-1];if(0!==p.length&&(0,n.isFiniteNumber)(null===y||void 0===y?void 0:y.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var b=y.programDateTime/1e3-y.start,E=c(),S=function(e){var t=p[e],n=u[t],i=o[t],a=(null===i||void 0===i?void 0:i.cues)||{},c=(null===i||void 0===i?void 0:i.durationKnown)||!1,v=f(n.startDate,b),m=d,g=n.endDate;if(g)m=f(g,b),c=!0;else if(n.endOnNext&&!c){var y=p.reduce((function(e,t){var r=u[t];return r.class===n.class&&r.id!==t&&r.startDate>n.startDate&&e.push(r),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];y&&(m=f(y.startDate,b),c=!0)}for(var S=Object.keys(n.attr),w=0;w<S.length;w++){var T=S[w];if(T!==s.DateRangeAttribute.ID&&T!==s.DateRangeAttribute.CLASS&&T!==s.DateRangeAttribute.START_DATE&&T!==s.DateRangeAttribute.DURATION&&T!==s.DateRangeAttribute.END_DATE&&T!==s.DateRangeAttribute.END_ON_NEXT){var _=a[T];if(_)c&&!i.durationKnown&&(_.endTime=m);else{var k=n.attr[T];_=new E(v,m,""),T!==s.DateRangeAttribute.SCTE35_OUT&&T!==s.DateRangeAttribute.SCTE35_IN||(k=h(k)),_.value={key:T,data:k},_.type=l.MetadataSchema.dateRange,r.id3Track.addCue(_),a[T]=_}}}o[t]={cues:a,dateRange:n,durationKnown:c}},w=0;w<p.length;w++)S(w)}}},e}();const v=p},"./src/controller/latency-controller.ts":
/*!**********************************************!*\
  !*** ./src/controller/latency-controller.ts ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../errors */"./src/errors.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts");function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"===typeof t?t:String(t)}function u(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},t.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},t.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},t.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},t.onLevelUpdated=function(e,t){var r=t.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},t.onError=function(e,t){t.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},t.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,i=n.lowLatencyMode,o=n.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=r-a,l=Math.min(this.maxLatency,a+t.targetduration),u=s<l;if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,o)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,d))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},t.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},t.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},s(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,r=e.partHoldBack,n=e.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==o?o:a*n);var c=n,d=1;return u+Math.min(this.stallCount*d,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(null===e||null===t||null===r)return null;var n=r.edge,i=e-t-this.edgeStalled,o=n-r.totalduration,a=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}}]),e}()},"./src/controller/level-controller.ts":
/*!********************************************!*\
  !*** ./src/controller/level-controller.ts ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(/*! ../types/level */"./src/types/level.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../utils/codecs */"./src/utils/codecs.ts"),s=r(/*! ./level-helper */"./src/controller/level-helper.ts"),l=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=p(e,"string");return"symbol"===typeof t?t:String(t)}function p(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var g=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),y=function(e){function t(t){var r;return r=e.call(this,t,"[level-controller]")||this,r._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.onParsedComplete=void 0,r._registerListeners(),r}v(t,e);var r=t.prototype;return r._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},r._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},r.startLoad=function(){var t=this._levels;t.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},r.onManifestLoaded=function(e,t){var r,l,u=[],c=[],d=[],f={},h=!1,p=!1,v=!1;if(t.levels.forEach((function(e){var t=e.attrs;h=h||!(!e.width||!e.height),p=p||!!e.videoCodec,v=v||!!e.audioCodec,g&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var r=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;l=f[r],l?l.url.push(e.url):(l=new n.Level(e),f[r]=l,u.push(l)),t&&(t.AUDIO&&(0,s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&(0,s.addGroupId)(l,"text",t.SUBTITLES))})),(h||p)&&v&&(u=u.filter((function(e){var t=e.videoCodec,r=e.width,n=e.height;return!!t||!(!r||!n)}))),u=u.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||(0,a.isCodecSupportedInMp4)(t,"audio"))&&(!r||(0,a.isCodecSupportedInMp4)(r,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||(0,a.isCodecSupportedInMp4)(e.audioCodec,"audio")})),(0,s.assignTrackIdsByGroup)(c)),t.subtitles&&(d=t.subtitles,(0,s.assignTrackIdsByGroup)(d)),u.length>0){r=u[0].bitrate,u.sort((function(e,t){return e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"]?(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1:e.bitrate!==t.bitrate?e.bitrate-t.bitrate:e.attrs.SCORE!==t.attrs.SCORE?e.attrs.decimalFloatingPoint("SCORE")-t.attrs.decimalFloatingPoint("SCORE"):h&&e.height!==t.height?e.height-t.height:0})),this._levels=u;for(var m=0;m<u.length;m++)if(u[m].bitrate===r){this._firstLevel=m,this.log("manifest loaded, "+u.length+" level(s) found, first bitrate: "+r);break}var y=v&&!p,b={levels:u,audioTracks:c,subtitleTracks:d,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:v,video:p,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},r.onError=function(t,r){var i,a;if(e.prototype.onError.call(this,t,r),!r.fatal){var s=r.context,l=this._levels[this.currentLevelIndex];if(s&&(s.type===u.PlaylistContextType.AUDIO_TRACK&&l.audioGroupIds&&s.groupId===l.audioGroupIds[l.urlId]||s.type===u.PlaylistContextType.SUBTITLE_TRACK&&l.textGroupIds&&s.groupId===l.textGroupIds[l.urlId]))this.redundantFailover(this.currentLevelIndex);else{var c,d=!1,f=!0;switch(r.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(r.frag){var h=r.frag.type===u.PlaylistLevelType.MAIN?r.frag.level:this.currentLevelIndex,p=this._levels[h];p?(p.fragmentError++,p.fragmentError>this.hls.config.fragLoadingMaxRetry&&(c=h)):c=h}break;case o.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var v=l.attrs["HDCP-LEVEL"];v&&(this.hls.maxHdcpLevel=n.HdcpLevels[n.HdcpLevels.indexOf(v)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'));case o.ErrorDetails.FRAG_PARSING_ERROR:case o.ErrorDetails.KEY_SYSTEM_NO_SESSION:c=(null===(i=r.frag)||void 0===i?void 0:i.type)===u.PlaylistLevelType.MAIN?r.frag.level:this.currentLevelIndex,r.levelRetry=!1;break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:s&&(s.deliveryDirectives&&(f=!1),c=s.level),d=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:c=null!=(a=r.level)?a:this.currentLevelIndex,d=!0;break}void 0!==c&&this.recoverLevel(r,c,d,f)}}},r.recoverLevel=function(e,t,r,n){var i=e.details,o=this._levels[t];if(o.loadError++,r){var a=this.retryLoadingOrFail(e);if(!a)return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(n){var s=o.url.length;if(s>1&&o.loadError<s)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){for(var l=-1,u=this._levels,c=u.length;c--;){var d=(c+this.currentLevelIndex)%u.length;if(d!==this.currentLevelIndex&&0===u[d].loadError){l=d;break}}l>-1&&this.currentLevelIndex!==l?(this.warn(i+": switch to "+l),e.levelRetry=!0,this.hls.nextAutoLevel=l):!1===e.levelRetry&&(e.fatal=!0)}}},r.redundantFailover=function(e){var t=this._levels[e],r=t.url.length;if(r>1){var n=(t.urlId+1)%r;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(e){e.urlId=n})),this.level=e}},r.onFragLoaded=function(e,t){var r=t.frag;if(void 0!==r&&r.type===u.PlaylistLevelType.MAIN){var n=this._levels[r.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},r.onLevelLoaded=function(e,t){var r,n,i=t.level,o=t.details,a=this._levels[i];if(!a)return this.warn("Invalid level index "+i),void(null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,a.details)):null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0)},r.onAudioTrackSwitched=function(e,t){var r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=this.hls.audioTracks[t.id].groupId,o=0;o<r.audioGroupIds.length;o++)if(r.audioGroupIds[o]===i){n=o;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.currentLevelIndex,n=this._levels[r];if(this.canLoad&&n&&n.url.length>0){var o=n.urlId,a=n.url[o];if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("Attempt loading level index "+r+(void 0!==(null===t||void 0===t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"")+" with URL-id "+o+" "+a),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:a,level:r,id:o,deliveryDirectives:t||null})}},r.removeLevel=function(e,t){var r=function(e,r){return r!==t},n=this._levels.filter((function(n,i){return i!==e||n.url.length>1&&void 0!==t&&(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0)})).map((function(e,t){var r=e.details;return null!==r&&void 0!==r&&r.fragments&&r.fragments.forEach((function(e){e.level=t})),e}));this._levels=n,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:n})},f(t,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,r=this._levels;if(0!==r.length&&(this.currentLevelIndex!==e||null===(t=r[e])||void 0===t||!t.details)){if(e<0||e>=r.length){var n=e<0;if(this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:n,reason:"invalid level idx"}),n)return;e=Math.min(e,r.length-1)}this.clearTimer();var a=this.currentLevelIndex,s=r[a],l=r[e];this.log("switching to level "+e+" from "+a),this.currentLevelIndex=e;var u=c({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete u._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,u);var d=l.details;if(!d||d.live){var f=this.switchParams(l.uri,null===s||void 0===s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(l["default"])},"./src/controller/level-helper.ts":
/*!****************************************!*\
  !*** ./src/controller/level-helper.ts ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{addGroupId:()=>s,addSliding:()=>g,adjustSliding:()=>m,assignTrackIdsByGroup:()=>l,computeReloadInterval:()=>y,getFragmentWithSN:()=>b,getPartWith:()=>E,mapFragmentIntersection:()=>v,mapPartIntersection:()=>p,mergeDetails:()=>f,updateFragPTSDTS:()=>d,updatePTS:()=>u});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ../loader/date-range */"./src/loader/date-range.ts");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function s(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r);break}}function l(e){var t={};e.forEach((function(e){var r=e.groupId||"";e.id=t[r]=t[r]||0,t[r]++}))}function u(e,t,r){var n=e[t],i=e[r];c(n,i)}function c(e,t){var r=t.startPTS;if((0,n.isFiniteNumber)(r)){var i,o=0;t.sn>e.sn?(o=r-e.start,i=e):(o=e.start-r,i=t),i.duration!==o&&(i.duration=o)}else if(t.sn>e.sn){var a=e.cc===t.cc;a&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function d(e,t,r,o,a,s){var l=o-r;l<=0&&(i.logger.warn("Fragment should have a positive duration",t),o=r+t.duration,s=a+t.duration);var u=r,d=o,f=t.startPTS,h=t.endPTS;if((0,n.isFiniteNumber)(f)){var p=Math.abs(f-r);(0,n.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(p,t.deltaPTS):t.deltaPTS=p,u=Math.max(r,f),r=Math.min(r,f),a=Math.min(a,t.startDTS),d=Math.min(o,h),o=Math.max(o,h),s=Math.max(s,t.endDTS)}t.duration=o-r;var v=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=u,t.startDTS=a,t.endPTS=o,t.minEndPTS=d,t.endDTS=s;var m,g=t.sn;if(!e||g<e.startSN||g>e.endSN)return 0;var y=g-e.startSN,b=e.fragments;for(b[y]=t,m=y;m>0;m--)c(b[m],b[m-1]);for(m=y;m<b.length-1;m++)c(b[m],b[m+1]);return e.fragmentHint&&c(b[b.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,v}function f(e,t){for(var r=null,o=e.fragments,a=o.length-1;a>=0;a--){var s=o[a].initSegment;if(s){r=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,u=0;if(v(e,t,(function(e,i){e.relurl&&(u=e.cc-i.cc),(0,n.isFiniteNumber)(e.startPTS)&&(0,n.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(l=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment&&(i.initSegment=e.initSegment,r=e.initSegment)})),r){var c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;c.forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=r)||void 0===t?void 0:t.relurl)||(e.initSegment=r)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var f=t.skippedSegments;f--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=h(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var g=t.fragments;if(u){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var y=0;y<g.length;y++)g[y].cc+=u}t.skippedSegments&&(t.startCC=t.fragments[0].cc),p(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?d(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):m(e,t),g.length&&(t.totalduration=t.edge-g[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var b=t.advancedDateTime;if(t.advanced&&b){var E=t.edge;t.driftStart||(t.driftStartTime=b,t.driftStart=E),t.driftEndTime=b,t.driftEnd=E}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function h(e,t,r){var n=a({},e);return r&&r.forEach((function(e){delete n[e]})),Object.keys(t).forEach((function(e){var r=new o.DateRange(t[e].attr,n[e]);r.isValid?n[e]=r:i.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(t[e].attr)+'"')})),n}function p(e,t,r){if(e&&t)for(var n=0,i=0,o=e.length;i<=o;i++){var a=e[i],s=t[i+n];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?r(a,s):n--}}function v(e,t,r){for(var n=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=o;u++){var c=l[a+u],d=s[u];n&&!d&&u<n&&(d=t.fragments[u]=c),c&&d&&r(c,d)}}function m(e,t){var r=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;r<0||r>=n.length||g(t,n[r].start)}function g(e,t){if(t){for(var r=e.fragments,n=e.skippedSegments;n<r.length;n++)r[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function y(e,t){void 0===t&&(t=1/0);var r=1e3*e.targetduration;if(e.updated){var n=e.fragments,i=4;if(n.length&&r*i>t){var o=1e3*n[n.length-1].duration;o<r&&(r=o)}}else r/=2;return Math.round(r)}function b(e,t,r){if(!e||!e.details)return null;var n=e.details,i=n.fragments[t-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===t?i:t<n.startSN&&r&&r.sn===t?r:null)}function E(e,t,r){if(!e||!e.details)return null;var n=e.details.partList;if(n)for(var i=n.length;i--;){var o=n[i];if(o.index===r&&o.fragment.sn===t)return o}return null}},"./src/controller/stream-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.ts ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),o=r(/*! ../is-supported */"./src/is-supported.ts"),a=r(/*! ../events */"./src/events.ts"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),c=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),d=r(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),f=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),h=r(/*! ./gap-controller */"./src/controller/gap-controller.ts"),p=r(/*! ../errors */"./src/errors.ts");function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function m(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=y(e,"string");return"symbol"===typeof t?t:String(t)}function y(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var S=100,w=function(e){function t(t,r,n){var i;return i=e.call(this,t,r,n,"[stream-controller]")||this,i.audioCodecSwap=!1,i.gapController=null,i.level=-1,i._forceStartLoad=!1,i.altAudio=!1,i.audioOnly=!1,i.fragPlaying=null,i.onvplaying=null,i.onvseeked=null,i.fragLastKbps=0,i.couldBacktrack=!1,i.backtrackFragment=null,i.audioCodecSwitch=!1,i.videoBuffer=null,i._registerListeners(),i}b(t,e);var r=t.prototype;return r._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},r.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(S),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},r.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,r=this.level,n=null===t||void 0===t||null===(e=t[r])||void 0===e?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=i.State.IDLE);break;default:break}this.onTickEnd()},r.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},r.doTickIdle=function(){var e=this.hls,t=this.levelLastLoaded,r=this.levels,n=this.media,o=e.config,s=e.nextLoadLevel;if(null!==t&&(n||!this.startFragRequested&&o.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&r&&r[s]){var d=r[s],f=this.getMainFwdBufferInfo();if(null!==f){var h=this.getLevelDetails();if(h&&this._streamEnded(f,h)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,p),void(this.state=i.State.ENDED)}this.level=e.nextLoadLevel=s;var v=d.details;if(!v||this.state===i.State.WAITING_LEVEL||v.live&&this.levelLastLoaded!==s)return this.level=s,void(this.state=i.State.WAITING_LEVEL);var m=f.len,g=this.getMaxBufferLength(d.maxBitrate);if(!(m>=g)){this.backtrackFragment&&this.backtrackFragment.start>f.end&&(this.backtrackFragment=null);var y=this.backtrackFragment?this.backtrackFragment.start:f.end,b=this.getNextFragment(y,v);if(this.couldBacktrack&&!this.fragPrevious&&b&&"initSegment"!==b.sn&&this.fragmentTracker.getState(b)!==l.FragmentState.OK){var E,S=(null!=(E=this.backtrackFragment)?E:b).sn,w=S-v.startSN,T=v.fragments[w-1];T&&b.cc===T.cc&&(b=T,this.fragmentTracker.removeFragment(T))}else this.backtrackFragment&&f.len&&(this.backtrackFragment=null);if(b&&this.fragmentTracker.getState(b)===l.FragmentState.OK&&this.nextLoadPosition>y){var _=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO,k=(_===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;k&&this.afterBufferFlushed(k,_,u.PlaylistLevelType.MAIN),b=this.getNextFragment(this.nextLoadPosition,v)}b&&(!b.initSegment||b.initSegment.data||this.bitrateTest||(b=b.initSegment),this.loadFragment(b,v,y))}}}},r.loadFragment=function(t,r,n){var i,o=this.fragmentTracker.getState(t);this.fragCurrent=t,o===l.FragmentState.NOT_LOADED?"initSegment"===t.sn?this._loadInitSegment(t,r):this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t,r)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n)):o===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},r.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,u.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},r.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,u.PlaylistLevelType.MAIN)},r.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!==t&&void 0!==t&&t.readyState){var r,n=this.getAppendedFrag(t.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!t.paused&&e){var i=this.hls.nextLoadLevel,o=e[i],a=this.fragLastKbps;r=a&&this.fragCurrent?this.fragCurrent.duration*o.maxBitrate/(1e3*a)+1:0}else r=0;var s=this.getBufferedFrag(t.currentTime+r);if(s){var l=this.followingBufferedFrag(s);if(l){this.abortCurrentFrag();var u=l.maxStartPTS?l.maxStartPTS:l.start,c=l.duration,d=Math.max(s.end,u+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&e.abortRequests(),this.state){case i.State.KEY_LOADING:case i.State.FRAG_LOADING:case i.State.FRAG_LOADING_WAITING_RETRY:case i.State.PARSING:case i.State.PARSED:this.state=i.State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(t,r){e.prototype.flushMainBuffer.call(this,t,r,this.altAudio?"video":null)},r.onMediaAttached=function(t,r){e.prototype.onMediaAttached.call(this,t,r);var n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new h["default"](this.config,n,this.fragmentTracker,this.hls)},r.onMediaDetaching=function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},r.onMediaPlaying=function(){this.tick()},r.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;(0,n.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},r.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},r.onManifestParsed=function(e,t){var r,n=!1,i=!1;t.levels.forEach((function(e){r=e.audioCodec,r&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i&&!(0,o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},r.onLevelLoading=function(e,t){var r=this.levels;if(r&&this.state===i.State.IDLE){var n=r[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=i.State.WAITING_LEVEL)}},r.onLevelLoaded=function(e,t){var r,n=this.levels,o=t.level,s=t.details,l=s.totalduration;if(n){this.log("Level "+o+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var u=this.fragCurrent;!u||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||u.level!==t.level&&u.loader&&(this.state=i.State.IDLE,this.backtrackFragment=null,u.abortRequests());var c=n[o],d=0;if(s.live||null!==(r=c.details)&&void 0!==r&&r.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=o,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:s,level:o}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,d),this.tick()}else this.warn("Levels were reset while loading level "+o)},r._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,i=e.payload,o=this.levels;if(o){var a=o[r.level],s=a.details;if(s){var l=a.videoCodec,c=s.PTSKnown||!s.live,h=null===(t=r.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(a),v=this.transmuxer=this.transmuxer||new d["default"](this.hls,u.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=n?n.index:-1,g=-1!==m,y=new f.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,i.byteLength,m,g),b=this.initPTS[r.cc];v.push(i,h,p,l,r,n,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r.onAudioTrackSwitching=function(e,t){var r=this.altAudio,n=!!t.url,i=t.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;r&&s.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:i})}},r.onAudioTrackSwitched=function(e,t){var r=t.id,n=!!this.hls.audioTracks[r].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},r.onBufferCreated=function(e,t){var r,n,i=t.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(n=a,r=s,"video"===a){var l=i[a];l&&(this.videoBuffer=l.buffer)}}else o=!0}o&&r?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(e,t){var r=t.frag,n=t.part;if(!r||r.type===u.PlaylistLevelType.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var o=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}},r.onError=function(e,t){if(t.type!==p.ErrorTypes.KEY_SYSTEM_ERROR)switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.FRAG_PARSING_ERROR:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,n=this.getFwdBufferInfo(this.media,u.PlaylistLevelType.MAIN);n&&n.len>.5&&(r=!this.reduceMaxBufferLength(n.len)),r&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}break;default:break}else this.onFragmentOrKeyLoadError(u.PlaylistLevelType.MAIN,t)},r.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!s.BufferHelper.getBuffered(e).length){var r=this.state!==i.State.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}},r.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},r.onBufferFlushed=function(e,t){var r=t.type;if(r!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(r===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,u.PlaylistLevelType.MAIN)}},r.onLevelsUpdated=function(e,t){this.levels=t.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var e=this.media;if(e){var t=e.currentTime,r=this.startPosition;if(r>=0&&t<r){if(e.seeking)return void this.log("could not seek to "+r+", already seeking at "+t);var n=s.BufferHelper.getBuffered(e),i=n.length?n.start(0):0,o=i-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+o+" to match buffer start"),r+=o,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+t),e.currentTime=r}}},r._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},r._loadBitrateTestFrag=function(e,t){var r=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(t){var n=r.hls;if(t&&!r.fragContextChanged(e)){r.fragLoadError=0,r.state=i.State.IDLE,r.startFragRequested=!1,r.bitrateTest=!1;var o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),n.trigger(a.Events.FRAG_LOADED,t),e.bitrateTest=!1}}))},r._handleTransmuxComplete=function(e){var t,r="main",o=this.hls,s=e.remuxResult,l=e.chunkMeta,u=this.getCurrentContext(l);if(!u)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(l.level);var d=u.frag,f=u.part,h=u.level,p=s.video,v=s.text,m=s.id3,g=s.initSegment,y=h.details,b=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(d)){if(this.state=i.State.PARSING,g){g.tracks&&(this._bufferInitSegment(h,g.tracks,d,l),o.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:r,tracks:g.tracks}));var E=g.initPTS,S=g.timescale;(0,n.isFiniteNumber)(E)&&(this.initPTS[d.cc]=E,o.trigger(a.Events.INIT_PTS_FOUND,{frag:d,id:r,initPTS:E,timescale:S}))}if(p&&!1!==s.independent){if(y){var w=p.startPTS,T=p.endPTS,_=p.startDTS,k=p.endDTS;if(f)f.elementaryStreams[p.type]={startPTS:w,endPTS:T,startDTS:_,endDTS:k};else if(p.firstKeyFrame&&p.independent&&1===l.id&&(this.couldBacktrack=!0),p.dropped&&p.independent){var x=this.getMainFwdBufferInfo(),C=(x?x.end:this.getLoadPosition())+this.config.maxBufferHole,A=p.firstKeyFramePTS?p.firstKeyFramePTS:w;if(C<A-this.config.maxBufferHole)return void this.backtrack(d);d.setElementaryStreamInfo(p.type,d.start,T,d.start,k,!0)}d.setElementaryStreamInfo(p.type,w,T,_,k),this.backtrackFragment&&(this.backtrackFragment=d),this.bufferFragmentData(p,d,f,l)}}else if(!1===s.independent)return void this.backtrack(d);if(b){var L=b.startPTS,D=b.endPTS,R=b.startDTS,P=b.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:L,endPTS:D,startDTS:R,endDTS:P}),d.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,L,D,R,P),this.bufferFragmentData(b,d,f,l)}if(y&&null!==m&&void 0!==m&&null!==(t=m.samples)&&void 0!==t&&t.length){var O={id:r,frag:d,details:y,samples:m.samples};o.trigger(a.Events.FRAG_PARSING_METADATA,O)}if(y&&v){var I={id:r,frag:d,details:y,samples:v.samples};o.trigger(a.Events.FRAG_PARSING_USERDATA,I)}}},r._bufferInitSegment=function(e,t,r,n){var o=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,u=t.audiovideo;if(s){var c=e.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===d.indexOf("firefox")&&(c="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e],s=i.initSegment;null!==s&&void 0!==s&&s.byteLength&&o.hls.trigger(a.Events.BUFFER_APPENDING,{type:e,data:s,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,u.PlaylistLevelType.MAIN)},r.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=i.State.IDLE},r.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var r=e.currentTime;if(s.BufferHelper.isBuffered(e,r)?t=this.getAppendedFrag(r):s.BufferHelper.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;var n=this.fragPlaying,i=t.level;n&&t.sn===n.sn&&n.level===i&&t.urlId===n.urlId||(this.fragPlaying=t,this.hls.trigger(a.Events.FRAG_CHANGED,{frag:t}),n&&n.level===i||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:i}))}}},m(t,[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,r=this.currentFrag;if(r&&(0,n.isFiniteNumber)(t)&&(0,n.isFiniteNumber)(r.programDateTime)){var i=r.programDateTime+1e3*(t-r.start);return new Date(i)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),t}(i["default"])},"./src/controller/subtitle-stream-controller.ts":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.ts ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{SubtitleStreamController:()=>b});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),o=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),a=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),s=r(/*! ./level-helper */"./src/controller/level-helper.ts"),l=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),u=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),c=r(/*! ../types/loader */"./src/types/loader.ts"),d=r(/*! ../types/level */"./src/types/level.ts");function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=v(e,"string");return"symbol"===typeof t?t:String(t)}function v(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var y=500,b=function(e){function t(t,r,n){var i;return i=e.call(this,t,r,n,"[subtitle-stream-controller]")||this,i.levels=[],i.currentTrackId=-1,i.tracksBuffered=[],i.mainDetails=null,i._registerListeners(),i}m(t,e);var r=t.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},r._registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(n.Events.ERROR,this.onError,this),e.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(n.Events.ERROR,this.onError,this),e.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},r.startLoad=function(e){this.stopLoad(),this.state=u.State.IDLE,this.setInterval(y),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},r.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},r.onLevelLoaded=function(e,t){this.mainDetails=t.details},r.onSubtitleFragProcessed=function(e,t){var r=t.frag,n=t.success;if(this.fragPrevious=r,this.state=u.State.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var o,a=r.start,s=0;s<i.length;s++)if(a>=i[s].start&&a<=i[s].end){o=i[s];break}var l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},i.push(o)),this.fragmentTracker.fragBuffered(r)}}},r.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,o=this.levels;if(!o.length||!o[i]||!o[i].details)return;var a=o[i].details,s=a.targetduration,l=n-s;if(l<=0)return;t.endOffsetSubtitles=Math.max(0,l),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=l)e.shift();else{if(!(e[t].start<l))break;e[t].start=l,t++}})),this.fragmentTracker.removeFragmentsInRange(r,l,c.PlaylistLevelType.SUBTITLE)}},r.onFragBuffered=function(e,t){var r;this.loadedmetadata||t.frag.type!==c.PlaylistLevelType.MAIN||null!==(r=this.media)&&void 0!==r&&r.buffered.length&&(this.loadedmetadata=!0)},r.onError=function(e,t){var r=t.frag;r&&r.type===c.PlaylistLevelType.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=u.State.IDLE)},r.onSubtitleTracksUpdated=function(e,t){var r=this,n=t.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(e){return new d.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){r.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},r.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!==r&&void 0!==r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(y)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(e,t){var r,n=t.details,i=t.id,l=this.currentTrackId,c=this.levels;if(c.length){var d=c[l];if(!(i>=c.length||i!==l)&&d){this.mediaBuffer=this.mediaBufferTimeRanges;var f=0;if(n.live||null!==(r=d.details)&&void 0!==r&&r.live){var h=this.mainDetails;if(n.deltaUpdateFailed||!h)return;var p=h.fragments[0];d.details?(f=this.alignPlaylists(n,d.details),0===f&&p&&(f=p.start,(0,s.addSliding)(n,f))):n.hasProgramDateTime&&h.hasProgramDateTime?((0,a.alignMediaPlaylistByPDT)(n,h),f=n.fragments[0].start):p&&(f=p.start,(0,s.addSliding)(n,f))}if(d.details=n,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(d.details,f),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===u.State.IDLE){var v=(0,o.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0);v||(this.warn("Subtitle playlist not aligned with playback"),d.details=void 0)}}}},r._handleFragmentLoadComplete=function(e){var t=this,r=e.frag,i=e.payload,o=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var s=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).then((function(e){var t=performance.now();a.trigger(n.Events.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:s,tdecrypt:t}})})).catch((function(e){t.warn(e.name+": "+e.message),t.state=u.State.IDLE}))}},r.doTick=function(){if(this.media){if(this.state===u.State.IDLE){var e=this.currentTrackId,t=this.levels;if(!t.length||!t[e]||!t[e].details)return;var r=t[e].details,n=r.targetduration,a=this.config,s=this.getLoadPosition(),d=i.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s-n,a.maxBufferHole),f=d.end,h=d.len,p=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN),v=this.getMaxBufferLength(null===p||void 0===p?void 0:p.len)+n;if(h>v)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var m=r.fragments,g=m.length,y=r.edge,b=null,E=this.fragPrevious;if(f<y){var S=a.maxFragLookUpTolerance;b=(0,o.findFragmentByPTS)(E,m,Math.max(m[0].start,f),S),!b&&E&&E.start<m[0].start&&(b=m[0])}else b=m[g-1];if(!b)return;b=this.mapToInitFragWhenRequired(b),this.fragmentTracker.getState(b)===l.FragmentState.NOT_LOADED&&this.loadFragment(b,r,f)}}else this.state=u.State.IDLE},r.getMaxBufferLength=function(t){var r=e.prototype.getMaxBufferLength.call(this);return t?Math.max(r,t):r},r.loadFragment=function(t,r,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,r):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n))},h(t,[{key:"mediaBufferTimeRanges",get:function(){return new E(this.tracksBuffered[this.currentTrackId]||[])}}]),t}(u["default"]),E=function(e){this.buffered=void 0;var t=function(t,r,n){if(r>>>=0,r>n-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+r+") is greater than the maximum bound ("+n+")");return e[r][t]};this.buffered={get length(){return e.length},end:function(r){return t("end",r,e.length)},start:function(r){return t("start",r,e.length)}}}},"./src/controller/subtitle-track-controller.ts":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.ts ***!
  \*****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(/*! ../events */"./src/events.ts"),i=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),o=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),a=r(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"===typeof t?t:String(t)}function c(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){function t(t){var r;return r=e.call(this,t,"[subtitle-track-controller]")||this,r.media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}d(t,e);var r=t.prototype;return r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},r.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},r.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},r.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},r.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},r.onMediaDetaching=function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var e=p(this.media.textTracks);e.forEach((function(e){(0,i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null}},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},r.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},r.onSubtitleTrackLoaded=function(e,t){var r=t.id,n=t.details,i=this.trackId,o=this.tracksInGroup[i];if(o){var a=o.details;o.details=t.details,this.log("subtitle track "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,t,a))}else this.warn("Invalid subtitle track id "+r)},r.onLevelLoading=function(e,t){this.switchLevel(t.level)},r.onLevelSwitching=function(e,t){this.switchLevel(t.level)},r.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.textGroupIds){var r=t.textGroupIds[t.urlId];if(this.groupId!==r){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,o=this.tracks.filter((function(e){return!r||e.groupId===r}));this.tracksInGroup=o;var a=this.findTrackId(null===i||void 0===i?void 0:i.name)||this.findTrackId();this.groupId=r;var s={subtitleTracks:o};this.log("Updating subtitle tracks, "+o.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,i)}}},r.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},r.onError=function(t,r){e.prototype.onError.call(this,t,r),!r.fatal&&r.context&&r.context.type===a.PlaylistContextType.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(r)){var i=r.id,o=r.groupId,a=r.url;if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("Loading subtitle playlist for id "+i),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:a,id:i,groupId:o,deliveryDirectives:t||null})}},r.toggleTrackModes=function(e){var t=this,r=this.media,n=this.trackId;if(r){var i=p(r.textTracks),o=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var a=o[n];a&&(a.mode="disabled")}var s=o[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}},r.setSubtitleTrack=function(e,t){var r,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(r=i[e])&&void 0!==r&&r.details)||e<-1||e>=i.length)){this.clearTimer();var o=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,o){var a=o.id,s=o.groupId,l=void 0===s?"":s,u=o.name,c=o.type,d=o.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:a,groupId:l,name:u,type:c,url:d});var f=this.switchParams(o.url,null===t||void 0===t?void 0:t.details);this.loadPlaylist(f)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},r.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=p(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},l(t,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}]),t}(o["default"]);function p(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"===n.kind&&n.label&&t.push(e[r])}return t}const v=h},"./src/controller/timeline-controller.ts":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.ts ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{TimelineController:()=>h});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.ts"),a=r(/*! ../utils/output-filter */"./src/utils/output-filter.ts"),s=r(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.ts"),l=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),u=r(/*! ../utils/imsc1-ttml-parser */"./src/utils/imsc1-ttml-parser.ts"),c=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),d=r(/*! ../types/loader */"./src/types/loader.ts"),f=r(/*! ../utils/logger */"./src/utils/logger.ts"),h=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=m(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new a["default"](this,"textTrack1"),r=new a["default"](this,"textTrack2"),n=new a["default"](this,"textTrack3"),s=new a["default"](this,"textTrack4");this.cea608Parser1=new o["default"](1,t,r),this.cea608Parser2=new o["default"](3,n,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,r,n,o){for(var a=!1,s=o.length;s--;){var l=o[s],u=v(l[0],l[1],t,r);if(u>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],r),a=!0,u/(r-t)>.5))return}if(a||o.push([t,r]),this.config.renderTextTracksNatively){var c=this.captionsTracks[e];this.Cues.newCue(c,t,r,n)}else{var d=this.Cues.newCue(null,t,r,n);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:d,track:e})}},t.onInitPtsFound=function(e,t){var r=this,n=t.frag,o=t.id,a=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===o&&(this.initPTS[n.cc]=a,this.timescale[n.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){r.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,r=this.captionsTracks,n=this.media,i=t[e],o=i.label,a=i.languageCode,s=this.getExistingTrack(e);if(s)r[e]=s,(0,l.clearCurrentCues)(r[e]),(0,l.sendAddTrackEvent)(r[e],n);else{var u=this.createTextTrack("captions",o,a);u&&(u[e]=!0,r[e]=u)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var r=t.label,n={_id:e,label:r,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){(0,l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=m(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)(0,l.clearCurrentCues)(t[r])}},t.onSubtitleTracksUpdated=function(e,t){var r=this;this.textTracks=[];var n=t.subtitleTracks||[],o=n.some((function(e){return e.textCodec===u.IMSC1_CODEC}));if(this.config.enableWebVTT||o&&this.config.enableIMSC1){var a=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var n;if(t<s.length){for(var i=null,o=0;o<s.length;o++)if(p(s[o],e)){i=s[o];break}i&&(n=i)}if(n)(0,l.clearCurrentCues)(n);else{var a=r._captionsOrSubtitlesFromCharacteristics(e);n=r.createTextTrack(a,e.name,e.lang),n&&(n.mode="disabled")}n&&(n.groupId=e.groupId,r.textTracks.push(n))}))}else if(!a&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t._captionsOrSubtitlesFromCharacteristics=function(e){var t;if(null!==(t=e.attrs)&&void 0!==t&&t.CHARACTERISTICS){var r=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(r&&n)return"captions"}return"subtitles"},t.onManifestLoaded=function(e,t){var r=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack"+t[1],i=r.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.closedCaptionsForLevel=function(e){var t=this.hls.levels[e.level];return null===t||void 0===t?void 0:t.attrs["CLOSED-CAPTIONS"]},t.onFragLoading=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn,o=this.lastPartIndex;if(this.enabled&&r&&n&&t.frag.type===d.PlaylistLevelType.MAIN){var a,s,l=t.frag.sn,u=null!=(a=null===t||void 0===t||null===(s=t.part)||void 0===s?void 0:s.index)?a:-1;l===i+1||l===i&&u===o+1||(r.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=u}},t.onFragLoaded=function(e,t){var r=t.frag,o=t.payload,a=this.initPTS,s=this.unparsedVttFrags;if(r.type===d.PlaylistLevelType.SUBTITLE)if(o.byteLength){if(!(0,n.isFiniteNumber)(a[r.cc]))return s.push(t),void(a.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var l=r.decryptdata,c="stats"in t;if(null==l||!l.encrypted||c){var f=this.tracks[r.level],h=this.vttCCs;h[r.cc]||(h[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),f&&f.textCodec===u.IMSC1_CODEC?this._parseIMSC1(r,o):this._parseVTTs(r,o,h)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var r=this,n=this.hls;(0,u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){r._appendCues(t,e.level),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){f.logger.log("Failed to parse IMSC1: "+t),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,r){var n,o=this,a=this.hls,l=null!==(n=e.initSegment)&&void 0!==n&&n.data?(0,c.appendUint8Array)(e.initSegment.data,new Uint8Array(t)):t;(0,s.parseWebVTT)(l,this.initPTS[e.cc],this.timescale[e.cc],r,e.cc,e.start,(function(t){o._appendCues(t,e.level),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(r){o._fallbackToIMSC1(e,t),f.logger.log("Failed to parse VTT cue: "+r),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})}))},t._fallbackToIMSC1=function(e,t){var r=this,n=this.tracks[e.level];n.textCodec||(0,u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){n.textCodec=u.IMSC1_CODEC,r._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))},t._appendCues=function(e,t){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((function(e){return(0,l.addCueToTrack)(n,e)}))}else{var o=this.tracks[t];if(!o)return;var a=o.default?"default":"subtitles"+t;r.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){var r=t.frag;if(r.type===d.PlaylistLevelType.SUBTITLE){if(!(0,n.isFiniteNumber)(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n){var i=t.frag,o=t.samples;if(i.type!==d.PlaylistLevelType.MAIN||"NONE"!==this.closedCaptionsForLevel(i))for(var a=0;a<o.length;a++){var s=o[a].bytes;if(s){var l=this.extractCea608Data(s);r.addData(o[a].pts,l[0]),n.addData(o[a].pts,l[1])}}}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,o=t.type,a=this.media;if(a&&!(a.currentTime<n)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return(0,l.removeCuesInRange)(s[e],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==i){var u=this.textTracks;Object.keys(u).forEach((function(e){return(0,l.removeCuesInRange)(u[e],r,i)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],r=31&e[0],n=2,i=0;i<r;i++){var o=e[n++],a=127&e[n++],s=127&e[n++];if(0!==a||0!==s){var l=0!==(4&o);if(l){var u=3&o;0!==u&&1!==u||(t[u].push(a),t[u].push(s))}}}return t},e}();function p(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function v(e,t,r,n){return Math.min(t,n)-Math.max(e,r)}function m(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}},"./src/crypt/aes-crypto.ts":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}var t=e.prototype;return t.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,removePadding:()=>i});var n=r(/*! ../utils/typed-array */"./src/utils/typed-array.ts");function i(e){var t=e.byteLength,r=t&&new DataView(e.buffer).getUint8(t-1);return r?(0,n.sliceUint8)(e,0,t-r):e}var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],a=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[h]=m,t[m]=h;var g=f[h],y=f[g],b=f[y],E=257*f[m]^16843008*m;n[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,o[h]=E<<8|E>>>24,a[h]=E,E=16843009*b^65537*y^257*g^16843008*h,l[m]=E<<24|E>>>8,u[m]=E<<16|E>>>16,c[m]=E<<8|E>>>24,d[m]=E,h?(h=g^f[f[f[b^g]]],p^=f[f[p]]):h=p=1}},t.expandKey=function(e){var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;while(n<t.length&&r)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(o=0;o<u;o++)o<i?s=c[o]=t[o]:(l=s,o%i===0?(l=l<<8|l>>>24,l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[o/i|0]<<24):i>6&&o%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[o]=s=(c[o-i]^l)>>>0);for(a=0;a<u;a++)o=u-a,l=3&a?c[o]:c[o-4],d[a]=a<4||o<=4?l:v[f[l>>>24]]^m[f[l>>>16&255]]^g[f[l>>>8&255]]^y[f[255&l]],d[a]=d[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r){var n,i,o,a,s,l,u,c,d,f,h,p,v,m,g=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,E=this.invSubMix,S=E[0],w=E[1],T=E[2],_=E[3],k=this.uint8ArrayToUint32Array_(r),x=k[0],C=k[1],A=k[2],L=k[3],D=new Int32Array(e),R=new Int32Array(D.length),P=this.networkToHostOrderSwap;while(t<D.length){for(d=P(D[t]),f=P(D[t+1]),h=P(D[t+2]),p=P(D[t+3]),s=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],v=4,m=1;m<g;m++)n=S[s>>>24]^w[l>>16&255]^T[u>>8&255]^_[255&c]^y[v],i=S[l>>>24]^w[u>>16&255]^T[c>>8&255]^_[255&s]^y[v+1],o=S[u>>>24]^w[c>>16&255]^T[s>>8&255]^_[255&l]^y[v+2],a=S[c>>>24]^w[s>>16&255]^T[l>>8&255]^_[255&u]^y[v+3],s=n,l=i,u=o,c=a,v+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[v],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],o=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[v+3],R[t]=P(n^x),R[t+1]=P(a^C),R[t+2]=P(o^A),R[t+3]=P(i^L),x=d,C=f,A=h,L=p,t+=4}return R.buffer},e}()},"./src/crypt/decrypter.ts":
/*!********************************!*\
  !*** ./src/crypt/decrypter.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./aes-crypto */"./src/crypt/aes-crypto.ts"),i=r(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.ts"),o=r(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=r(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),u=16,c=function(){function e(e,t){var r=void 0===t?{}:t,n=r.removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}null===this.subtle&&(this.useSoftware=!0)}var t=e.prototype;return t.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},t.isSync=function(){return this.useSoftware},t.flush=function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return a.logger.error("[softwareDecrypt] "+(t?"overflow bytes: "+t.byteLength:"no result")),this.reset(),null;var r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(0,o.removePadding)(r):r},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,r){var n=this;return this.useSoftware?new Promise((function(i,o){n.softwareDecrypt(new Uint8Array(e),t,r);var a=n.flush();a?i(a.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,r)},t.softwareDecrypt=function(e,t,r){var n=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=(0,s.appendUint8Array)(a,e),this.remainderData=null);var u=this.getValidChunk(e);if(!u.length)return null;n&&(r=n);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new o["default"]),c.expandKey(t);var d=i;return this.currentResult=c.decrypt(u.buffer,0,r),this.currentIV=(0,l.sliceUint8)(u,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,r){var o=this,s=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i["default"](s,t)),this.fastAesKey.expandKey().then((function(t){if(!s)return Promise.reject(new Error("web crypto not initialized"));o.logOnce("WebCrypto AES decrypt");var i=new n["default"](s,new Uint8Array(r));return i.decrypt(e.buffer,t)})).catch((function(n){return a.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+n.name+": "+n.message),o.onWebCryptoError(e,t,r)}))},t.onWebCryptoError=function(e,t,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r);var n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},t.getValidChunk=function(e){var t=e,r=e.length-e.length%u;return r!==e.length&&(t=(0,l.sliceUint8)(e,0,r),this.remainderData=(0,l.sliceUint8)(e,r)),t},t.logOnce=function(e){this.logEnabled&&(a.logger.log("[decrypter]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.ts ***!
  \***********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}var t=e.prototype;return t.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),i=r(/*! ./adts */"./src/demux/adts.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ../demux/id3 */"./src/demux/id3.ts");function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(t,r){var n;return n=e.call(this)||this,n.observer=void 0,n.config=void 0,n.observer=t,n.config=r,n}s(t,e);var r=t.prototype;return r.resetInitSegment=function(t,r,n,i){e.prototype.resetInitSegment.call(this,t,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=a.getID3Data(e,0)||[],r=t.length,n=e.length;r<n;r++)if(i.probe(e,r))return o.logger.log("ADTS sync word found !"),!0;return!1},r.canParse=function(e,t){return i.canParse(e,t)},r.appendFrame=function(e,t,r){i.initTrackConfig(e,this.observer,t,r,e.manifestCodec);var n=i.appendFrame(e,t,r,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n},t}(n["default"]);const c=u},"./src/demux/adts.ts":
/*!***************************!*\
  !*** ./src/demux/adts.ts ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{appendFrame:()=>g,canGetFrameLength:()=>c,canParse:()=>f,getAudioConfig:()=>a,getFrameDuration:()=>v,getFullFrameLength:()=>u,getHeaderLength:()=>l,initTrackConfig:()=>p,isHeader:()=>d,isHeaderPattern:()=>s,parseFrameHeader:()=>m,probe:()=>h});var n=r(/*! ../utils/logger */"./src/utils/logger.ts"),i=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ../events */"./src/events.ts");function a(e,t,r,a){var s,l,u,c,d=navigator.userAgent.toLowerCase(),f=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[r+2])>>>6);var p=(60&t[r+2])>>>2;if(!(p>h.length-1))return u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,n.logger.log("manifest codec:"+a+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(d)?p>=6?(s=5,c=new Array(4),l=p-3):(s=2,c=new Array(2),l=p):-1!==d.indexOf("android")?(s=2,c=new Array(2),l=p):(s=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&p>=6?l=p-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(p>=6&&1===u||/vivaldi/i.test(d))||!a&&1===u)&&(s=2,c=new Array(2)),l=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=u<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[p],channelCount:u,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240===(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function d(e,t){return t+1<e.length&&s(e,t)}function f(e,t){return c(e,t)&&s(e,t)&&u(e,t)<=e.length-t}function h(e,t){if(d(e,t)){var r=l(e,t);if(t+r>=e.length)return!1;var n=u(e,t);if(n<=r)return!1;var i=t+n;return i===e.length||d(e,i)}return!1}function p(e,t,r,i,o){if(!e.samplerate){var s=a(t,r,i,o);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function m(e,t){var r=l(e,t);if(t+r<=e.length){var n=u(e,t)-r;if(n>0)return{headerLength:r,frameLength:n}}}function g(e,t,r,n,i){var o,a=v(e.samplerate),s=n+i*a,l=m(t,r);if(l){var u=l.frameLength,c=l.headerLength,d=c+u,f=Math.max(0,r+d-t.length);f?(o=new Uint8Array(d-c),o.set(t.subarray(r+c,t.length),0)):o=t.subarray(r+c,r+d);var h={unit:o,pts:s};return f||e.samples.push(h),{sample:h,length:d,missing:f}}var p=t.length-r;o=new Uint8Array(p),o.set(t.subarray(r,t.length),0);var g={unit:o,pts:s};return{sample:g,length:p,missing:-1}}},"./src/demux/base-audio-demuxer.ts":
/*!*****************************************!*\
  !*** ./src/demux/base-audio-demuxer.ts ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,initPTSFn:()=>c});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../demux/id3 */"./src/demux/id3.ts"),o=r(/*! ../types/demuxer */"./src/types/demuxer.ts"),a=r(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=r(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),u=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(e){this.initPTS=e,this.resetContiguity()},t.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,r){},t.demux=function(e,t){this.cachedData&&(e=(0,s.appendUint8Array)(this.cachedData,e),this.cachedData=null);var r,u=i.getID3Data(e,0),d=u?u.length:0,f=this._audioTrack,h=this._id3Track,p=u?i.getTimeStamp(u):void 0,v=e.length;(null===this.basePTS||0===this.frameIndex&&(0,n.isFiniteNumber)(p))&&(this.basePTS=c(p,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),u&&u.length>0&&h.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:u,type:o.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});while(d<v){if(this.canParse(e,d)){var m=this.appendFrame(f,e,d);m?(this.frameIndex++,this.lastPTS=m.sample.pts,d+=m.length,r=d):d=v}else i.canParse(e,d)?(u=i.getID3Data(e,d),h.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:u,type:o.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),d+=u.length,r=d):d++;if(d===v&&r!==v){var g=(0,l.sliceUint8)(e,r);this.cachedData?this.cachedData=(0,s.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:f,videoTrack:(0,a.dummyTrack)(),id3Track:h,textTrack:(0,a.dummyTrack)()}},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:(0,a.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,a.dummyTrack)()}},t.destroy=function(){},e}(),c=function(e,t,r){return(0,n.isFiniteNumber)(e)?90*e:9e4*t+(r||0)};const d=u},"./src/demux/chunk-cache.ts":
/*!**********************************!*\
  !*** ./src/demux/chunk-cache.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var n=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,r=this.dataLength;return t.length?(e=1===t.length?t[0]:i(t,r),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}();function i(e,t){for(var r=new Uint8Array(t),n=0,i=0;i<e.length;i++){var o=e[i];r.set(o,n),n+=o.length}return r}},"./src/demux/dummy-demuxed-track.ts":
/*!******************************************!*\
  !*** ./src/demux/dummy-demuxed-track.ts ***!
  \******************************************/(e,t,r)=>{"use strict";function n(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}r.r(t),r.d(t,{dummyTrack:()=>n})},"./src/demux/exp-golomb.ts":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../utils/logger */"./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;if(e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t,r=8,n=8,i=0;i<e;i++)0!==n&&(t=this.readEG(),n=(r+t+256)%256),r=0===n?r:n},t.readSPS=function(){var e,t,r,n=0,i=0,o=0,a=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=u();if(3===m&&d(1),h(),h(),d(1),c())for(t=3!==m?8:12,r=0;r<t;r++)c()&&p(r<6?16:64)}h();var g=u();if(0===g)u();else if(1===g)for(d(1),f(),f(),e=u(),r=0;r<e;r++)f();h(),d(1);var y=u(),b=u(),E=l(1);0===E&&d(1),d(1),c()&&(n=u(),i=u(),o=u(),a=u());var S=[1,1];if(c()&&c()){var w=s();switch(w){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[s()<<8|s(),s()<<8|s()];break}}return{width:Math.ceil(16*(y+1)-2*n-2*i),height:(2-E)*(b+1)*16-(E?2:4)*(o+a),pixelRatio:S}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();const o=i},"./src/demux/id3.ts":
/*!**************************!*\
  !*** ./src/demux/id3.ts ***!
  \**************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{canParse:()=>l,decodeFrame:()=>h,getID3Data:()=>a,getID3Frames:()=>f,getTimeStamp:()=>u,isFooter:()=>o,isHeader:()=>i,isTimeStampFrame:()=>c,testables:()=>b,utf8ArrayToStr:()=>y});var n,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){var r=t,n=0;while(i(e,t)){n+=10;var a=s(e,t+6);n+=a,o(e,t+10)&&(n+=10),t+=n}if(n>0)return e.subarray(r,r+n)},s=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3],r},l=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},u=function(e){for(var t=f(e),r=0;r<t.length;r++){var n=t[r];if(c(n))return g(n)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=s(e,4),n=10;return{type:t,size:r,data:e.subarray(n,n+r)}},f=function(e){var t=0,r=[];while(i(e,t)){var n=s(e,t+6);t+=10;var a=t+n;while(t+8<a){var l=d(e.subarray(t)),u=h(l);u&&r.push(u),t+=l.size+10}o(e,t)&&(t+=10)}return r},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?m(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=y(e.data);return{key:e.type,data:i}},g=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},y=function(e,t){void 0===t&&(t=!1);var r=E();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}var o,a,s,l=e.length,u="",c=0;while(c<l){if(o=e[c++],0===o&&t)return u;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(o);break;case 12:case 13:a=e[c++],u+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[c++],s=e[c++],u+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0);break;default:}}return u},b={decodeTextFrame:v};function E(){return n||"undefined"===typeof self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),i=r(/*! ../demux/id3 */"./src/demux/id3.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.resetInitSegment=function(t,r,n,i){e.prototype.resetInitSegment.call(this,t,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=i.getID3Data(e,0)||[],r=t.length,n=e.length;r<n;r++)if(a.probe(e,r))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},r.canParse=function(e,t){return a.canParse(e,t)},r.appendFrame=function(e,t,r){if(null!==this.basePTS)return a.appendFrame(e,t,r,this.basePTS,this.frameIndex)},t}(n["default"]);const c=u},"./src/demux/mp4demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../types/demuxer */"./src/types/demuxer.ts"),o=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),a=r(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=/\/emsg[-/]ID3/i,l=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,r,n){var i=this.videoTrack=(0,a.dummyTrack)("video",1),s=this.audioTrack=(0,a.dummyTrack)("audio",1),l=this.txtTrack=(0,a.dummyTrack)("text",1);if(this.id3Track=(0,a.dummyTrack)("id3",1),this.timeOffset=0,e&&e.byteLength){var u=(0,o.parseInitSegment)(e);if(u.video){var c=u.video,d=c.id,f=c.timescale,h=c.codec;i.id=d,i.timescale=l.timescale=f,i.codec=h}if(u.audio){var p=u.audio,v=p.id,m=p.timescale,g=p.codec;s.id=v,s.timescale=m,s.codec=g}l.id=o.RemuxerTrackIdConfig.text,i.sampleDuration=0,i.duration=s.duration=n}},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,(0,o.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var r=e,n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=(0,o.appendUint8Array)(this.remainderData,e));var a=(0,o.segmentValidRange)(r);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=r;var s=this.extractID3Track(n,t);return i.samples=(0,o.parseSamples)(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return r.samples=(0,o.parseSamples)(e,t),{videoTrack:t,audioTrack:(0,a.dummyTrack)(),id3Track:n,textTrack:(0,a.dummyTrack)()}},t.extractID3Track=function(e,t){var r=this.id3Track;if(e.samples.length){var a=(0,o.findBox)(e.samples,["emsg"]);a&&a.forEach((function(e){var a=(0,o.parseEmsg)(e);if(s.test(a.schemeIdUri)){var l=(0,n.isFiniteNumber)(a.presentationTime)?a.presentationTime/a.timeScale:t+a.presentationTimeDelta/a.timeScale,u=4294967295===a.eventDuration?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);var c=a.payload;r.samples.push({data:c,len:c.byteLength,dts:l,pts:l,type:i.MetadataSchema.emsg,duration:u})}}))}return r},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();const u=l},"./src/demux/mpegaudio.ts":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{appendFrame:()=>l,canParse:()=>f,isHeader:()=>d,isHeaderPattern:()=>c,parseHeader:()=>u,probe:()=>h});var n=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,r,n,i){if(!(r+24>t.length)){var o=u(t,r);if(o&&r+o.frameLength<=t.length){var a=9e4*o.samplesPerFrame/o.sampleRate,s=n+i*a,l={unit:t.subarray(r,r+o.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(l),{sample:l,length:o.frameLength,missing:0}}}}function u(e,t){var r=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==r&&0!==u&&15!==u&&3!==c){var d=e[t+2]>>1&1,f=e[t+3]>>6,h=3===r?3-l:3===l?3:4,p=1e3*i[14*h+u-1],v=3===r?0:2===r?1:2,m=o[3*v+c],g=3===f?1:2,y=a[r][l],b=s[l],E=8*y*b,S=Math.floor(y*p/m+d)*b;if(null===n){var w=navigator.userAgent||"",T=w.match(/Chrome\/(\d+)/i);n=T?parseInt(T[1]):0}var _=!!n&&n<=87;return _&&2===l&&p>=224e3&&0===f&&(e[t+3]=128|e[t+3]),{sampleRate:m,channelCount:g,frameLength:S,samplesPerFrame:E}}}function c(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function d(e,t){return t+1<e.length&&c(e,t)}function f(e,t){var r=4;return c(e,t)&&r<=e.length-t}function h(e,t){if(t+1<e.length&&c(e,t)){var r=4,n=u(e,t),i=r;null!==n&&void 0!==n&&n.frameLength&&(i=n.frameLength);var o=t+i;return o===e.length||d(e,o)}return!1}},"./src/demux/sample-aes.ts":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),i=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),o=function(){function e(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new n["default"](t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)},t.decryptAacSample=function(e,t,r){var n=this,i=e[t].unit;if(!(i.length<=16)){var o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(a).then((function(o){var a=new Uint8Array(o);i.set(a,16),n.decrypter.isSync()||n.decryptAacSamples(e,t+1,r)}))}},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,r),!this.decrypter.isSync()))return}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){for(var r=new Uint8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)e.set(r.subarray(n,n+16),i);return e},t.decryptAvcSample=function(e,t,r,n,o){var a=this,s=(0,i.discardEPB)(o.data),l=this.getAvcEncryptedData(s);this.decryptBuffer(l.buffer).then((function(i){o.data=a.getAvcDecryptedUnit(s,i),a.decrypter.isSync()||a.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;;r++){if(r>=i.length)break;var o=i[r];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(e,t,r,n,o),!this.decrypter.isSync()))return}}},e}();const a=o},"./src/demux/transmuxer-interface.ts":
/*!*******************************************!*\
  !*** ./src/demux/transmuxer-interface.ts ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ./webworkify-webpack */"./src/demux/webworkify-webpack.js"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../errors */"./src/errors.ts"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),u=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),c=(0,l.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function e(e,t,r,l){var d=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var f=e.config;this.hls=e,this.id=t,this.useWorker=!!f.enableWorker,this.onTransmuxComplete=r,this.onFlush=l;var h=function(e,t){t=t||{},t.frag=d.frag,t.id=d.id,d.hls.trigger(e,t)};this.observer=new u.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,h),this.observer.on(i.Events.ERROR,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){var m;a.logger.log("demuxing in webworker");try{m=this.worker=(0,n["default"])(/*! ../demux/transmuxer-worker.ts */"./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){d.useWorker=!1,a.logger.warn("Exception in webworker, fallback to inline"),d.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(f)})}catch(g){a.logger.warn("Error in worker:",g),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new o["default"](this.observer,p,f,v,t),this.worker=null}}else this.transmuxer=new o["default"](this.observer,p,f,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null,this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},t.push=function(e,t,r,n,i,s,l,u,c,d){var f,h,p=this;c.transmuxing.start=self.performance.now();var v=this.transmuxer,m=this.worker,g=s?s.start:i.start,y=i.decryptdata,b=this.frag,E=!(b&&i.cc===b.cc),S=!(b&&c.level===b.level),w=b?c.sn-b.sn:-1,T=this.part?c.part-this.part.index:-1,_=0===w&&c.id>1&&c.id===(null===b||void 0===b?void 0:b.stats.chunkCount),k=!S&&(1===w||0===w&&(1===T||_&&T<=0)),x=self.performance.now();(S||w||0===i.stats.parsing.start)&&(i.stats.parsing.start=x),!s||!T&&k||(s.stats.parsing.start=x);var C=!(b&&(null===(f=i.initSegment)||void 0===f?void 0:f.url)===(null===(h=b.initSegment)||void 0===h?void 0:h.url)),A=new o.TransmuxState(E,k,u,S,g,C);if(!k||E||C){a.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+E+"\n        trackSwitch: "+S+"\n        contiguous: "+k+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+g+"\n        initSegmentChange: "+C);var L=new o.TransmuxConfig(r,n,t,l,d);this.configureTransmuxer(L)}if(this.frag=i,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(v){var D=v.push(e,y,c,A);(0,o.isPromise)(D)?(v.async=!0,D.then((function(e){p.handleTransmuxComplete(e)})).catch((function(e){p.transmuxerError(e,c,"transmuxer-interface push error")}))):(v.async=!1,this.handleTransmuxComplete(D))}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var r=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:e});else if(r){var i=r.flush(e),a=(0,o.isPromise)(i);a||r.async?((0,o.isPromise)(i)||(i=Promise.resolve(i)),i.then((function(r){t.handleFlushResult(r,e)})).catch((function(r){t.transmuxerError(r,e,"transmuxer-interface flush error")}))):this.handleFlushResult(i,e)}},t.transmuxerError=function(e,t,r){this.hls&&this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:r})},t.handleFlushResult=function(e,t){var r=this;e.forEach((function(e){r.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":a.logger[t.data.logType]&&a.logger[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data);break}},t.configureTransmuxer=function(e){var t=this.worker,r=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):r&&r.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":
/*!****************************************!*\
  !*** ./src/demux/transmuxer-worker.ts ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),s=r(/*! ../errors */"./src/errors.ts");function l(e){var t=new a.EventEmitter,r=function(t,r){e.postMessage({event:t,data:r})};t.on(i.Events.FRAG_DECRYPTED,r),t.on(i.Events.ERROR,r);var l=function(){var e=function(e){var t=function(t){r("workerLog",{logType:e,message:t})};o.logger[e]=t};for(var t in o.logger)e(t)};e.addEventListener("message",(function(a){var c=a.data;switch(c.cmd){case"init":var f=JSON.parse(c.config);e.transmuxer=new n["default"](t,c.typeSupported,f,c.vendor,c.id),(0,o.enableLogs)(f.debug,c.id),l(),r("init",null);break;case"configure":e.transmuxer.configure(c.config);break;case"demux":var h=e.transmuxer.push(c.data,c.decryptdata,c.chunkMeta,c.state);(0,n.isPromise)(h)?(e.transmuxer.async=!0,h.then((function(t){u(e,t)})).catch((function(e){r(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:c.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker push error"})}))):(e.transmuxer.async=!1,u(e,h));break;case"flush":var p=c.chunkMeta,v=e.transmuxer.flush(p),m=(0,n.isPromise)(v);m||e.transmuxer.async?((0,n.isPromise)(v)||(v=Promise.resolve(v)),v.then((function(t){d(e,t,p)})).catch((function(e){r(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:c.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker flush error"})}))):d(e,v,p);break;default:break}}))}function u(e,t){if(f(t.remuxResult))return!1;var r=[],n=t.remuxResult,i=n.audio,o=n.video;return i&&c(r,i),o&&c(r,o),e.postMessage({event:"transmuxComplete",data:t},r),!0}function c(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function d(e,t,r){var n=t.reduce((function(t,r){return u(e,r)||t}),!1);n||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:r})}function f(e){return!e.audio&&!e.video&&!e.text&&!e.id3&&!e.initSegment}},"./src/demux/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/transmuxer.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{TransmuxConfig:()=>b,TransmuxState:()=>E,default:()=>v,isPromise:()=>y});var n,i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),s=r(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.ts"),l=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.ts"),u=r(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.ts"),c=r(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.ts"),d=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),f=r(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.ts"),h=r(/*! ../utils/logger */"./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(S){h.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var p=[{demux:l["default"],remux:f["default"]},{demux:u["default"],remux:d["default"]},{demux:s["default"],remux:d["default"]},{demux:c["default"],remux:d["default"]}],v=function(){function e(e,t,r,n,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,r,i){var o=this,a=r.transmuxing;a.executeStart=n();var s=new Uint8Array(e),l=this.currentTransmuxState,u=this.transmuxConfig;i&&(this.currentTransmuxState=i);var c=i||l,d=c.contiguous,f=c.discontinuity,h=c.trackSwitch,p=c.accurateTimeOffset,v=c.timeOffset,y=c.initSegmentChange,b=u.audioCodec,E=u.videoCodec,S=u.defaultInitPts,w=u.duration,T=u.initSegmentData,_=m(s,t);if(_&&"AES-128"===_.method){var k=this.getDecrypter();if(!k.isSync())return this.decryptionPromise=k.webCryptoDecrypt(s,_.key.buffer,_.iv.buffer).then((function(e){var t=o.push(e,null,r);return o.decryptionPromise=null,t})),this.decryptionPromise;var x=k.softwareDecrypt(s,_.key.buffer,_.iv.buffer);if(!x)return a.executeEnd=n(),g(r);s=new Uint8Array(x)}var C=this.needsProbing(f,h);C&&this.configureTransmuxer(s),(f||h||y||C)&&this.resetInitSegment(T,b,E,w,t),(f||y||C)&&this.resetInitialTimestamp(S),d||this.resetContiguity();var A=this.transmux(s,_,v,p,r),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,a.executeEnd=n(),A},t.flush=function(e){var t=this,r=e.transmuxing;r.executeStart=n();var a=this.decrypter,s=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var u=[],c=s.timeOffset;if(a){var d=a.flush();d&&u.push(this.push(d,null,e))}var f=this.demuxer,h=this.remuxer;if(!f||!h)return this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),r.executeEnd=n(),[g(e)];var p=f.flush(c);return y(p)?p.then((function(r){return t.flushRemux(u,r,e),u})):(this.flushRemux(u,p,e),u)},t.flushRemux=function(e,t,r){var i=t.audioTrack,o=t.videoTrack,a=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,u=l.accurateTimeOffset,c=l.timeOffset;h.logger.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var d=this.remuxer.remux(i,o,a,s,c,u,!0,this.id);e.push({remuxResult:d,chunkMeta:r}),r.transmuxing.executeEnd=n()},t.resetInitialTimestamp=function(e){var t=this.demuxer,r=this.remuxer;t&&r&&(t.resetTimeStamp(e),r.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,r,n,i){var o=this.demuxer,a=this.remuxer;o&&a&&(o.resetInitSegment(e,t,r,n),a.resetInitSegment(e,t,r,i))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,r,n,i){var o;return o=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,r,n,i):this.transmuxUnencrypted(e,r,n,i),o},t.transmuxUnencrypted=function(e,t,r,n){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),o=i.audioTrack,a=i.videoTrack,s=i.id3Track,l=i.textTrack,u=this.remuxer.remux(o,a,s,l,t,r,!1,this.id);return{remuxResult:u,chunkMeta:n}},t.transmuxSampleAes=function(e,t,r,n,i){var o=this;return this.demuxer.demuxSampleAes(e,t,r).then((function(e){var t=o.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,r,n,!1,o.id);return{remuxResult:t,chunkMeta:i}}))},t.configureTransmuxer=function(e){for(var t,r=this.config,n=this.observer,i=this.typeSupported,o=this.vendor,a=0,s=p.length;a<s;a++)if(p[a].demux.probe(e)){t=p[a];break}t||(h.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),t={demux:l["default"],remux:f["default"]});var u=this.demuxer,c=this.remuxer,d=t.remux,v=t.demux;c&&c instanceof d||(this.remuxer=new d(n,r,i,o)),u&&u instanceof v||(this.demuxer=new v(n,r,i),this.probe=v.probe)},t.needsProbing=function(e,t){return!this.demuxer||!this.remuxer||e||t},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new a["default"](this.config)),e},e}();function m(e,t){var r=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(r=t),r}var g=function(e){return{remuxResult:{},chunkMeta:e}};function y(e){return"then"in e&&e.then instanceof Function}var b=function(e,t,r,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=n,this.defaultInitPts=i},E=function(e,t,r,n,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=i,this.initSegmentChange=o}},"./src/demux/tsdemuxer.ts":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var n=r(/*! ./adts */"./src/demux/adts.ts"),i=r(/*! ./mpegaudio */"./src/demux/mpegaudio.ts"),o=r(/*! ./exp-golomb */"./src/demux/exp-golomb.ts"),a=r(/*! ./sample-aes */"./src/demux/sample-aes.ts"),s=r(/*! ../events */"./src/events.ts"),l=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),u=r(/*! ../utils/logger */"./src/utils/logger.ts"),c=r(/*! ../errors */"./src/errors.ts"),d=r(/*! ../types/demuxer */"./src/types/demuxer.ts");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}var h=188,p=function(){function e(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=r}e.probe=function(t){var r=e.syncOffset(t);return r>0&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r),-1!==r},e.syncOffset=function(e){var t=Math.min(5*h,e.length-2*h)+1,r=0;while(r<t){if(71===e[r]&&71===e[r+h])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:l.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,r=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},t.demux=function(t,r,n,i){var o;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var a=this._avcTrack,d=this._audioTrack,f=this._id3Track,p=this._txtTrack,v=a.pid,b=a.pesData,E=d.pid,S=f.pid,w=d.pesData,T=f.pesData,_=null,k=this.pmtParsed,x=this._pmtId,C=t.length;if(this.remainderData&&(t=(0,l.appendUint8Array)(this.remainderData,t),C=t.length,this.remainderData=null),C<h&&!i)return this.remainderData=t,{audioTrack:d,videoTrack:a,id3Track:f,textTrack:p};var A=Math.max(0,e.syncOffset(t));C-=(C-A)%h,C<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,C,t.buffer.byteLength-C));for(var L=0,D=A;D<C;D+=h)if(71===t[D]){var R=!!(64&t[D+1]),P=((31&t[D+1])<<8)+t[D+2],O=(48&t[D+3])>>4,I=void 0;if(O>1){if(I=D+5+t[D+4],I===D+h)continue}else I=D+4;switch(P){case v:R&&(b&&(o=y(b))&&this.parseAVCPES(a,p,o,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(I,D+h)),b.size+=D+h-I);break;case E:if(R){if(w&&(o=y(w)))switch(d.segmentCodec){case"aac":this.parseAACPES(d,o);break;case"mp3":this.parseMPEGPES(d,o);break}w={data:[],size:0}}w&&(w.data.push(t.subarray(I,D+h)),w.size+=D+h-I);break;case S:R&&(T&&(o=y(T))&&this.parseID3PES(f,o),T={data:[],size:0}),T&&(T.data.push(t.subarray(I,D+h)),T.size+=D+h-I);break;case 0:R&&(I+=t[I]+1),x=this._pmtId=m(t,I);break;case x:R&&(I+=t[I]+1);var F=g(t,I,this.typeSupported,n);v=F.avc,v>0&&(a.pid=v),E=F.audio,E>0&&(d.pid=E,d.segmentCodec=F.segmentCodec),S=F.id3,S>0&&(f.pid=S),null===_||k||(u.logger.log("unknown PID '"+_+"' in TS found"),_=null,D=A-188),k=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=P;break}}else L++;L>0&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+L+" TS packet/s that do not start with 0x47"}),a.pesData=b,d.pesData=w,f.pesData=T;var N={audioTrack:d,videoTrack:a,id3Track:f,textTrack:p};return i&&this.extractRemainingSamples(N),N},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,r=e.audioTrack,n=e.videoTrack,i=e.id3Track,o=e.textTrack,a=n.pesData,s=r.pesData,l=i.pesData;if(a&&(t=y(a))?(this.parseAVCPES(n,o,t,!0),n.pesData=null):n.pesData=a,s&&(t=y(s))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,t);break;case"mp3":this.parseMPEGPES(r,t);break}r.pesData=null}else null!==s&&void 0!==s&&s.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=s;l&&(t=y(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l},t.demuxSampleAes=function(e,t,r){var n=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new a["default"](this.observer,this.config,t);return this.decrypt(n,i)},t.decrypt=function(e,t){return new Promise((function(r){var n=e.audioTrack,i=e.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){r(e)})):r(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){r(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,r,n){var i,a=this,s=this.parseAVCNALu(e,r.data),u=!1,c=this.avcSample,d=!1;r.data=null,c&&s.length&&!e.audFound&&(b(c,e),c=this.avcSample=v(!1,r.pts,r.dts,"")),s.forEach((function(n){switch(n.type){case 1:i=!0,c||(c=a.avcSample=v(!0,r.pts,r.dts,"")),u&&(c.debug+="NDR "),c.frame=!0;var s=n.data;if(d&&s.length>4){var f=new o["default"](s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c.key=!0)}break;case 5:i=!0,c||(c=a.avcSample=v(!0,r.pts,r.dts,"")),u&&(c.debug+="IDR "),c.key=!0,c.frame=!0;break;case 6:i=!0,u&&c&&(c.debug+="SEI "),(0,l.parseSEIMessageFromNALu)(n.data,1,r.pts,t.samples);break;case 7:if(i=!0,d=!0,u&&c&&(c.debug+="SPS "),!e.sps){var h=new o["default"](n.data),p=h.readSPS();e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.sps=[n.data],e.duration=a._duration;for(var m=n.data.subarray(1,4),g="avc1.",y=0;y<3;y++){var E=m[y].toString(16);E.length<2&&(E="0"+E),g+=E}e.codec=g}break;case 8:i=!0,u&&c&&(c.debug+="PPS "),e.pps||(e.pps=[n.data]);break;case 9:i=!1,e.audFound=!0,c&&b(c,e),c=a.avcSample=v(!1,r.pts,r.dts,u?"AUD ":"");break;case 12:i=!0;break;default:i=!1,c&&(c.debug+="unknown NAL "+n.type+" ");break}if(c&&i){var S=c.units;S.push(n)}})),n&&c&&(b(c,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,r,n=this.avcSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!==(t=n)&&void 0!==t&&t.units){var i=n.units;r=i[i.length-1]}return r},t.parseAVCNALu=function(e,t){var r,n,i,o=t.byteLength,a=e.naluState||0,s=a,l=[],u=0,c=-1,d=0;-1===a&&(c=0,d=31&t[0],a=0,u=1);while(u<o)if(r=t[u++],a)if(1!==a)if(r)if(1===r){if(c>=0){var f={data:t.subarray(c,u-a-1),type:d};l.push(f)}else{var h=this.getLastNalUnit(e.samples);if(h&&(s&&u<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),n=u-a-1,n>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(t.subarray(0,n),h.data.byteLength),h.data=p,h.state=0}}u<o?(i=31&t[u],c=u,d=i,a=0):a=-1}else a=0;else a=3;else a=r?0:2;else a=r?0:1;if(c>=0&&a>=0){var v={data:t.subarray(c,o),type:d,state:a};l.push(v)}if(0===l.length){var m=this.getLastNalUnit(e.samples);if(m){var g=new Uint8Array(m.data.byteLength+t.byteLength);g.set(m.data,0),g.set(t,m.data.byteLength),m.data=g}}return e.naluState=a,l},t.parseAACPES=function(e,t){var r,i,o,a,l,d=0,f=this.aacOverFlow,h=t.data;if(f){this.aacOverFlow=null;var p=f.missing,v=f.sample.unit.byteLength;if(-1===p){var m=new Uint8Array(v+h.byteLength);m.set(f.sample.unit,0),m.set(h,v),h=m}else{var g=v-p;f.sample.unit.set(h.subarray(0,p),g),e.samples.push(f.sample),d=f.missing}}for(r=d,i=h.length;r<i-1;r++)if(n.isHeader(h,r))break;if(r!==d&&(r<i-1?(o="AAC PES did not start with ADTS header,offset:"+r,a=!1):(o="no ADTS header found in AAC PES",a=!0),u.logger.warn("parsing error:"+o),this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:o}),a))return;if(n.initTrackConfig(e,this.observer,h,r,this.audioCodec),void 0!==t.pts)l=t.pts;else{if(!f)return void u.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var y=n.getFrameDuration(e.samplerate);l=f.sample.pts+y}var b,E=0;while(r<i){if(b=n.appendFrame(e,h,r,l,E),r+=b.length,b.missing){this.aacOverFlow=b;break}for(E++;r<i-1;r++)if(n.isHeader(h,r))break}},t.parseMPEGPES=function(e,t){var r=t.data,n=r.length,o=0,a=0,s=t.pts;if(void 0!==s)while(a<n)if(i.isHeader(r,a)){var l=i.appendFrame(e,r,a,s,o);if(!l)break;a+=l.length,o++}else a++;else u.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var r=f({},t,{type:this._avcTrack?d.MetadataSchema.emsg:d.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}else u.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function v(e,t,r,n){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:n,length:0}}function m(e,t){return(31&e[t+10])<<8|e[t+11]}function g(e,t,r,n){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},o=(15&e[t+1])<<8|e[t+2],a=t+3+o-4,s=(15&e[t+10])<<8|e[t+11];t+=12+s;while(t<a){var l=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!n){u.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=l);break;case 21:-1===i.id3&&(i.id3=l);break;case 219:if(!n){u.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=l);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?u.logger.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=l,i.segmentCodec="mp3");break;case 36:u.logger.warn("Unsupported HEVC stream type found");break;default:break}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function y(e){var t,r,n,i,o,a=0,s=e.data;if(!e||0===e.size)return null;while(s[0].length<19&&s.length>1){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}t=s[0];var c=(t[0]<<16)+(t[1]<<8)+t[2];if(1===c){if(r=(t[4]<<8)+t[5],r&&r>e.size-6)return null;var d=t[7];192&d&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&d?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,i-o>54e5&&(u.logger.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o)):o=i),n=t[8];var f=n+9;if(e.size<=f)return null;e.size-=f;for(var h=new Uint8Array(e.size),p=0,v=s.length;p<v;p++){t=s[p];var m=t.byteLength;if(f){if(f>m){f-=m;continue}t=t.subarray(f),m-=f,f=0}h.set(t,a),a+=m}return r&&(r-=n+3),{data:h,pts:i,dts:o,len:r}}return null}function b(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var r=t.samples,n=r.length;if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)}const E=p},"./src/demux/webworkify-webpack.js":
/*!*****************************************!*\
  !*** ./src/demux/webworkify-webpack.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=function(){var e=ENTRY_MODULE,t={},r=function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports};r.m=e,function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var n=r(ENTRY_MODULE);return n.default||n},i=n.toString().split("ENTRY_MODULE"),o="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+o+").*?\\)";function s(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(e){return!isNaN(1*e)}function u(e,t,n){var i={};i[n]=[];var u=t.toString().replace(/^"[^"]+"/,"function"),c=u.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||u.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!c)return i;var d,f=c[1],h=new RegExp("(\\\\n|\\W)"+s(f)+a,"g");while(d=h.exec(u))"dll-reference"!==d[3]&&i[n].push(d[3]);h=new RegExp("\\("+s(f)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+a,"g");while(d=h.exec(u))e[d[2]]||(i[n].push(d[1]),e[d[2]]=r(d[1]).m),i[d[2]]=i[d[2]]||[],i[d[2]].push(d[4]);for(var p=Object.keys(i),v=0;v<p.length;v++)for(var m=0;m<i[p[v]].length;m++)l(i[p[v]][m])&&(i[p[v]][m]=1*i[p[v]][m]);return i}function c(e){var t=Object.keys(e);return t.reduce((function(t,r){return t||e[r].length>0}),!1)}function d(e,t){var r={main:[t]},n={main:[]},i={main:{}};while(c(r))for(var o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],l=r[s],d=l.pop();if(i[s]=i[s]||{},!i[s][d]&&e[s][d]){i[s][d]=!0,n[s]=n[s]||[],n[s].push(d);for(var f=u(e,e[s][d],s),h=Object.keys(f),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(f[h[p]])}}return n}function f(e,t,r,n){var o=e[n].map((function(e){return'"'+e+'": '+t[n][e].toString().replace(/^"[^"]+"/,"function")})).join(",");return i[0]+"{"+o+"}"+i[1]+'"'+r+'"'+i[2]}function h(e,t){t=t||{};var n={main:r.m},i=t.all?{main:Object.keys(n.main)}:d(n,e),o="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){var t=0;while(i[e][t])t++;i[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+f(i,n,t,modules)+")();\n"})),o=o+"new (("+f(i,n,e,"main")+")())(self);";var a=new window.Blob([o],{type:"text/javascript"}),s=window.URL||window.webkitURL||window.mozURL||window.msURL,l=s.createObjectURL(a),u=new window.Worker(l);return u.objectURL=l,u}},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/(e,t,r)=>{"use strict";var n,i;r.r(t),r.d(t,{ErrorDetails:()=>i,ErrorTypes:()=>n}),function(e){e["NETWORK_ERROR"]="networkError",e["MEDIA_ERROR"]="mediaError",e["KEY_SYSTEM_ERROR"]="keySystemError",e["MUX_ERROR"]="muxError",e["OTHER_ERROR"]="otherError"}(n||(n={})),function(e){e["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",e["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",e["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",e["KEY_SYSTEM_NO_CONFIGURED_LICENSE"]="keySystemNoConfiguredLicense",e["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED"]="keySystemServerCertificateRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED"]="keySystemServerCertificateUpdateFailed",e["KEY_SYSTEM_SESSION_UPDATE_FAILED"]="keySystemSessionUpdateFailed",e["KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED"]="keySystemStatusOutputRestricted",e["KEY_SYSTEM_STATUS_INTERNAL_ERROR"]="keySystemStatusInternalError",e["MANIFEST_LOAD_ERROR"]="manifestLoadError",e["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",e["MANIFEST_PARSING_ERROR"]="manifestParsingError",e["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",e["LEVEL_EMPTY_ERROR"]="levelEmptyError",e["LEVEL_LOAD_ERROR"]="levelLoadError",e["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",e["LEVEL_SWITCH_ERROR"]="levelSwitchError",e["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",e["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",e["SUBTITLE_LOAD_ERROR"]="subtitleTrackLoadError",e["SUBTITLE_TRACK_LOAD_TIMEOUT"]="subtitleTrackLoadTimeOut",e["FRAG_LOAD_ERROR"]="fragLoadError",e["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",e["FRAG_DECRYPT_ERROR"]="fragDecryptError",e["FRAG_PARSING_ERROR"]="fragParsingError",e["REMUX_ALLOC_ERROR"]="remuxAllocError",e["KEY_LOAD_ERROR"]="keyLoadError",e["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",e["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",e["BUFFER_INCOMPATIBLE_CODECS_ERROR"]="bufferIncompatibleCodecsError",e["BUFFER_APPEND_ERROR"]="bufferAppendError",e["BUFFER_APPENDING_ERROR"]="bufferAppendingError",e["BUFFER_STALLED_ERROR"]="bufferStalledError",e["BUFFER_FULL_ERROR"]="bufferFullError",e["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",e["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",e["INTERNAL_EXCEPTION"]="internalException",e["INTERNAL_ABORTED"]="aborted",e["UNKNOWN"]="unknown"}(i||(i={}))},"./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{Events:()=>n}),function(e){e["MEDIA_ATTACHING"]="hlsMediaAttaching",e["MEDIA_ATTACHED"]="hlsMediaAttached",e["MEDIA_DETACHING"]="hlsMediaDetaching",e["MEDIA_DETACHED"]="hlsMediaDetached",e["BUFFER_RESET"]="hlsBufferReset",e["BUFFER_CODECS"]="hlsBufferCodecs",e["BUFFER_CREATED"]="hlsBufferCreated",e["BUFFER_APPENDING"]="hlsBufferAppending",e["BUFFER_APPENDED"]="hlsBufferAppended",e["BUFFER_EOS"]="hlsBufferEos",e["BUFFER_FLUSHING"]="hlsBufferFlushing",e["BUFFER_FLUSHED"]="hlsBufferFlushed",e["MANIFEST_LOADING"]="hlsManifestLoading",e["MANIFEST_LOADED"]="hlsManifestLoaded",e["MANIFEST_PARSED"]="hlsManifestParsed",e["LEVEL_SWITCHING"]="hlsLevelSwitching",e["LEVEL_SWITCHED"]="hlsLevelSwitched",e["LEVEL_LOADING"]="hlsLevelLoading",e["LEVEL_LOADED"]="hlsLevelLoaded",e["LEVEL_UPDATED"]="hlsLevelUpdated",e["LEVEL_PTS_UPDATED"]="hlsLevelPtsUpdated",e["LEVELS_UPDATED"]="hlsLevelsUpdated",e["AUDIO_TRACKS_UPDATED"]="hlsAudioTracksUpdated",e["AUDIO_TRACK_SWITCHING"]="hlsAudioTrackSwitching",e["AUDIO_TRACK_SWITCHED"]="hlsAudioTrackSwitched",e["AUDIO_TRACK_LOADING"]="hlsAudioTrackLoading",e["AUDIO_TRACK_LOADED"]="hlsAudioTrackLoaded",e["SUBTITLE_TRACKS_UPDATED"]="hlsSubtitleTracksUpdated",e["SUBTITLE_TRACKS_CLEARED"]="hlsSubtitleTracksCleared",e["SUBTITLE_TRACK_SWITCH"]="hlsSubtitleTrackSwitch",e["SUBTITLE_TRACK_LOADING"]="hlsSubtitleTrackLoading",e["SUBTITLE_TRACK_LOADED"]="hlsSubtitleTrackLoaded",e["SUBTITLE_FRAG_PROCESSED"]="hlsSubtitleFragProcessed",e["CUES_PARSED"]="hlsCuesParsed",e["NON_NATIVE_TEXT_TRACKS_FOUND"]="hlsNonNativeTextTracksFound",e["INIT_PTS_FOUND"]="hlsInitPtsFound",e["FRAG_LOADING"]="hlsFragLoading",e["FRAG_LOAD_EMERGENCY_ABORTED"]="hlsFragLoadEmergencyAborted",e["FRAG_LOADED"]="hlsFragLoaded",e["FRAG_DECRYPTED"]="hlsFragDecrypted",e["FRAG_PARSING_INIT_SEGMENT"]="hlsFragParsingInitSegment",e["FRAG_PARSING_USERDATA"]="hlsFragParsingUserdata",e["FRAG_PARSING_METADATA"]="hlsFragParsingMetadata",e["FRAG_PARSED"]="hlsFragParsed",e["FRAG_BUFFERED"]="hlsFragBuffered",e["FRAG_CHANGED"]="hlsFragChanged",e["FPS_DROP"]="hlsFpsDrop",e["FPS_DROP_LEVEL_CAPPING"]="hlsFpsDropLevelCapping",e["ERROR"]="hlsError",e["DESTROYING"]="hlsDestroying",e["KEY_LOADING"]="hlsKeyLoading",e["KEY_LOADED"]="hlsKeyLoaded",e["LIVE_BACK_BUFFER_REACHED"]="hlsLiveBackBufferReached",e["BACK_BUFFER_REACHED"]="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":
/*!********************!*\
  !*** ./src/hls.ts ***!
  \********************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=r(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.ts"),o=r(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.ts"),a=r(/*! ./controller/latency-controller */"./src/controller/latency-controller.ts"),s=r(/*! ./controller/level-controller */"./src/controller/level-controller.ts"),l=r(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.ts"),u=r(/*! ./loader/key-loader */"./src/loader/key-loader.ts"),c=r(/*! ./controller/stream-controller */"./src/controller/stream-controller.ts"),d=r(/*! ./is-supported */"./src/is-supported.ts"),f=r(/*! ./utils/logger */"./src/utils/logger.ts"),h=r(/*! ./config */"./src/config.ts"),p=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),v=r(/*! ./events */"./src/events.ts"),m=r(/*! ./errors */"./src/errors.ts"),g=r(/*! ./types/level */"./src/types/level.ts");function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function b(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){var t=S(e,"string");return"symbol"===typeof t?t:String(t)}function S(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var w=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var r=this.config=(0,h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,(0,f.enableLogs)(r.debug,"Hls instance"),this._autoLevelCapping=-1,r.progressive&&(0,h.enableStreamingMode)(r);var n=r.abrController,d=r.bufferController,v=r.capLevelController,m=r.fpsController,g=this.abrController=new n(this),y=this.bufferController=new d(this),b=this.capLevelController=new v(this),E=new m(this),S=new i["default"](this),w=new o["default"](this),T=this.levelController=new s["default"](this),_=new l.FragmentTracker(this),k=new u["default"](this.config),x=this.streamController=new c["default"](this,_,k);b.setStreamController(x),E.setStreamController(x);var C=[S,T,x];this.networkControllers=C;var A=[g,y,b,E,w,_];this.audioTrackController=this.createController(r.audioTrackController,C);var L=r.audioStreamController;L&&C.push(new L(this,_,k)),this.subtitleTrackController=this.createController(r.subtitleTrackController,C);var D=r.subtitleStreamController;D&&C.push(new D(this,_,k)),this.createController(r.timelineController,A),k.emeController=this.emeController=this.createController(r.emeController,A),this.cmcdController=this.createController(r.cmcdController,A),this.latencyController=this.createController(a["default"],A),this.coreComponents=A}e.isSupported=function(){return(0,d.isSupported)()};var t=e.prototype;return t.createController=function(e,t){if(e){var r=new e(this);return t&&t.push(r),r}return null},t.on=function(e,t,r){void 0===r&&(r=this),this._emitter.on(e,t,r)},t.once=function(e,t,r){void 0===r&&(r=this),this._emitter.once(e,t,r)},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.off=function(e,t,r,n){void 0===r&&(r=this),this._emitter.off(e,t,r,n)},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e,t,r){return this._emitter.emit(e,t,r)},t.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(v.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:r})}return!1},t.listenerCount=function(e){return this._emitter.listenerCount(e)},t.destroy=function(){f.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},t.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},t.loadSource=function(e){this.stopLoad();var t=this.media,r=this.url,i=this.url=n.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),t&&r&&r!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},t.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},t.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},b(e,[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){g.HdcpLevels.indexOf(e)>-1&&(this._maxHdcpLevel=e)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var r=e.length,n=0;n<r;n++)if(e[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,r=this.autoLevelCapping,n=this.maxHdcpLevel;if(e=-1===r&&t&&t.length?t.length-1:r,n)for(var i=e;i--;){var o=t[i].attrs["HDCP-LEVEL"];if(o&&o<=n)return i}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.3.2"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),e}();w.defaultConfig=void 0},"./src/is-supported.ts":
/*!*****************************!*\
  !*** ./src/is-supported.ts ***!
  \*****************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeTypeSupported:()=>a,isSupported:()=>o});var n=r(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var e=(0,n.getMediaSource)();if(!e)return!1;var t=i(),r=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!r&&!!o}function a(){var e,t=i();return"function"===typeof(null===t||void 0===t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/date-range.ts":
/*!**********************************!*\
  !*** ./src/loader/date-range.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{DateRange:()=>f,DateRangeAttribute:()=>n});var n,i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),o=r(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"===typeof t?t:String(t)}function d(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(function(e){e["ID"]="ID",e["CLASS"]="CLASS",e["START_DATE"]="START-DATE",e["DURATION"]="DURATION",e["END_DATE"]="END-DATE",e["END_ON_NEXT"]="END-ON-NEXT",e["PLANNED_DURATION"]="PLANNED-DURATION",e["SCTE35_OUT"]="SCTE35-OUT",e["SCTE35_IN"]="SCTE35-IN"})(n||(n={}));var f=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var r=t.attr;for(var l in r)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==r[l]){a.logger.warn('DATERANGE tag attribute: "'+l+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=l;break}e=s(new o.AttrList({}),r,e)}if(this.attr=e,this._startDate=new Date(e[n.START_DATE]),n.END_DATE in this.attr){var u=new Date(this.attr[n.END_DATE]);(0,i.isFiniteNumber)(u.getTime())&&(this._endDate=u)}}return u(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if(n.DURATION in this.attr){var e=this.attr.decimalFloatingPoint(n.DURATION);if((0,i.isFiniteNumber)(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return n.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(n.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(n.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,i.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}()},"./src/loader/fragment-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.ts ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{LoadError:()=>v,default:()=>h});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../errors */"./src/errors.ts");function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||!u(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},a(e)}function s(e,t,r){return s=l()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&c(o,r.prototype),o},s.apply(null,arguments)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var f=Math.pow(2,17),h=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var r=this,n=e.url;if(!n)return Promise.reject(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(n,l){r.loader&&r.loader.destroy();var u=r.loader=e.loader=a?new a(o):new s(o),c=p(e),d={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:f};e.stats=u.stats,u.load(c,d,{onSuccess:function(t,i,o,a){r.resetLoader(e,u);var s=t.data;o.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),n({frag:e,part:null,payload:s,networkDetails:a})},onError:function(t,n,o){r.resetLoader(e,u),l(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:o}))},onAbort:function(t,n,o){r.resetLoader(e,u),l(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:o}))},onTimeout:function(t,n,o){r.resetLoader(e,u),l(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:o}))},onProgress:function(r,n,i,o){t&&t({frag:e,part:null,payload:i,networkDetails:o})}})}))},t.loadPart=function(e,t,r){var n=this;this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(l,u){n.loader&&n.loader.destroy();var c=n.loader=e.loader=a?new a(o):new s(o),d=p(e,t),h={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:f};t.stats=c.stats,c.load(d,h,{onSuccess:function(i,o,a,s){n.resetLoader(e,c),n.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:i.data,networkDetails:s};r(u),l(u)},onError:function(r,o,a){n.resetLoader(e,c),u(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:r,networkDetails:a}))},onAbort:function(r,o,a){e.stats.aborted=t.stats.aborted,n.resetLoader(e,c),u(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:a}))},onTimeout:function(r,o,a){n.resetLoader(e,c),u(new v({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:a}))}})}))},t.updateStatsFromPart=function(e,t){var r=e.stats,n=t.stats,i=n.total;if(r.loaded+=n.loaded,i){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(r.loaded/i),o),s=o-a,l=s*Math.round(r.loaded/a);r.total=r.loaded+l}else r.total=Math.max(r.loaded,r.total);var u=r.loading,c=n.loading;u.start?u.first+=c.first-c.start:(u.start=c.start,u.first=c.first),u.end=c.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function p(e,t){void 0===t&&(t=null);var r=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},o=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if((0,n.isFiniteNumber)(o)&&(0,n.isFiniteNumber)(a)){var s,l=o,u=a;if("initSegment"===e.sn&&"AES-128"===(null===(s=e.decryptdata)||void 0===s?void 0:s.method)){var c=a-o;c%16&&(u=a+(16-c%16)),0!==o&&(i.resetIV=!0,l=o-16)}i.rangeStart=l,i.rangeEnd=u}return i}var v=function(e){function t(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.data=void 0,r.data=t,r}return o(t,e),t}(a(Error))},"./src/loader/fragment.ts":
/*!********************************!*\
  !*** ./src/loader/fragment.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaseSegment:()=>h,ElementaryStreamTypes:()=>n,Fragment:()=>p,Part:()=>v});var n,i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),o=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=r(/*! ./load-stats */"./src/loader/load-stats.ts");function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"===typeof t?t:String(t)}function f(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(function(e){e["AUDIO"]="audio",e["VIDEO"]="video",e["AUDIOVIDEO"]="audiovideo"})(n||(n={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(t={},t[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null,t),this.baseurl=e}var t=e.prototype;return t.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},c(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,r){var n;return n=e.call(this,r)||this,n._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkeys=void 0,n.type=void 0,n.loader=null,n.keyLoader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new a.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.endList=void 0,n.type=t,n}s(t,e);var r=t.prototype;return r.setKeyFormat=function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}},r.abortRequests=function(){var e,t;null===(e=this.loader)||void 0===e||e.abort(),null===(t=this.keyLoader)||void 0===t||t.abort()},r.setElementaryStreamInfo=function(e,t,r,n,i,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,r),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,i)):a[e]={startPTS:t,endPTS:r,startDTS:n,endDTS:i,partial:o}},r.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null},c(t,[{key:"decryptdata",get:function(){var e=this.levelkeys;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var r=Object.keys(this.levelkeys);if(1===r.length)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!(0,i.isFiniteNumber)(this.programDateTime))return null;var e=(0,i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!==(e=this._decryptdata)&&void 0!==e&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),r=t.length;if(r>1||1===r&&this.levelkeys[t[0]].encrypted)return!0}return!1}}]),t}(h),v=function(e){function t(t,r,n,i,o){var s;s=e.call(this,n)||this,s.fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new a.LoadStats,s.duration=t.decimalFloatingPoint("DURATION"),s.gap=t.bool("GAP"),s.independent=t.bool("INDEPENDENT"),s.relurl=t.enumeratedString("URI"),s.fragment=r,s.index=i;var l=t.enumeratedString("BYTERANGE");return l&&s.setByteRange(l,o),o&&(s.fragOffset=o.fragOffset+o.duration),s}return s(t,e),c(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},"./src/loader/key-loader.ts":
/*!**********************************!*\
  !*** ./src/loader/key-loader.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../errors */"./src/errors.ts"),i=r(/*! ./fragment-loader */"./src/loader/fragment-loader.ts"),o=function(){function e(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}var t=e.prototype;return t.abort=function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.abort()}},t.detach=function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}},t.destroy=function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}},t.createKeyLoadError=function(e,t,r,o){return void 0===t&&(t=n.ErrorDetails.KEY_LOAD_ERROR),new i.LoadError({type:n.ErrorTypes.NETWORK_ERROR,details:t,fatal:!1,frag:e,networkDetails:r})},t.loadClear=function(e,t){var r=this;if(this.emeController&&this.config.emeEnabled)for(var n=e.sn,i=e.cc,o=function(e){var o=t[e];if(i<=o.cc&&("initSegment"===n||n<o.sn))return r.emeController.selectKeySystemFormat(o).then((function(e){o.setKeyFormat(e)})),"break"},a=0;a<t.length;a++){var s=o(a);if("break"===s)break}},t.load=function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(r){return t.loadInternal(e,r)})):this.loadInternal(e)},t.loadInternal=function(e,t){var r,i;t&&e.setKeyFormat(t);var o=e.decryptdata;if(!o){var a=t?"Expected frag.decryptdata to be defined after setting format "+t:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(e,n.ErrorDetails.KEY_LOAD_ERROR,null,a))}var s=o.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,n.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+s+'"'));var l,u=this.keyUriToKeyInfo[s];if(null!==(r=u)&&void 0!==r&&r.decryptdata.key)return o.key=u.decryptdata.key,Promise.resolve({frag:e,keyInfo:u});if(null!==(i=u)&&void 0!==i&&i.keyLoadPromise)switch(null===(l=u.mediaKeySessionContext)||void 0===l?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return u.keyLoadPromise}switch(u=this.keyUriToKeyInfo[s]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===o.keyFormat?this.loadKeyHTTP(u,e):this.loadKeyEME(u,e);case"AES-128":return this.loadKeyHTTP(u,e);default:return Promise.reject(this.createKeyLoadError(e,n.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+o.method+'"'))}},t.loadKeyEME=function(e,t){var r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var n=this.emeController.loadKey(r);if(n)return(e.keyLoadPromise=n.then((function(t){return e.mediaKeySessionContext=t,r}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(r)},t.loadKeyHTTP=function(e,t){var r=this,i=this.config,o=i.loader,a=new o(i);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((function(o,s){var l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},u={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:i.fragLoadingRetryDelay,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:0},c={onSuccess:function(e,t,i,a){var l=i.frag,u=i.keyInfo,c=i.url;if(!l.decryptdata||u!==r.keyUriToKeyInfo[c])return s(r.createKeyLoadError(l,n.ErrorDetails.KEY_LOAD_ERROR,a,"after key load, decryptdata unset or changed"));u.decryptdata.key=l.decryptdata.key=new Uint8Array(e.data),l.keyLoader=null,u.loader=null,o({frag:l,keyInfo:u})},onError:function(e,i,o){r.resetLoader(i),s(r.createKeyLoadError(t,n.ErrorDetails.KEY_LOAD_ERROR,o))},onTimeout:function(e,i,o){r.resetLoader(i),s(r.createKeyLoadError(t,n.ErrorDetails.KEY_LOAD_TIMEOUT,o))},onAbort:function(e,i,o){r.resetLoader(i),s(r.createKeyLoadError(t,n.ErrorDetails.INTERNAL_ABORTED,o))}};a.load(l,u,c)}))},t.resetLoader=function(e){var t=e.frag,r=e.keyInfo,n=e.url,i=r.loader;t.keyLoader===i&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[n],i&&i.destroy()},e}()},"./src/loader/level-details.ts":
/*!*************************************!*\
  !*** ./src/loader/level-details.ts ***!
  \*************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{LevelDetails:()=>u});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"===typeof t?t:String(t)}function s(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=10,u=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}var t=e.prototype;return t.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},o(e,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||l}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;if(e>0){var t=this.driftEnd-this.driftStart;return 1e3*t/e}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}()},"./src/loader/level-key.ts":
/*!*********************************!*\
  !*** ./src/loader/level-key.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{LevelKey:()=>u});var n=r(/*! ../utils/keysystem-util */"./src/utils/keysystem-util.ts"),i=r(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),o=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../utils/numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts"),l={},u=function(){function e(e,t,r,n,i){void 0===n&&(n=[1]),void 0===i&&(i=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=r,this.keyFormatVersions=n,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}e.clearKeyUriToKeyIdMap=function(){l={}};var t=e.prototype;return t.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;switch(this.keyFormat){case"identity":return"SAMPLE-AES"===this.method;case i.KeySystemFormats.FAIRPLAY:case i.KeySystemFormats.WIDEVINE:case i.KeySystemFormats.PLAYREADY:case i.KeySystemFormats.CLEARKEY:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},t.getDecryptData=function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof t&&("AES-128"!==this.method||this.iv||a.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),t=0);var r=c(t),u=new e(this.method,this.uri,"identity",this.keyFormatVersions,r);return u}var d=(0,n.convertDataUriToArrayBytes)(this.uri);if(d)switch(this.keyFormat){case i.KeySystemFormats.WIDEVINE:this.pssh=d,d.length>=22&&(this.keyId=d.subarray(d.length-22,d.length-6));break;case i.KeySystemFormats.PLAYREADY:var f=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,o.mp4pssh)(f,null,d);var h=new Uint16Array(d.buffer,d.byteOffset,d.byteLength/2),p=String.fromCharCode.apply(null,Array.from(h)),v=p.substring(p.indexOf("<"),p.length),m=new DOMParser,g=m.parseFromString(v,"text/xml"),y=g.getElementsByTagName("KID")[0];if(y){var b=y.childNodes[0]?y.childNodes[0].nodeValue:y.getAttribute("VALUE");if(b){var E=(0,s.base64Decode)(b).subarray(0,16);(0,n.changeEndianness)(E),this.keyId=E}}break;default:var S=d.subarray(0,16);if(16!==S.length){var w=new Uint8Array(16);w.set(S,16-S.length),S=w}this.keyId=S;break}if(!this.keyId||16!==this.keyId.byteLength){var T=l[this.uri];if(!T){var _=Object.keys(l).length%Number.MAX_SAFE_INTEGER;T=new Uint8Array(16);var k=new DataView(T.buffer,12,4);k.setUint32(0,_),l[this.uri]=T}this.keyId=T}return this},e}();function c(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},"./src/loader/load-stats.ts":
/*!**********************************!*\
  !*** ./src/loader/load-stats.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{LoadStats:()=>n});var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.ts ***!
  \***********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=r(/*! ./date-range */"./src/loader/date-range.ts"),a=r(/*! ./fragment */"./src/loader/fragment.ts"),s=r(/*! ./level-details */"./src/loader/level-details.ts"),l=r(/*! ./level-key */"./src/loader/level-key.ts"),u=r(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),c=r(/*! ../utils/logger */"./src/utils/logger.ts"),d=r(/*! ../utils/codecs */"./src/utils/codecs.ts");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}var h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,p=/#EXT-X-MEDIA:(.*)/g,v=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),m=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var r=t.shift()+".";return r+=parseInt(t.shift()).toString(16),r+=("000"+parseInt(t.shift()).toString(16)).slice(-4),r}return e},e.resolve=function(e,t){return(0,i.buildAbsoluteURL)(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[],o=[],a={},s=[],l=!1;h.lastIndex=0;while(null!=(n=h.exec(t)))if(n[1]){var d,f=new u.AttrList(n[1]),p={attrs:f,bitrate:f.decimalInteger("AVERAGE-BANDWIDTH")||f.decimalInteger("BANDWIDTH"),name:f.NAME,url:e.resolve(n[2],r)},v=f.decimalResolution("RESOLUTION");v&&(p.width=v.width,p.height=v.height),b((f.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),p),p.videoCodec&&-1!==p.videoCodec.indexOf("avc1")&&(p.videoCodec=e.convertAVC1ToAVCOTI(p.videoCodec)),null!==(d=p.unknownCodecs)&&void 0!==d&&d.length||o.push(p),i.push(p)}else if(n[3]){var m=new u.AttrList(n[3]);m["DATA-ID"]&&(l=!0,a[m["DATA-ID"]]=m)}else if(n[4]){var g=n[4],E=y(g,r);E.encrypted&&E.isSupported()?s.push(E):c.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+g+'"')}var S=o.length>0&&o.length<i.length;return{levels:S?o:i,sessionData:l?a:null,sessionKeys:s.length?s:null}},e.parseMasterPlaylistMedia=function(t,r,n,i){var o;void 0===i&&(i=[]);var a=[],s=0;p.lastIndex=0;while(null!==(o=p.exec(t))){var l=new u.AttrList(o[1]);if(l.TYPE===n){var c={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:n,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,r):""};if(i.length){var d=e.findGroup(i,c.groupId)||i[0];E(c,d,"audioCodec"),E(c,d,"textCodec")}a.push(c)}}return a},e.parseLevelPlaylist=function(e,t,r,i,l){var d,h,p,g=new s.LevelDetails(t),b=g.fragments,E=null,_=0,k=0,x=0,C=0,A=null,L=new a.Fragment(i,t),D=-1,R=!1;v.lastIndex=0,g.m3u8=e;while(null!==(d=v.exec(e))){R&&(R=!1,L=new a.Fragment(i,t),L.start=x,L.sn=_,L.cc=C,L.level=r,E&&(L.initSegment=E,L.rawProgramDateTime=E.rawProgramDateTime,E.rawProgramDateTime=null));var P=d[1];if(P){L.duration=parseFloat(P);var O=(" "+d[2]).slice(1);L.title=O||null,L.tagList.push(O?["INF",P,O]:["INF",P])}else if(d[3]){if((0,n.isFiniteNumber)(L.duration)){if(L.start=x,p){L.levelkeys=p;var I=g.encryptedFragments;!L.levelkeys||!Object.keys(L.levelkeys).some((function(e){return L.levelkeys[e].isCommonEncryption}))||I.length&&I[I.length-1].levelkeys===p||I.push(L)}L.sn=_,L.level=r,L.cc=C,L.urlId=l,b.push(L),L.relurl=(" "+d[3]).slice(1),w(L,A),A=L,x+=L.duration,_++,k=0,R=!0}}else if(d[4]){var F=(" "+d[4]).slice(1);A?L.setByteRange(F,A):L.setByteRange(F)}else if(d[5])L.rawProgramDateTime=(" "+d[5]).slice(1),L.tagList.push(["PROGRAM-DATE-TIME",L.rawProgramDateTime]),-1===D&&(D=b.length);else{if(d=d[0].match(m),!d){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(h=1;h<d.length;h++)if("undefined"!==typeof d[h])break;var N=(" "+d[h]).slice(1),M=(" "+d[h+1]).slice(1),$=d[h+2]?(" "+d[h+2]).slice(1):"";switch(N){case"PLAYLIST-TYPE":g.type=M.toUpperCase();break;case"MEDIA-SEQUENCE":_=g.startSN=parseInt(M);break;case"SKIP":var j=new u.AttrList(M),U=j.decimalInteger("SKIPPED-SEGMENTS");if((0,n.isFiniteNumber)(U)){g.skippedSegments=U;for(var B=U;B--;)b.unshift(null);_+=U}var q=j.enumeratedString("RECENTLY-REMOVED-DATERANGES");q&&(g.recentlyRemovedDateranges=q.split("\t"));break;case"TARGETDURATION":g.targetduration=parseFloat(M);break;case"VERSION":g.version=parseInt(M);break;case"EXTM3U":break;case"ENDLIST":g.live=!1;break;case"#":(M||$)&&L.tagList.push($?[M,$]:[M]);break;case"DISCONTINUITY":C++,L.tagList.push(["DIS"]);break;case"GAP":L.tagList.push([N]);break;case"BITRATE":L.tagList.push([N,M]);break;case"DATERANGE":var H=new u.AttrList(M),V=new o.DateRange(H,g.dateRanges[H.ID]);V.isValid||g.skippedSegments?g.dateRanges[V.id]=V:c.logger.warn('Ignoring invalid DATERANGE tag: "'+M+'"'),L.tagList.push(["EXT-X-DATERANGE",M]);break;case"DISCONTINUITY-SEQUENCE":C=parseInt(M);break;case"KEY":var K=y(M,t);if(K.isSupported()){if("NONE"===K.method){p=void 0;break}p||(p={}),p[K.keyFormat]&&(p=f({},p)),p[K.keyFormat]=K}else c.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+M+'"');break;case"START":var G=new u.AttrList(M),z=G.decimalFloatingPoint("TIME-OFFSET");(0,n.isFiniteNumber)(z)&&(g.startTimeOffset=z);break;case"MAP":var W=new u.AttrList(M);if(L.duration){var Y=new a.Fragment(i,t);T(Y,W,r,p),E=Y,L.initSegment=E,E.rawProgramDateTime&&!L.rawProgramDateTime&&(L.rawProgramDateTime=E.rawProgramDateTime)}else T(L,W,r,p),E=L,R=!0;break;case"SERVER-CONTROL":var Z=new u.AttrList(M);g.canBlockReload=Z.bool("CAN-BLOCK-RELOAD"),g.canSkipUntil=Z.optionalFloat("CAN-SKIP-UNTIL",0),g.canSkipDateRanges=g.canSkipUntil>0&&Z.bool("CAN-SKIP-DATERANGES"),g.partHoldBack=Z.optionalFloat("PART-HOLD-BACK",0),g.holdBack=Z.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var X=new u.AttrList(M);g.partTarget=X.decimalFloatingPoint("PART-TARGET");break;case"PART":var J=g.partList;J||(J=g.partList=[]);var Q=k>0?J[J.length-1]:void 0,ee=k++,te=new a.Part(new u.AttrList(M),L,t,ee,Q);J.push(te),L.duration+=te.duration;break;case"PRELOAD-HINT":var re=new u.AttrList(M);g.preloadHint=re;break;case"RENDITION-REPORT":var ne=new u.AttrList(M);g.renditionReports=g.renditionReports||[],g.renditionReports.push(ne);break;default:c.logger.warn("line parsed but not handled: "+d);break}}}A&&!A.relurl?(b.pop(),x-=A.duration,g.partList&&(g.fragmentHint=A)):g.partList&&(w(L,A),L.cc=C,g.fragmentHint=L);var ie=b.length,oe=b[0],ae=b[ie-1];if(x+=g.skippedSegments*g.targetduration,x>0&&ie&&ae){g.averagetargetduration=x/ie;var se=ae.sn;g.endSN="initSegment"!==se?se:0,g.live||(ae.endList=!0),oe&&(g.startCC=oe.cc)}else g.endSN=0,g.startCC=0;return g.fragmentHint&&(x+=g.fragmentHint.duration),g.totalduration=x,g.endCC=C,D>0&&S(b,D),g},e}();function y(e,t){var r,n,i=new u.AttrList(e),o=null!=(r=i.enumeratedString("METHOD"))?r:"",a=i.URI,s=i.hexadecimalInteger("IV"),d=i.enumeratedString("KEYFORMATVERSIONS"),f=null!=(n=i.enumeratedString("KEYFORMAT"))?n:"identity";a&&i.IV&&!s&&c.logger.error("Invalid IV: "+i.IV);var h=a?g.resolve(a,t):"",p=(d||"1").split("/").map(Number).filter(Number.isFinite);return new l.LevelKey(o,h,f,p,s)}function b(e,t){["video","audio","text"].forEach((function(r){var n=e.filter((function(e){return(0,d.isCodecType)(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function E(e,t,r){var n=t[r];n&&(e[r]=n)}function S(e,t){for(var r=e[t],n=t;n--;){var i=e[n];if(!i)return;i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}function w(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!==t&&void 0!==t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),(0,n.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function T(e,t,r,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=r,e.sn="initSegment",n&&(e.levelkeys=n),e.initSegment=null}},"./src/loader/playlist-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.ts ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../events */"./src/events.ts"),o=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ./m3u8-parser */"./src/loader/m3u8-parser.ts"),l=r(/*! ../types/loader */"./src/types/loader.ts"),u=r(/*! ../utils/attr-list */"./src/utils/attr-list.ts");function c(e){var t=e.type;switch(t){case l.PlaylistContextType.AUDIO_TRACK:return l.PlaylistLevelType.AUDIO;case l.PlaylistContextType.SUBTITLE_TRACK:return l.PlaylistLevelType.SUBTITLE;default:return l.PlaylistLevelType.MAIN}}function d(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r}var f=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=r||n,o=new i(t);return e.loader=o,this.loaders[e.type]=o,o},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var r=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:l.PlaylistContextType.MANIFEST,url:r,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var r=t.id,n=t.level,i=t.url,o=t.deliveryDirectives;this.load({id:r,groupId:null,level:n,responseType:"text",type:l.PlaylistContextType.LEVEL,url:i,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:l.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:o})},t.onSubtitleTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:l.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:o})},t.load=function(e){var t,r,n,i,o,s,u=this.hls.config,c=this.getInternalLoader(e);if(c){var d=c.context;if(d&&d.url===e.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case l.PlaylistContextType.MANIFEST:r=u.manifestLoadingMaxRetry,n=u.manifestLoadingTimeOut,i=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case l.PlaylistContextType.LEVEL:case l.PlaylistContextType.AUDIO_TRACK:case l.PlaylistContextType.SUBTITLE_TRACK:r=0,n=u.levelLoadingTimeOut;break;default:r=u.levelLoadingMaxRetry,n=u.levelLoadingTimeOut,i=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout;break}if((c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part)&&(e.type===l.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===l.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===l.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var f=s.partTarget,h=s.targetduration;f&&h&&(n=Math.min(1e3*Math.max(3*f,.8*h),n))}var p={timeout:n,maxRetry:r,retryDelay:i,maxRetryDelay:o,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,r,n){void 0===n&&(n=null),this.resetInternalLoader(r.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,r,n):this.handleMasterPlaylist(e,t,r,n)):this.handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},t.loaderror=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!1,e)},t.loadtimeout=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!0)},t.handleMasterPlaylist=function(e,t,r,n){var o=this.hls,l=e.data,c=d(e,r),f=s["default"].parseMasterPlaylist(l,c),h=f.levels,p=f.sessionData,v=f.sessionKeys;if(h.length){var m=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),g=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),y=s["default"].parseMasterPlaylistMedia(l,c,"AUDIO",m),b=s["default"].parseMasterPlaylistMedia(l,c,"SUBTITLES",g),E=s["default"].parseMasterPlaylistMedia(l,c,"CLOSED-CAPTIONS");if(y.length){var S=y.some((function(e){return!e.url}));S||!h[0].audioCodec||h[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new u.AttrList({}),bitrate:0,url:""}))}o.trigger(i.Events.MANIFEST_LOADED,{levels:h,audioTracks:y,subtitles:b,captions:E,url:c,stats:t,networkDetails:n,sessionData:p,sessionKeys:v})}else this.handleManifestParsingError(e,r,"no level found in manifest",n)},t.handleTrackOrLevelPlaylist=function(e,t,r,a){var f=this.hls,h=r.id,p=r.level,v=r.type,m=d(e,r),g=(0,n.isFiniteNumber)(h)?h:0,y=(0,n.isFiniteNumber)(p)?p:g,b=c(r),E=s["default"].parseLevelPlaylist(e.data,m,y,b,g);if(E.fragments.length){if(v===l.PlaylistContextType.MANIFEST){var S={attrs:new u.AttrList({}),bitrate:0,details:E,name:"",url:m};f.trigger(i.Events.MANIFEST_LOADED,{levels:[S],audioTracks:[],url:m,stats:t,networkDetails:a,sessionData:null,sessionKeys:null})}t.parsing.end=performance.now(),r.levelDetails=E,this.handlePlaylistLoaded(e,t,r,a)}else f.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:m,reason:"no fragments found in level",level:"number"===typeof r.level?r.level:void 0})},t.handleManifestParsingError=function(e,t,r,n){this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===l.PlaylistContextType.MANIFEST,url:e.url,reason:r,response:e,context:t,networkDetails:n})},t.handleNetworkError=function(e,t,r,n){void 0===r&&(r=!1),a.logger.warn("[playlist-loader]: A network "+(r?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=o.ErrorDetails.UNKNOWN,u=!1,c=this.getInternalLoader(e);switch(e.type){case l.PlaylistContextType.MANIFEST:s=r?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case l.PlaylistContextType.LEVEL:s=r?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.AUDIO_TRACK:s=r?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.SUBTITLE_TRACK:s=r?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1;break}c&&this.resetInternalLoader(e.type);var d={type:o.ErrorTypes.NETWORK_ERROR,details:s,fatal:u,url:e.url,loader:c,context:e,networkDetails:t};n&&(d.response=n),this.hls.trigger(i.Events.ERROR,d)},t.handlePlaylistLoaded=function(e,t,r,n){var o=r.type,a=r.level,s=r.id,u=r.groupId,c=r.loader,d=r.levelDetails,f=r.deliveryDirectives;if(null!==d&&void 0!==d&&d.targetduration){if(c)switch(d.live&&(c.getCacheAge&&(d.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),o){case l.PlaylistContextType.MANIFEST:case l.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:d,level:a||0,id:s||0,stats:t,networkDetails:n,deliveryDirectives:f});break;case l.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:u||"",stats:t,networkDetails:n,deliveryDirectives:f});break;case l.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:u||"",stats:t,networkDetails:n,deliveryDirectives:f});break}}else this.handleManifestParsingError(e,r,"invalid target duration",n)},e}();const h=f},"./src/polyfills/number.ts":
/*!*********************************!*\
  !*** ./src/polyfills/number.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{MAX_SAFE_INTEGER:()=>i,isFiniteNumber:()=>n});var n=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}},e}();const i=n},"./src/remux/mp4-generator.ts":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n.length,a=o;while(o--)t+=n[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(n[o],t),t+=n[o].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),o=Math.floor(r%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){var r=t.length,n=[];while(r--)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){var r=t.length,n=[];while(r--)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),o=Math.floor(r%(n+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,o=[],a=[];for(r=0;r<t.sps.length;r++)n=t.sps[r],i=n.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)n=t.pps[r],i=n.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,i=t.duration*t.timescale,o=t.width,a=t.height,s=Math.floor(i/(n+1)),l=Math.floor(i%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,r){var i=e.sdtp(t),o=t.id,a=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,o,a,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)i=u[n],o=i.duration,a=i.size,s=i.flags,l=i.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+r.byteLength);return n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0;const o=i},"./src/remux/mp4-remuxer.ts":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,flushTextTrackMetadataCueSamples:()=>E,flushTextTrackUserdataCueSamples:()=>S,normalizePts:()=>y});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./aac-helper */"./src/remux/aac-helper.ts"),o=r(/*! ./mp4-generator */"./src/remux/mp4-generator.ts"),a=r(/*! ../events */"./src/events.ts"),s=r(/*! ../errors */"./src/errors.ts"),l=r(/*! ../utils/logger */"./src/utils/logger.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),c=r(/*! ../utils/timescale-conversion */"./src/utils/timescale-conversion.ts");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var f=1e4,h=1024,p=1152,v=null,m=null,g=function(){function e(e,t,r,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===v){var i=navigator.userAgent||"",o=i.match(/Chrome\/(\d+)/i);v=o?parseInt(o[1]):0}if(null===m){var a=navigator.userAgent.match(/Safari\/(\d+)/i);m=a?parseInt(a[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,y(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),r},t.remux=function(e,t,r,n,i,o,a,s){var c,d,f,h,p,v,m=i,g=i,w=e.pid>-1,T=t.pid>-1,_=t.samples.length,k=e.samples.length>0,x=a&&_>0||_>1,C=(!w||k)&&(!T||x)||this.ISGenerated||a;if(C){this.ISGenerated||(f=this.generateIS(e,t,i));var A,L=this.isVideoContiguous,D=-1;if(x&&(D=b(t.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,D>0){l.logger.warn("[mp4-remuxer]: Dropped "+D+" out of "+_+" video samples due to a missing keyframe");var R=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(D),t.dropped+=D,g+=(t.samples[0].pts-R)/t.inputTimeScale,A=g}else-1===D&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+_+" video samples"),v=!1);if(this.ISGenerated){if(k&&x){var P=this.getVideoStartPts(t.samples),O=y(e.samples[0].pts,P)-P,I=O/t.inputTimeScale;m+=Math.max(0,I),g+=Math.max(0,-I)}if(k){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,t,i)),d=this.remuxAudio(e,m,this.isAudioContiguous,o,T||x||s===u.PlaylistLevelType.AUDIO?g:void 0),x){var F=d?d.endPTS-d.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,t,i)),c=this.remuxVideo(t,g,L,F)}}else x&&(c=this.remuxVideo(t,g,L,0));c&&(c.firstKeyFrame=D,c.independent=-1!==D,c.firstKeyFramePTS=A)}}return this.ISGenerated&&(r.samples.length&&(p=E(r,i,this._initPTS,this._initDTS)),n.samples.length&&(h=S(n,i,this._initPTS))),{audio:d,video:c,initSegment:f,independent:v,text:h,id3:p}},t.generateIS=function(e,t,r){var i,a,s,l=e.samples,u=t.samples,c=this.typeSupported,d={},f=!(0,n.isFiniteNumber)(this._initPTS),h="audio/mp4";if(f&&(i=a=1/0),e.config&&l.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break}d.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&c.mpeg?new Uint8Array(0):o["default"].initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(s=e.inputTimeScale,i=a=l[0].pts-Math.round(s*r))}if(t.sps&&t.pps&&u.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:o["default"].initSegment([t]),metadata:{width:t.width,height:t.height}},f)){s=t.inputTimeScale;var p=this.getVideoStartPts(u),v=Math.round(s*r);a=Math.min(a,y(u[0].dts,p)-v),i=Math.min(i,p-v)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=a),{tracks:d,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,r,n){var i,u,f=e.inputTimeScale,h=e.samples,p=[],g=h.length,b=this._initPTS,E=this.nextAvcDts,S=8,T=this.videoSampleDuration,_=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,x=!1;if(!r||null===E){var C=t*f,A=h[0].pts-y(h[0].dts,h[0].pts);E=C-A}for(var L=0;L<g;L++){var D=h[L];D.pts=y(D.pts-b,E),D.dts=y(D.dts-b,E),D.dts<h[L>0?L-1:L].dts&&(x=!0)}x&&h.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n})),i=h[0].dts,u=h[h.length-1].dts;var R=u-i,P=R?Math.round(R/(g-1)):T||e.inputTimeScale/30;if(r){var O=i-E,I=O>P,F=O<-1;if((I||F)&&(I?l.logger.warn("AVC: "+(0,c.toMsFromMpegTsClock)(O,!0)+" ms ("+O+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+(0,c.toMsFromMpegTsClock)(-O,!0)+" ms ("+O+"dts) overlapping between fragments detected"),!F||E>h[0].pts)){i=E;var N=h[0].pts-O;h[0].dts=i,h[0].pts=N,l.logger.log("Video: First PTS/DTS adjusted: "+(0,c.toMsFromMpegTsClock)(N,!0)+"/"+(0,c.toMsFromMpegTsClock)(i,!0)+", delta: "+(0,c.toMsFromMpegTsClock)(O,!0)+" ms")}}i=Math.max(0,i);for(var M=0,$=0,j=0;j<g;j++){for(var U=h[j],B=U.units,q=B.length,H=0,V=0;V<q;V++)H+=B[V].data.length;$+=H,M+=q,U.length=H,U.dts=Math.max(U.dts,i),_=Math.min(U.pts,_),k=Math.max(U.pts,k)}u=h[g-1].dts;var K,G=$+4*M+8;try{K=new Uint8Array(G)}catch(_e){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating video mdat "+G})}var z=new DataView(K.buffer);z.setUint32(0,G),K.set(o["default"].types.mdat,4);for(var W=!1,Y=Number.POSITIVE_INFINITY,Z=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,J=Number.NEGATIVE_INFINITY,Q=0;Q<g;Q++){for(var ee=h[Q],te=ee.units,re=0,ne=0,ie=te.length;ne<ie;ne++){var oe=te[ne],ae=oe.data,se=oe.data.byteLength;z.setUint32(S,se),S+=4,K.set(ae,S),S+=se,re+=4+se}var le=void 0;if(Q<g-1)T=h[Q+1].dts-ee.dts,le=h[Q+1].pts-ee.pts;else{var ue=this.config,ce=Q>0?ee.dts-h[Q-1].dts:P;if(le=Q>0?ee.pts-h[Q-1].pts:P,ue.stretchShortVideoTrack&&null!==this.nextAudioPts){var de=Math.floor(ue.maxBufferHole*f),fe=(n?_+n*f:this.nextAudioPts)-ee.pts;fe>de?(T=fe-ce,T<0?T=ce:W=!0,l.logger.log("[mp4-remuxer]: It is approximately "+fe/90+" ms to the next segment; using duration "+T/90+" ms for the last video frame.")):T=ce}else T=ce}var he=Math.round(ee.pts-ee.dts);Y=Math.min(Y,T),X=Math.max(X,T),Z=Math.min(Z,le),J=Math.max(J,le),p.push(new w(ee.key,T,re,he))}if(p.length)if(v){if(v<70){var pe=p[0].flags;pe.dependsOn=2,pe.isNonSync=0}}else if(m&&J-Z<X-Y&&P/X<.025&&0===p[0].cts){l.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ve=i,me=0,ge=p.length;me<ge;me++){var ye=ve+p[me].duration,be=ve+p[me].cts;if(me<ge-1){var Ee=ye+p[me+1].cts;p[me].duration=Ee-be}else p[me].duration=me?p[me-1].duration:P;p[me].cts=0,ve=ye}}console.assert(null!==T,"mp4SampleDuration must be computed"),T=W||!T?P:T,this.nextAvcDts=E=u+T,this.videoSampleDuration=T,this.isVideoContiguous=!0;var Se=o["default"].moof(e.sequenceNumber++,i,d({},e,{samples:p})),we="video",Te={data1:Se,data2:K,startPTS:_/f,endPTS:(k+T)/f,startDTS:i/f,endDTS:E/f,type:we,hasAudio:!1,hasVideo:!0,nb:p.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(K.length,"MDAT length must not be zero"),Te},t.remuxAudio=function(e,t,r,n,u){var c=e.inputTimeScale,v=e.samplerate?e.samplerate:c,m=c/v,g="aac"===e.segmentCodec?h:p,b=g*m,E=this._initPTS,S="mp3"===e.segmentCodec&&this.typeSupported.mpeg,T=[],_=void 0!==u,k=e.samples,x=S?0:8,C=this.nextAudioPts||-1,A=t*c;if(this.isAudioContiguous=r=r||k.length&&C>0&&(n&&Math.abs(A-C)<9e3||Math.abs(y(k[0].pts-E,A)-C)<20*b),k.forEach((function(e){e.pts=y(e.pts-E,A)})),!r||C<0){if(k=k.filter((function(e){return e.pts>=0})),!k.length)return;C=0===u?0:n&&!_?Math.max(0,A):k[0].pts}if("aac"===e.segmentCodec)for(var L=this.config.maxAudioFramesDrift,D=0,R=C;D<k.length;D++){var P=k[D],O=P.pts,I=O-R,F=Math.abs(1e3*I/c);if(I<=-L*b&&_)0===D&&(l.logger.warn("Audio frame @ "+(O/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*I/c)+" ms."),this.nextAudioPts=C=R=O);else if(I>=L*b&&F<f&&_){var N=Math.round(I/b);R=O-N*b,R<0&&(N--,R+=b),0===D&&(this.nextAudioPts=C=R),l.logger.warn("[mp4-remuxer]: Injecting "+N+" audio frame @ "+(R/c).toFixed(3)+"s due to "+Math.round(1e3*I/c)+" ms gap.");for(var M=0;M<N;M++){var $=Math.max(R,0),j=i["default"].getSilentFrame(e.manifestCodec||e.codec,e.channelCount);j||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),j=P.unit.subarray()),k.splice(D,0,{unit:j,pts:$}),R+=b,D++}}P.pts=R,R+=b}var U,B=null,q=null,H=0,V=k.length;while(V--)H+=k[V].unit.byteLength;for(var K=0,G=k.length;K<G;K++){var z=k[K],W=z.unit,Y=z.pts;if(null!==q){var Z=T[K-1];Z.duration=Math.round((Y-q)/m)}else{if(r&&"aac"===e.segmentCodec&&(Y=C),B=Y,!(H>0))return;H+=x;try{U=new Uint8Array(H)}catch(ae){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}if(!S){var X=new DataView(U.buffer);X.setUint32(0,H),U.set(o["default"].types.mdat,4)}}U.set(W,x);var J=W.byteLength;x+=J,T.push(new w(!0,g,J,0)),q=Y}var Q=T.length;if(Q){var ee=T[T.length-1];this.nextAudioPts=C=q+m*ee.duration;var te=S?new Uint8Array(0):o["default"].moof(e.sequenceNumber++,B/m,d({},e,{samples:T}));e.samples=[];var re=B/c,ne=C/c,ie="audio",oe={data1:te,data2:U,startPTS:re,endPTS:ne,startDTS:re,endDTS:ne,type:ie,hasAudio:!0,hasVideo:!1,nb:Q};return this.isAudioContiguous=!0,console.assert(U.length,"MDAT length must not be zero"),oe}},t.remuxEmptyAudio=function(e,t,r,n){var o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,s=o/a,u=this.nextAudioPts,c=(null!==u?u:n.startDTS*o)+this._initDTS,d=n.endDTS*o+this._initDTS,f=s*h,p=Math.ceil((d-c)/f),v=i["default"].getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),v){for(var m=[],g=0;g<p;g++){var y=c+g*f;m.push({unit:v,pts:y,dts:y})}return e.samples=m,this.remuxAudio(e,t,r,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function y(e,t){var r;if(null===t)return e;r=t<e?-8589934592:8589934592;while(Math.abs(e-t)>4294967296)e+=r;return e}function b(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}function E(e,t,r,n){var i=e.samples.length;if(i){for(var o=e.inputTimeScale,a=0;a<i;a++){var s=e.samples[a];s.pts=y(s.pts-r,t*o)/o,s.dts=y(s.dts-n,t*o)/o}var l=e.samples;return e.samples=[],{samples:l}}}function S(e,t,r){var n=e.samples.length;if(n){for(var i=e.inputTimeScale,o=0;o<n;o++){var a=e.samples[o];a.pts=y(a.pts-r,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var w=function(e,t,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=n,this.flags=new T(e)},T=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.ts ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./mp4-remuxer */"./src/remux/mp4-remuxer.ts"),o=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),a=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),l=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndTime=null},t.resetNextTimestamp=function(){this.lastEndTime=null},t.resetInitSegment=function(e,t,r,n){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment((0,o.patchEncyptionData)(e,n)),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,r=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=(0,o.parseInitSegment)(e);t||(t=u(n.audio,a.ElementaryStreamTypes.AUDIO)),r||(r=u(n.video,a.ElementaryStreamTypes.VIDEO));var i={};n.audio&&n.video?i.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:n.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?i.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,r,a,l){var u,c=this.initPTS,d=this.lastEndTime,f={audio:void 0,video:void 0,text:a,id3:r,initSegment:void 0};(0,n.isFiniteNumber)(d)||(d=this.lastEndTime=l||0);var h=t.samples;if(!h||!h.length)return f;var p={initPTS:void 0,timescale:1},v=this.initData;if(v&&v.length||(this.generateInitSegment(h),v=this.initData),!v||!v.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);var m=(0,o.getStartDTS)(v,h);(0,n.isFiniteNumber)(c)||(this.initPTS=p.initPTS=c=m-l);var g=(0,o.getDuration)(h,v),y=e?m-c:d,b=y+g;(0,o.offsetStartDTS)(v,h,c),g>0?this.lastEndTime=b:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var E=!!v.audio,S=!!v.video,w="";E&&(w+="audio"),S&&(w+="video");var T={data1:h,startPTS:y,startDTS:y,endPTS:b,endDTS:b,type:w,hasAudio:E,hasVideo:S,nb:1,dropped:0};f.audio="audio"===T.type?T:void 0,f.video="audio"!==T.type?T:void 0,f.initSegment=p;var _=null!=(u=this.initPTS)?u:0;return f.id3=(0,i.flushTextTrackMetadataCueSamples)(r,l,_,_),a.samples.length&&(f.text=(0,i.flushTextTrackUserdataCueSamples)(a,l,_)),f},e}();function u(e,t){var r=null===e||void 0===e?void 0:e.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.c.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||t===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const c=l},"./src/task-loop.ts":
/*!**************************!*\
  !*** ./src/task-loop.ts ***!
  \**************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var n=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":
/*!***************************!*\
  !*** ./src/types/cmcd.ts ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{CMCDObjectType:()=>n,CMCDStreamType:()=>o,CMCDStreamingFormat:()=>i,CMCDVersion:()=>a});var n,i,o,a=1;(function(e){e["MANIFEST"]="m",e["AUDIO"]="a",e["VIDEO"]="v",e["MUXED"]="av",e["INIT"]="i",e["CAPTION"]="c",e["TIMED_TEXT"]="tt",e["KEY"]="k",e["OTHER"]="o"})(n||(n={})),function(e){e["DASH"]="d",e["HLS"]="h",e["SMOOTH"]="s",e["OTHER"]="o"}(i||(i={})),function(e){e["VOD"]="v",e["LIVE"]="l"}(o||(o={}))},"./src/types/demuxer.ts":
/*!******************************!*\
  !*** ./src/types/demuxer.ts ***!
  \******************************/(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{MetadataSchema:()=>n}),function(e){e["audioId3"]="org.id3",e["dateRange"]="com.apple.quicktime.HLS",e["emsg"]="https://aomedia.org/emsg/ID3"}(n||(n={}))},"./src/types/level.ts":
/*!****************************!*\
  !*** ./src/types/level.ts ***!
  \****************************/(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=a(e,"string");return"symbol"===typeof t?t:String(t)}function a(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}r.r(t),r.d(t,{HdcpLevels:()=>l,HlsSkip:()=>s,HlsUrlParameters:()=>c,Level:()=>d,getSkipValue:()=>u});var s,l=["NONE","TYPE-0","TYPE-1","TYPE-2",null];function u(e,t){var r=e.canSkipUntil,n=e.canSkipDateRanges,i=e.endSN,o=void 0!==t?t-i:0;return r&&o<r?n?s.v2:s.Yes:s.No}(function(e){e["No"]="",e["Yes"]="YES",e["v2"]="v2"})(s||(s={}));var c=function(){function e(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}var t=e.prototype;return t.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href},e}(),d=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return i(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}]),e}()},"./src/types/loader.ts":
/*!*****************************!*\
  !*** ./src/types/loader.ts ***!
  \*****************************/(e,t,r)=>{"use strict";var n,i;r.r(t),r.d(t,{PlaylistContextType:()=>n,PlaylistLevelType:()=>i}),function(e){e["MANIFEST"]="manifest",e["LEVEL"]="level",e["AUDIO_TRACK"]="audioTrack",e["SUBTITLE_TRACK"]="subtitleTrack"}(n||(n={})),function(e){e["MAIN"]="main",e["AUDIO"]="audio",e["SUBTITLE"]="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/types/transmuxer.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{ChunkMetadata:()=>n});var n=function(e,t,r,n,o,a){void 0===n&&(n=0),void 0===o&&(o=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=i(),this.buffering={audio:i(),video:i(),audiovideo:i()},this.level=e,this.sn=t,this.id=r,this.size=n,this.part=o,this.partial=a};function i(){return{start:0,executeStart:0,executeEnd:0,end:0}}},"./src/utils/attr-list.ts":
/*!********************************!*\
  !*** ./src/utils/attr-list.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{AttrList:()=>o});var n=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var r in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var r=this[e];return r?parseFloat(r):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={},n='"';i.lastIndex=0;while(null!==(t=i.exec(e))){var o=t[2];0===o.indexOf(n)&&o.lastIndexOf(n)===o.length-1&&(o=o.slice(1,-1)),r[t[1]]=o}return r},e}()},"./src/utils/binary-search.ts":
/*!************************************!*\
  !*** ./src/utils/binary-search.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n={search:function(e,t){var r=0,n=e.length-1,i=null,o=null;while(r<=n){i=(r+n)/2|0,o=e[i];var a=t(o);if(a>0)r=i+1;else{if(!(a<0))return o;n=i-1}}return null}};const i=n},"./src/utils/buffer-helper.ts":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{BufferHelper:()=>o});var n=r(/*! ./logger */"./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function e(){}return e.isBuffered=function(t,r){try{if(t)for(var n=e.getBuffered(t),i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}catch(o){}return!1},e.bufferInfo=function(t,r,n){try{if(t){var i,o=e.getBuffered(t),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,r,n)}}catch(s){}return{len:0,start:r,end:r,nextStart:void 0}},e.bufferedInfo=function(e,t,r){t=Math.max(0,t),e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var o=n.length;if(o){var a=n[o-1].end;e[i].start-a<r?e[i].end>a&&(n[o-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,l=0,u=t,c=t,d=0;d<n.length;d++){var f=n[d].start,h=n[d].end;if(t+r>=f&&t<h)u=f,c=h,l=c-t;else if(t+r<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(t){return n.logger.log("failed to get media.buffered",t),i}},e}()},"./src/utils/cea-608-parser.ts":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.ts ***!
  \*************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{CaptionScreen:()=>b,Row:()=>y,default:()=>k});var n,i=r(/*! ../utils/logger */"./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},s=15,l=100,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(e){e[e["ERROR"]=0]="ERROR",e[e["TEXT"]=1]="TEXT",e[e["WARNING"]=2]="WARNING",e[e["INFO"]=2]="INFO",e[e["DEBUG"]=3]="DEBUG",e[e["DATA"]=3]="DATA"})(n||(n={}));var p=function(){function e(){this.time=null,this.verboseLevel=n.ERROR}var t=e.prototype;return t.log=function(e,t){if(this.verboseLevel>=e){var r="function"===typeof t?t():t;i.logger.log(this.time+" ["+e+"] "+r)}},e}(),v=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},m=function(){function e(e,t,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,r,n,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new m(t,r,n,i,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<l;t++)this.chars.push(new g);this.logger=e,this.pos=0,this.currPenState=new m}var t=e.prototype;return t.equals=function(e){for(var t=!0,r=0;r<l;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=l)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){var t=this;e>=144&&this.backSpace();var r=a(e);this.pos>=l?this.logger.log(n.ERROR,(function(){return"Cannot insert "+e.toString(16)+" ("+r+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,r=0;r<l;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)},e}(),b=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y(e));this.logger=e,this.currRow=s-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=s-1},t.equals=function(e){for(var t=!0,r=0;r<s;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){var e=this.rows[this.currRow];e.backSpace()},t.clearToEndOfRow=function(){var e=this.rows[this.currRow];e.clearToEndOfRow()},t.insertChar=function(e){var t=this.rows[this.currRow];t.insertChar(e)},t.setPen=function(e){var t=this.rows[this.currRow];t.setPenStyles(e)},t.moveCursor=function(e){var t=this.rows[this.currRow];t.moveCursor(e)},t.setCursor=function(e){this.logger.log(n.INFO,"setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)},t.setPAC=function(e){this.logger.log(n.INFO,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<s;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var a=o.rows[i].cueStartTime,l=this.logger.time;if(a&&null!==l&&a<l)for(var u=0;u<this.nrRollUpRows;u++)this.rows[t-this.nrRollUpRows+u+1].copy(o.rows[i+u])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==e.indent){var d=e.indent,f=Math.max(d-1,0);c.setCursor(e.indent),e.color=c.chars[f].penState.foreground}var h={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(h)},t.setBkgData=function(e){this.logger.log(n.INFO,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(t,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<s;i++){var o=this.rows[i].getTextString();o&&(n=i+1,e?t.push("Row "+n+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},t.getTextAndFormat=function(){return this.rows},e}(),E=function(){function e(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new b(r),this.nonDisplayedMemory=new b(r),this.lastOutputScreen=new b(r),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(n.INFO,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=this,r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,(function(){return i+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(n.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){var e=this;if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(n.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[r]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),S=function(){function e(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new p;this.channels=[null,new E(e,t,n),new E(e+1,r,n)],this.cmdHistory=_(),this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var r,i,o,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],o=127&t[s+1],0!==i||0!==o){if(this.logger.log(n.DATA,"["+v([t[s],t[s+1]])+"] -> ("+v([i,o])+")"),r=this.parseCmd(i,o),r||(r=this.parseMidrow(i,o)),r||(r=this.parsePAC(i,o)),r||(r=this.parseBackgroundAttributes(i,o)),!r&&(a=this.parseChars(i,o),a)){var l=this.currentChannel;if(l&&l>0){var u=this.channels[l];u.insertChars(a)}else this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+v([i,o])+" orig: "+v([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var r=this.cmdHistory,i=(20===e||28===e||21===e||29===e)&&t>=32&&t<=47,o=(23===e||31===e)&&t>=33&&t<=35;if(!i&&!o)return!1;if(T(e,t,r))return w(null,null,r),this.logger.log(n.DEBUG,"Repeated command ("+v([e,t])+") is dropped"),!0;var a=20===e||21===e||23===e?1:2,s=this.channels[a];return 20===e||21===e||28===e||29===e?32===t?s.ccRCL():33===t?s.ccBS():34===t?s.ccAOF():35===t?s.ccAON():36===t?s.ccDER():37===t?s.ccRU(2):38===t?s.ccRU(3):39===t?s.ccRU(4):40===t?s.ccFON():41===t?s.ccRDC():42===t?s.ccTR():43===t?s.ccRTD():44===t?s.ccEDM():45===t?s.ccCR():46===t?s.ccENM():47===t&&s.ccEOC():s.ccTO(t-32),w(e,t,r),this.currentChannel=a,!0},t.parseMidrow=function(e,t){var r=0;if((17===e||25===e)&&t>=32&&t<=47){if(r=17===e?1:2,r!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[r];return!!i&&(i.ccMIDROW(t),this.logger.log(n.DEBUG,"MIDROW ("+v([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var r,n=this.cmdHistory,i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,o=(16===e||24===e)&&t>=64&&t<=95;if(!i&&!o)return!1;if(T(e,t,n))return w(null,null,n),!0;var a=e<=23?1:2;r=t>=64&&t<=95?1===a?u[e]:d[e]:1===a?c[e]:f[e];var s=this.channels[a];return!!s&&(s.setPAC(this.interpretPAC(r,t)),w(e,t,n),this.currentChannel=a,!0)},t.interpretPAC=function(e,t){var r,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},t.parseChars=function(e,t){var r,i,o=null,s=null;(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19)?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(n.INFO,"Special char '"+a(i)+"' in channel "+r),o=[i]):e>=32&&e<=127&&(o=0===t?[e]:[e,t]);if(o){var l=v(o);this.logger.log(n.DEBUG,"Char codes =  "+l.join(",")),w(e,t,this.cmdHistory)}return o},t.parseBackgroundAttributes=function(e,t){var r,n=(16===e||24===e)&&t>=32&&t<=47,i=(23===e||31===e)&&t>=45&&t<=47;if(!n&&!i)return!1;var o={};16===e||24===e?(r=Math.floor((t-32)/2),o.background=h[r],t%2===1&&(o.background=o.background+"_semi")):45===t?o.background="transparent":(o.foreground="black",47===t&&(o.underline=!0));var a=e<=23?1:2,s=this.channels[a];return s.setBkgData(o),w(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory=_()},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var r=this.channels[t];r&&r.cueSplitAtTime(e)}},e}();function w(e,t,r){r.a=e,r.b=t}function T(e,t,r){return r.a===e&&r.b===t}function _(){return{a:null,b:null}}const k=S},"./src/utils/codecs.ts":
/*!*****************************!*\
  !*** ./src/utils/codecs.ts ***!
  \*****************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{isCodecSupportedInMp4:()=>o,isCodecType:()=>i});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var r=n[t];return!!r&&!0===r[e.slice(0,4)]}function o(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":
/*!***************************!*\
  !*** ./src/utils/cues.ts ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ./vttparser */"./src/utils/vttparser.ts"),i=r(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts"),o=r(/*! ./texttrack-utils */"./src/utils/texttrack-utils.ts"),a=/\s/,s={newCue:function(e,t,r,s){for(var l,u,c,d,f,h=[],p=self.VTTCue||self.TextTrackCue,v=0;v<s.rows.length;v++)if(l=s.rows[v],c=!0,d=0,f="",!l.isEmpty()){for(var m=0;m<l.chars.length;m++)a.test(l.chars[m].uchar)&&c?d++:(f+=l.chars[m].uchar,c=!1);l.cueStartTime=t,t===r&&(r+=1e-4),d>=16?d--:d++;var g=(0,n.fixLineBreaks)(f.trim()),y=(0,i.generateCueId)(t,r,g);e&&e.cues&&e.cues.getCueById(y)||(u=new p(t,r,g),u.id=y,u.line=v+1,u.align="left",u.position=10+Math.min(80,10*Math.floor(8*d/32)),h.push(u))}return e&&h.length&&(h.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),h.forEach((function(t){return(0,o.addCueToTrack)(e,t)}))),h}};const l=s},"./src/utils/discontinuities.ts":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.ts ***!
  \**************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{adjustSlidingStart:()=>c,alignMediaPlaylistByPDT:()=>p,alignPDT:()=>h,alignStream:()=>d,findDiscontinuousReferenceFrag:()=>l,findFirstFragWithCC:()=>a,shouldAlignOnDiscontinuities:()=>s});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./logger */"./src/utils/logger.ts"),o=r(/*! ../controller/level-helper */"./src/controller/level-helper.ts");function a(e,t){for(var r=null,n=0,i=e.length;n<i;n++){var o=e[n];if(o&&o.cc===t){r=o;break}}return r}function s(e,t,r){return!(!t.details||!(r.endCC>r.startCC||e&&e.cc<r.startCC))}function l(e,t,r){void 0===r&&(r=0);var n=e.fragments,o=t.fragments;if(o.length&&n.length){var s=a(n,o[0].cc);if(s&&(!s||s.startPTS))return s;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function u(e,t){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function c(e,t){for(var r=t.fragments,n=0,i=r.length;n<i;n++)u(r[n],e);t.fragmentHint&&u(t.fragmentHint,e),t.alignedSliding=!0}function d(e,t,r){t&&(f(e,r,t),!r.alignedSliding&&t.details&&h(r,t.details),r.alignedSliding||!t.details||r.skippedSegments||(0,o.adjustSliding)(t.details,r))}function f(e,t,r){if(s(e,r,t)){var o=l(r.details,t);o&&(0,n.isFiniteNumber)(o.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(o.start,t))}}function h(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var r=t.fragments[0].programDateTime,o=e.fragments[0].programDateTime,a=(o-r)/1e3+t.fragments[0].start;a&&(0,n.isFiniteNumber)(a)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(o-r)+"ms, sliding:"+a.toFixed(3)+" "+e.url+" "),c(a,e))}}function p(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var r=e.fragments,n=t.fragments;if(r.length&&n.length){var i=Math.round(n.length/2)-1,o=n[i],s=a(r,o.cc)||r[Math.round(r.length/2)-1],l=o.programDateTime,u=s.programDateTime;if(null!==l&&null!==u){var d=(u-l)/1e3-(s.start-o.start);c(d,e)}}}}},"./src/utils/ewma-bandwidth-estimator.ts":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.ts ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../utils/ewma */"./src/utils/ewma.ts"),i=function(){function e(e,t,r){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n["default"](e),this.fast_=new n["default"](t)}var t=e.prototype;return t.update=function(e,t){var r=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new n["default"](e,r.getEstimate(),r.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new n["default"](t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var r=8*t,n=e/1e3,i=r/n;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();const o=i},"./src/utils/ewma.ts":
/*!***************************!*\
  !*** ./src/utils/ewma.ts ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();const i=n},"./src/utils/fetch-loader.ts":
/*!***********************************!*\
  !*** ./src/utils/fetch-loader.ts ***!
  \***********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,fetchSupported:()=>p});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),o=r(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||!c(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},s(e)}function l(e,t,r){return l=u()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&d(o,r.prototype),o},l.apply(null,arguments)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function p(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var v=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||g,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,r){var i=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var a=m(e,this.controller.signal),s=r.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),r.onTimeout(o,e,i.response)}),t.timeout),self.fetch(this.request).then((function(r){if(i.response=i.loader=r,!r.ok){var a=r.status,u=r.statusText;throw new y(u||"fetch, bad network response",a,r)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(r.headers.get("Content-Length")||"0"),s&&(0,n.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(r,o,e,t.highWaterMark,s):l?r.arrayBuffer():r.text()})).then((function(a){var l=i.response;self.clearTimeout(i.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);var c=a[u];c&&(o.loaded=o.total=c);var d={url:l.url,data:a};s&&!(0,n.isFiniteNumber)(t.highWaterMark)&&s(o,e,a,l),r.onSuccess(d,o,e,l)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!o.aborted){var n=t&&t.code||0,a=t?t.message:null;r.onError({code:n,text:a},e,t?t.details:null)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,r,n,i){void 0===n&&(n=0);var a=new o["default"],s=e.body.getReader(),l=function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,r,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<n||a.dataLength?(a.push(l),a.dataLength>=n&&i(t,r,a.flush(),e)):i(t,r,l,e),o()})).catch((function(){return Promise.reject()}))};return l()},e}();function m(e,t){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(h({},e.headers))};return e.rangeEnd&&r.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),r}function g(e,t){return new self.Request(e.url,t)}var y=function(e){function t(t,r,n){var i;return i=e.call(this,t)||this,i.code=void 0,i.details=void 0,i.code=r,i.details=n,i}return a(t,e),t}(s(Error));const b=v},"./src/utils/hex.ts":
/*!**************************!*\
  !*** ./src/utils/hex.ts ***!
  \**************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n={hexDump:function(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);n.length<2&&(n="0"+n),t+=n}return t}};const i=n},"./src/utils/imsc1-ttml-parser.ts":
/*!****************************************!*\
  !*** ./src/utils/imsc1-ttml-parser.ts ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{IMSC1_CODEC:()=>c,parseIMSC1:()=>p});var n=r(/*! ./mp4-tools */"./src/utils/mp4-tools.ts"),i=r(/*! ./vttparser */"./src/utils/vttparser.ts"),o=r(/*! ./vttcue */"./src/utils/vttcue.ts"),a=r(/*! ../demux/id3 */"./src/demux/id3.ts"),s=r(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),l=r(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}var c="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,h={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,r,i,o){var l=(0,n.findBox)(new Uint8Array(e),["mdat"]);if(0!==l.length){var u=l.map((function(e){return(0,a.utf8ArrayToStr)(e)})),c=(0,s.toTimescaleFromScale)(t,1,r);try{u.forEach((function(e){return i(v(e,c))}))}catch(d){o(d)}}else o(new Error("Could not parse IMSC1 mdat"))}function v(e,t){var r=new DOMParser,n=r.parseFromString(e,"text/xml"),i=n.getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");var a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((function(e,t){return e[t]=i.getAttribute("ttp:"+t)||a[t],e}),{}),c="preserve"!==i.getAttribute("xml:space"),d=g(m(i,"styling","style")),f=g(m(i,"layout","region")),p=m(i,"body","[begin]");return[].map.call(p,(function(e){var r=y(e,c);if(!r||!e.hasAttribute("begin"))return null;var n=w(e.getAttribute("begin"),s),i=w(e.getAttribute("dur"),s),a=w(e.getAttribute("end"),s);if(null===n)throw S(e);if(null===a){if(null===i)throw S(e);a=n+i}var p=new o["default"](n-t,a-t,r);p.id=(0,l.generateCueId)(p.startTime,p.endTime,p.text);var v=f[e.getAttribute("region")],m=d[e.getAttribute("style")],g=b(v,m,d),E=g.textAlign;if(E){var T=h[E];T&&(p.lineAlign=T),p.align=E}return u(p,g),p})).filter((function(e){return null!==e}))}function m(e,t,r){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function g(e){return e.reduce((function(e,t){var r=t.getAttribute("xml:id");return r&&(e[r]=t),e}),{})}function y(e,t){return[].slice.call(e.childNodes).reduce((function(e,r,n){var i;return"br"===r.nodeName&&n?e+"\n":null!==(i=r.childNodes)&&void 0!==i&&i.length?y(r,t):t?e+r.textContent.trim().replace(/\s+/g," "):e+r.textContent}),"")}function b(e,t,r){var n="http://www.w3.org/ns/ttml#styling",i=null,o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!==e&&void 0!==e&&e.hasAttribute("style")?e.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(i=r[a]),o.reduce((function(r,o){var a=E(t,n,o)||E(e,n,o)||E(i,n,o);return a&&(r[o]=a),r}),{})}function E(e,t,r){return e&&e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function S(e){return new Error("Could not parse ttml timestamp "+e)}function w(e,t){if(!e)return null;var r=(0,i.parseTimeStamp)(e);return null===r&&(d.test(e)?r=T(e,t):f.test(e)&&(r=_(e,t))),r}function T(e,t){var r=d.exec(e),n=(0|r[4])+(0|r[5])/t.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/t.frameRate}function _(e,t){var r=f.exec(e),n=Number(r[1]),i=r[2];switch(i){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}},"./src/utils/keysystem-util.ts":
/*!*************************************!*\
  !*** ./src/utils/keysystem-util.ts ***!
  \*************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeEndianness:()=>o,convertDataUriToArrayBytes:()=>a,strToUtf8array:()=>s});var n=r(/*! ./numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts");function i(e){var t=s(e).subarray(0,16),r=new Uint8Array(16);return r.set(t,16-t.length),r}function o(e){var t=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}function a(e){var t=e.split(":"),r=null;if("data"===t[0]&&2===t.length){var o=t[1].split(";"),a=o[o.length-1].split(",");if(2===a.length){var s="base64"===a[0],l=a[1];s?(o.splice(-1,1),r=(0,n.base64Decode)(l)):r=i(l)}}return r}function s(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}},"./src/utils/logger.ts":
/*!*****************************!*\
  !*** ./src/utils/logger.ts ***!
  \*****************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{enableLogs:()=>l,logger:()=>u});var n=function(){},i={trace:n,debug:n,log:n,warn:n,info:n,error:n},o=i;function a(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):n}function s(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){o[t]=e[t]?e[t].bind(e):a(t)}))}function l(e,t){if(self.console&&!0===e||"object"===typeof e){s(e,"debug","log","info","warn","error");try{o.log('Debug logs enabled for "'+t+'"')}catch(r){o=i}}else o=i}var u=o},"./src/utils/mediakeys-helper.ts":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.ts ***!
  \***************************************/(e,t,r)=>{"use strict";var n,i,o;function a(e){switch(e){case i.FAIRPLAY:return n.FAIRPLAY;case i.PLAYREADY:return n.PLAYREADY;case i.WIDEVINE:return n.WIDEVINE;case i.CLEARKEY:return n.CLEARKEY}}function s(e){if(e===o.WIDEVINE)return n.WIDEVINE}function l(e){switch(e){case n.FAIRPLAY:return i.FAIRPLAY;case n.PLAYREADY:return i.PLAYREADY;case n.WIDEVINE:return i.WIDEVINE;case n.CLEARKEY:return i.CLEARKEY}}function u(e){var t=e.drmSystems,r=e.widevineLicenseUrl,i=t?[n.FAIRPLAY,n.WIDEVINE,n.PLAYREADY,n.CLEARKEY].filter((function(e){return!!t[e]})):[];return!i[n.WIDEVINE]&&r&&i.push(n.WIDEVINE),i}r.r(t),r.d(t,{KeySystemFormats:()=>i,KeySystemIds:()=>o,KeySystems:()=>n,getKeySystemsForConfig:()=>u,getSupportedMediaKeySystemConfigurations:()=>d,keySystemDomainToKeySystemFormat:()=>l,keySystemFormatToKeySystemDomain:()=>a,keySystemIdToKeySystemDomain:()=>s,requestMediaKeySystemAccess:()=>c}),function(e){e["CLEARKEY"]="org.w3.clearkey",e["FAIRPLAY"]="com.apple.fps",e["PLAYREADY"]="com.microsoft.playready",e["WIDEVINE"]="com.widevine.alpha"}(n||(n={})),function(e){e["CLEARKEY"]="org.w3.clearkey",e["FAIRPLAY"]="com.apple.streamingkeydelivery",e["PLAYREADY"]="com.microsoft.playready",e["WIDEVINE"]="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"}(i||(i={})),function(e){e["WIDEVINE"]="edef8ba979d64acea3c827dcd51d21ed"}(o||(o={}));var c=function(){return"undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function d(e,t,r,i){var o;switch(e){case n.FAIRPLAY:o=["cenc","sinf"];break;case n.WIDEVINE:case n.PLAYREADY:o=["cenc"];break;case n.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+e)}return f(o,t,r,i)}function f(e,t,r,n){var i={initDataTypes:e,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}})),videoCapabilities:r.map((function(e){return{contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}}))};return[i]}},"./src/utils/mediasource-helper.ts":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.ts ***!
  \*****************************************/(e,t,r)=>{"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}r.r(t),r.d(t,{getMediaSource:()=>n})},"./src/utils/mp4-tools.ts":
/*!********************************!*\
  !*** ./src/utils/mp4-tools.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{RemuxerTrackIdConfig:()=>c,appendUint8Array:()=>x,bin2str:()=>d,computeRawDurationFromSamples:()=>T,discardEPB:()=>R,findBox:()=>m,getDuration:()=>w,getStartDTS:()=>S,mp4Box:()=>O,mp4pssh:()=>I,offsetStartDTS:()=>_,parseEmsg:()=>P,parseInitSegment:()=>y,parsePssh:()=>F,parseSEIMessageFromNALu:()=>D,parseSamples:()=>C,parseSegmentIndex:()=>g,parseSinf:()=>E,patchEncyptionData:()=>b,readSint32:()=>p,readUint16:()=>f,readUint32:()=>h,segmentValidRange:()=>k,writeUint32:()=>v});var n=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),i=r(/*! ./typed-array */"./src/utils/typed-array.ts"),o=r(/*! ../demux/id3 */"./src/demux/id3.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ./hex */"./src/utils/hex.ts"),l=Math.pow(2,32)-1,u=[].push,c={video:1,audio:2,id3:3,text:4};function d(e){return String.fromCharCode.apply(null,e)}function f(e,t){var r=e[t]<<8|e[t+1];return r<0?65536+r:r}function h(e,t){var r=p(e,t);return r<0?4294967296+r:r}function p(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function v(e,t,r){e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function m(e,t){var r=[];if(!t.length)return r;for(var n=e.byteLength,i=0;i<n;){var o=h(e,i),a=d(e.subarray(i+4,i+8)),s=o>1?i+o:n;if(a===t[0])if(1===t.length)r.push(e.subarray(i+8,s));else{var l=m(e.subarray(i+8,s),t.slice(1));l.length&&u.apply(r,l)}i=s}return r}function g(e){var t=[],r=e[0],n=8,i=h(e,n);n+=4;var o=0,a=0;n+=0===r?8:16,n+=2;var s=e.length+a,l=f(e,n);n+=2;for(var u=0;u<l;u++){var c=n,d=h(e,c);c+=4;var p=2147483647&d,v=(2147483648&d)>>>31;if(1===v)return console.warn("SIDX has hierarchical references (not supported)"),null;var m=h(e,c);c+=4,t.push({referenceSize:p,subsegmentDuration:m,info:{duration:m/i,start:s,end:s+p-1}}),s+=p,c+=4,n=c}return{earliestPresentationTime:o,timescale:i,version:r,referencesCount:l,references:t}}function y(e){for(var t=[],r=m(e,["moov","trak"]),i=0;i<r.length;i++){var o=r[i],a=m(o,["tkhd"])[0];if(a){var s=a[0],l=0===s?12:20,u=h(a,l),c=m(o,["mdia","mdhd"])[0];if(c){s=c[0],l=0===s?12:20;var f=h(c,l),p=m(o,["mdia","hdlr"])[0];if(p){var v=d(p.subarray(8,12)),g={soun:n.ElementaryStreamTypes.AUDIO,vide:n.ElementaryStreamTypes.VIDEO}[v];if(g){var y=m(o,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=d(y.subarray(12,16))),t[u]={timescale:f,type:g},t[g]={timescale:f,id:u,codec:b}}}}}}var E=m(e,["moov","mvex","trex"]);return E.forEach((function(e){var r=h(e,4),n=t[r];n&&(n.default={duration:h(e,12),flags:h(e,20)})})),t}function b(e,t){if(!e||!t)return e;var r=t.keyId;if(r&&t.isCommonEncryption){var n=m(e,["moov","trak"]);n.forEach((function(e){var t=m(e,["mdia","minf","stbl","stsd"])[0],n=t.subarray(8),i=m(n,["enca"]),o=i.length>0;o||(i=m(n,["encv"])),i.forEach((function(e){var t=o?e.subarray(28):e.subarray(78),n=m(t,["sinf"]);n.forEach((function(e){var t=E(e);if(t){var n=t.subarray(8,24);n.some((function(e){return 0!==e}))||(a.logger.log("[eme] Patching keyId in 'enc"+(o?"a":"v")+">sinf>>tenc' box: "+s["default"].hexDump(n)+" -> "+s["default"].hexDump(r)),t.set(r,8))}}))}))}))}return e}function E(e){var t=m(e,["schm"])[0];if(t){var r=d(t.subarray(4,8));if("cbcs"===r||"cenc"===r)return m(e,["schi","tenc"])[0]}return a.logger.error("[eme] missing 'schm' box"),null}function S(e,t){return m(t,["moof","traf"]).reduce((function(t,r){var n=m(r,["tfdt"])[0],i=n[0],o=m(r,["tfhd"]).reduce((function(t,r){var o=h(r,4),a=e[o];if(a){var s=h(n,4);1===i&&(s*=Math.pow(2,32),s+=h(n,8));var l=a.timescale||9e4,u=s/l;if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==o&&isFinite(o)&&(null===t||o<t)?o:t}),null)||0}function w(e,t){for(var r=0,i=0,o=0,a=m(e,["moof","traf"]),s=0;s<a.length;s++){var l=a[s],u=m(l,["tfhd"])[0],c=h(u,4),d=t[c];if(d){var f=d.default,p=h(u,0)|(null===f||void 0===f?void 0:f.flags),v=null===f||void 0===f?void 0:f.duration;8&p&&(v=h(u,2&p?12:8));for(var y=d.timescale||9e4,b=m(l,["trun"]),E=0;E<b.length;E++){if(r=T(b[E]),!r&&v){var S=h(b[E],4);r=v*S}d.type===n.ElementaryStreamTypes.VIDEO?i+=r/y:d.type===n.ElementaryStreamTypes.AUDIO&&(o+=r/y)}}}if(0===i&&0===o){for(var w=0,_=m(e,["sidx"]),k=0;k<_.length;k++){var x=g(_[k]);null!==x&&void 0!==x&&x.references&&(w+=x.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return w}return i||o}function T(e){var t=h(e,0),r=8;1&t&&(r+=4),4&t&&(r+=4);for(var n=0,i=h(e,4),o=0;o<i;o++){if(256&t){var a=h(e,r);n+=a,r+=4}512&t&&(r+=4),1024&t&&(r+=4),2048&t&&(r+=4)}return n}function _(e,t,r){m(t,["moof","traf"]).forEach((function(t){m(t,["tfhd"]).forEach((function(n){var i=h(n,4),o=e[i];if(o){var a=o.timescale||9e4;m(t,["tfdt"]).forEach((function(e){var t=e[0],n=h(e,4);if(0===t)n-=r*a,n=Math.max(n,0),v(e,4,n);else{n*=Math.pow(2,32),n+=h(e,8),n-=r*a,n=Math.max(n,0);var i=Math.floor(n/(l+1)),o=Math.floor(n%(l+1));v(e,4,i),v(e,8,o)}}))}}))}))}function k(e){var t={valid:null,remainder:null},r=m(e,["moof"]);if(!r)return t;if(r.length<2)return t.remainder=e,t;var n=r[r.length-1];return t.valid=(0,i.sliceUint8)(e,0,n.byteOffset-8),t.remainder=(0,i.sliceUint8)(e,n.byteOffset-8),t}function x(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function C(e,t){var r=[],i=t.samples,o=t.timescale,a=t.id,s=!1,l=m(i,["moof"]);return l.map((function(l){var u=l.byteOffset-8,c=m(l,["traf"]);c.map((function(l){var c=m(l,["tfdt"]).map((function(e){var t=e[0],r=h(e,4);return 1===t&&(r*=Math.pow(2,32),r+=h(e,8)),r/o}))[0];return void 0!==c&&(e=c),m(l,["tfhd"]).map((function(c){var d=h(c,4),f=16777215&h(c,0),v=0!==(1&f),g=0!==(2&f),y=0!==(8&f),b=0,E=0!==(16&f),S=0,w=0!==(32&f),T=8;d===a&&(v&&(T+=8),g&&(T+=4),y&&(b=h(c,T),T+=4),E&&(S=h(c,T),T+=4),w&&(T+=4),"video"===t.type&&(s=A(t.codec)),m(l,["trun"]).map((function(a){var l=a[0],c=16777215&h(a,0),d=0!==(1&c),f=0,v=0!==(4&c),m=0!==(256&c),g=0,y=0!==(512&c),E=0,w=0!==(1024&c),T=0!==(2048&c),_=0,k=h(a,4),x=8;d&&(f=h(a,x),x+=4),v&&(x+=4);for(var C=f+u,A=0;A<k;A++){if(m?(g=h(a,x),x+=4):g=b,y?(E=h(a,x),x+=4):E=S,w&&(x+=4),T&&(_=0===l?h(a,x):p(a,x),x+=4),t.type===n.ElementaryStreamTypes.VIDEO){var R=0;while(R<E){var P=h(i,C);if(C+=4,L(s,i[C])){var O=i.subarray(C,C+P);D(O,s?2:1,e+_/o,r)}C+=P,R+=P+4}}e+=g/o}})))}))}))})),r}function A(e){if(!e)return!1;var t=e.indexOf("."),r=t<0?e:e.substring(0,t);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}function L(e,t){if(e){var r=t>>1&63;return 39===r||40===r}var n=31&t;return 6===n}function D(e,t,r,n){var i=R(e),a=0;a+=t;var s=0,l=0,u=!1,c=0;while(a<i.length){s=0;do{if(a>=i.length)break;c=i[a++],s+=c}while(255===c);l=0;do{if(a>=i.length)break;c=i[a++],l+=c}while(255===c);var d=i.length-a;if(!u&&4===s&&a<i.length){u=!0;var p=i[a++];if(181===p){var v=f(i,a);if(a+=2,49===v){var m=h(i,a);if(a+=4,1195456820===m){var g=i[a++];if(3===g){var y=i[a++],b=31&y,E=64&y,S=E?2+3*b:0,w=new Uint8Array(S);if(E){w[0]=y;for(var T=1;T<S;T++)w[T]=i[a++]}n.push({type:g,payloadType:s,pts:r,bytes:w})}}}}}else if(5===s&&l<d){if(u=!0,l>16){for(var _=[],k=0;k<16;k++){var x=i[a++].toString(16);_.push(1==x.length?"0"+x:x),3!==k&&5!==k&&7!==k&&9!==k||_.push("-")}for(var C=l-16,A=new Uint8Array(C),L=0;L<C;L++)A[L]=i[a++];n.push({payloadType:s,pts:r,uuid:_.join(""),userData:(0,o.utf8ArrayToStr)(A),userDataBytes:A})}}else if(l<d)a+=l;else if(l>d)break}}function R(e){var t=e.byteLength,r=[],n=1;while(n<t-2)0===e[n]&&0===e[n+1]&&3===e[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return e;var i=t-r.length,o=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),o[n]=e[a];return o}function P(e){var t=e[0],r="",n="",i=0,o=0,a=0,s=0,l=0,u=0;if(0===t){while("\0"!==d(e.subarray(u,u+1)))r+=d(e.subarray(u,u+1)),u+=1;r+=d(e.subarray(u,u+1)),u+=1;while("\0"!==d(e.subarray(u,u+1)))n+=d(e.subarray(u,u+1)),u+=1;n+=d(e.subarray(u,u+1)),u+=1,i=h(e,12),o=h(e,16),s=h(e,20),l=h(e,24),u=28}else if(1===t){u+=4,i=h(e,u),u+=4;var c=h(e,u);u+=4;var f=h(e,u);u+=4,a=Math.pow(2,32)*c+f,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=h(e,u),u+=4,l=h(e,u),u+=4;while("\0"!==d(e.subarray(u,u+1)))r+=d(e.subarray(u,u+1)),u+=1;r+=d(e.subarray(u,u+1)),u+=1;while("\0"!==d(e.subarray(u,u+1)))n+=d(e.subarray(u,u+1)),u+=1;n+=d(e.subarray(u,u+1)),u+=1}var p=e.subarray(u,e.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:l,payload:p}}function O(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.length,o=8,a=i;while(a--)o+=r[a].byteLength;var s=new Uint8Array(o);for(s[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,s.set(e,4),a=0,o=8;a<i;a++)s.set(r[a],o),o+=r[a].byteLength;return s}function I(e,t,r){if(16!==e.byteLength)throw new RangeError("Invalid system id");var n,i,o;if(t){n=1,i=new Uint8Array(16*t.length);for(var a=0;a<t.length;a++){var s=t[a];if(16!==s.byteLength)throw new RangeError("Invalid key");i.set(s,16*a)}}else n=0,i=new Uint8Array;n>0?(o=new Uint8Array(4),t.length>0&&new DataView(o.buffer).setUint32(0,t.length,!1)):o=new Uint8Array;var l=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(l.buffer).setUint32(0,r.byteLength,!1),O([112,115,115,104],new Uint8Array([n,0,0,0]),e,o,i,l,r||new Uint8Array)}function F(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},r=new DataView(e),n=r.getUint32(0);if(e.byteLength!==n&&n>44)return null;var i=r.getUint32(4);if(1886614376!==i)return null;if(t.version=r.getUint32(8)>>>24,t.version>1)return null;t.systemId=s["default"].hexDump(new Uint8Array(e,12,16));var o=r.getUint32(28);if(0===t.version){if(n-32<o)return null;t.data=new Uint8Array(e,32,o)}else if(1===t.version){t.kids=[];for(var a=0;a<o;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}},"./src/utils/numeric-encoding-utils.ts":
/*!*********************************************!*\
  !*** ./src/utils/numeric-encoding-utils.ts ***!
  \*********************************************/(e,t,r)=>{"use strict";function n(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function i(e){return btoa(e)}function o(e){return atob(e)}function a(e){return btoa(String.fromCharCode.apply(String,e))}function s(e){return n(a(e))}function l(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}r.r(t),r.d(t,{base64Decode:()=>l,base64DecodeToStr:()=>o,base64Encode:()=>a,base64ToBase64Url:()=>n,base64UrlEncode:()=>s,strToBase64Encode:()=>i})},"./src/utils/output-filter.ts":
/*!************************************!*\
  !*** ./src/utils/output-filter.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var n=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.ts ***!
  \**************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{addCueToTrack:()=>o,clearCurrentCues:()=>a,getCuesInRange:()=>u,removeCuesInRange:()=>s,sendAddTrackEvent:()=>i});var n=r(/*! ./logger */"./src/utils/logger.ts");function i(e,t){var r;try{r=new Event("addtrack")}catch(n){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function o(e,t){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(o){n.logger.debug("[texttrack-utils]: "+o);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===r&&(e.mode=r)}function a(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);"disabled"===t&&(e.mode=t)}function s(e,t,r,n){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var o=u(e.cues,t,r),a=0;a<o.length;a++)n&&!n(o[a])||e.removeCue(o[a]);"disabled"===i&&(e.mode=i)}function l(e,t){if(t<e[0].startTime)return 0;var r=e.length-1;if(t>e[r].endTime)return-1;var n=0,i=r;while(n<=i){var o=Math.floor((i+n)/2);if(t<e[o].startTime)i=o-1;else{if(!(t>e[o].startTime&&n<r))return o;n=o+1}}return e[n].startTime-t<t-e[i].startTime?n:i}function u(e,t,r){var n=[],i=l(e,t);if(i>-1)for(var o=i,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=r)n.push(s);else if(s.startTime>r)return n}return n}},"./src/utils/time-ranges.ts":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.ts ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+"-"+e.end(n).toFixed(3)+"]";return t}};const i=n},"./src/utils/timescale-conversion.ts":
/*!*******************************************!*\
  !*** ./src/utils/timescale-conversion.ts ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{toMpegTsClockFromTimescale:()=>s,toMsFromMpegTsClock:()=>a,toTimescaleFromBase:()=>i,toTimescaleFromScale:()=>o});var n=9e4;function i(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function o(e,t,r,n){return void 0===r&&(r=1),void 0===n&&(n=!1),i(e,t,1/r,n)}function a(e,t){return void 0===t&&(t=!1),i(e,1e3,1/n,t)}function s(e,t){return void 0===t&&(t=1),i(e,n,1/t)}},"./src/utils/typed-array.ts":
/*!**********************************!*\
  !*** ./src/utils/typed-array.ts ***!
  \**********************************/(e,t,r)=>{"use strict";function n(e,t,r){return Uint8Array.prototype.slice?e.slice(t,r):new Uint8Array(Array.prototype.slice.call(e,t,r))}r.r(t),r.d(t,{sliceUint8:()=>n})},"./src/utils/vttcue.ts":
/*!*****************************!*\
  !*** ./src/utils/vttcue.ts ***!
  \*****************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function r(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var r=t.toLowerCase();return!!~e.indexOf(r)&&r}function n(t){return r(e,t)}function i(e){return r(t,e)}function o(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)e[a]=o[a]}return e}function a(e,t,r){var a=this,s={enumerable:!0};a.hasBeenReset=!1;var l="",u=!1,c=e,d=t,f=r,h=null,p="",v=!0,m="auto",g="start",y=50,b="middle",E=50,S="middle";Object.defineProperty(a,"id",o({},s,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(a,"pauseOnExit",o({},s,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(a,"startTime",o({},s,{get:function(){return c},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",o({},s,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",o({},s,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",o({},s,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",o({},s,{get:function(){return p},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",o({},s,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",o({},s,{get:function(){return m},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",o({},s,{get:function(){return g},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",o({},s,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",o({},s,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",o({},s,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",o({},s,{get:function(){return S},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),a.displayState=void 0}return a.prototype.getCueAsHTML=function(){var e=self.WebVTT;return e.convertCueToDOMTree(self,this.text)},a}()},"./src/utils/vttparser.ts":
/*!********************************!*\
  !*** ./src/utils/vttparser.ts ***!
  \********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{VTTParser:()=>f,fixLineBreaks:()=>d,parseTimeStamp:()=>o});var n=r(/*! ./vttcue */"./src/utils/vttcue.ts"),i=function(){function e(){}var t=e.prototype;return t.decode=function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function o(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+parseFloat(n||0)}var r=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?t(r[2],r[3],0,r[4]):t(r[1],r[2],r[3],r[4]):null}var a=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1},e}();function s(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(r);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}var l=new n["default"](0,0,""),u="middle"===l.align?"middle":"center";function c(e,t,r){var n=e;function i(){var t=o(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(e,t){var n=new a;s(e,(function(e,t){var i;switch(e){case"region":for(var o=r.length-1;o>=0;o--)if(r[o].id===t){n.set(e,r[o].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),n.integer(e,i[0]),n.percent(e,i[0])&&n.set("snapToLines",!1),n.alt(e,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",u,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",u,"end","left","right"]);break}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",u);var o=n.get("position","auto");"auto"===o&&50===l.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}function d(){e=e.replace(/^\s+/,"")}if(d(),t.startTime=i(),d(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),d(),t.endTime=i(),d(),c(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var f=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function r(){var e=t.buffer,r=0;e=d(e);while(r<e.length&&"\r"!==e[r]&&"\n"!==e[r])++r;var n=e.slice(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.slice(r),n}function i(e){s(e,(function(e,t){}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var o="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;o=r();var a=o.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}var l=!1;while(t.buffer){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:o=r(),t.state){case"HEADER":/:/.test(o)?i(o):o||(t.state="ID");continue;case"NOTE":o||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){t.state="NOTE";break}if(!o)continue;if(t.cue=new n["default"](0,0,""),t.state="CUE",-1===o.indexOf("--\x3e")){t.cue.id=o;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(o,t.cue,t.regionList)}catch(f){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==o.indexOf("--\x3e");if(!o||u&&(l=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=o;continue;case"BADCUE":o||(t.state="ID")}}}catch(f){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.ts ***!
  \************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{generateCueId:()=>f,parseWebVTT:()=>p});var n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=r(/*! ./vttparser */"./src/utils/vttparser.ts"),o=r(/*! ../demux/id3 */"./src/demux/id3.ts"),a=r(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),s=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,u=function(e,t,r){return void 0===r&&(r=0),e.slice(r,r+t.length)===t},c=function(e){var t=parseInt(e.slice(-3)),r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(0,n.isFiniteNumber)(t)||!(0,n.isFiniteNumber)(r)||!(0,n.isFiniteNumber)(i)||!(0,n.isFiniteNumber)(o))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*r,t+=6e4*i,t+=36e5*o,t},d=function(e){var t=5381,r=e.length;while(r)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()};function f(e,t,r){return d(e.toString())+d(t.toString())+d(r)}var h=function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);while(null!==(o=i)&&void 0!==o&&o.new){var o;e.ccOffset+=n.start-i.start,n.new=!1,n=i,i=e[n.prevCC]}e.presentationOffset=r};function p(e,t,r,n,d,p,v,m){var g,y=new i.VTTParser,b=(0,o.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),E=[],S=(0,a.toMpegTsClockFromTimescale)(t,r),w="00:00.000",T=0,_=0,k=!0;y.oncue=function(e){var t=n[d],r=n.ccOffset,i=(T-S)/9e4;null!==t&&void 0!==t&&t.new&&(void 0!==_?r=n.ccOffset=t.start:h(n,d,i)),i&&(r=i-n.presentationOffset);var o=e.endTime-e.startTime,a=(0,s.normalizePts)(9e4*(e.startTime+r-_),9e4*p)/9e4;e.startTime=Math.max(a,0),e.endTime=Math.max(a+o,0);var l=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(l)),e.id||(e.id=f(e.startTime,e.endTime,l)),e.endTime>0&&E.push(e)},y.onparsingerror=function(e){g=e},y.onflush=function(){g?m(g):v(E)},b.forEach((function(e){if(k){if(u(e,"X-TIMESTAMP-MAP=")){k=!1,e.slice(16).split(",").forEach((function(e){u(e,"LOCAL:")?w=e.slice(6):u(e,"MPEGTS:")&&(T=parseInt(e.slice(7)))}));try{_=c(w)/1e3}catch(t){g=t}return}""===e&&(k=!1)}y.parse(e+"\n")})),y.flush()}},"./src/utils/xhr-loader.ts":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.ts ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../utils/logger */"./src/utils/logger.ts"),i=r(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,a=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(r,t.url)}catch(s){r.open("GET",t.url,!0),i(r,t.url)}r.readyState||r.open("GET",t.url,!0);var o=this.context.headers;if(o)for(var a in o)r.setRequestHeader(a,o[a])}catch(s){return void this.callbacks.onError({code:r.status,text:s.message},t,r)}t.rangeEnd&&r.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),r.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,r=this.stats;if(e&&t){var i=t.readyState,o=this.config;if(!r.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var a=t.status,s="arraybuffer"===t.responseType;if(a>=200&&a<300&&(s&&t.response||null!==t.responseText)){var l,u;if(r.loading.end=Math.max(self.performance.now(),r.loading.first),s?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),r.loaded=r.total=u,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(r,e,l,t),!this.callbacks)return;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,r,e,t)}else r.retry>=o.maxRetry||a>=400&&a<499?(n.logger.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t)):(n.logger.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},t.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();const s=a},"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/function(e){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),t=t.trim(),!t){if(!r.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(d)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(i,"");while(e.length!==(e=e.replace(o,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a})()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})();var n=r("./src/hls.ts");return n=n["default"],n})()))},7345:function(e,t){var r,n;
/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(t,r){"use strict";"object"===typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)})("undefined"!==typeof window?window:this,(function(i,o){"use strict";var a=[],s=Object.getPrototypeOf,l=a.slice,u=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},c=a.push,d=a.indexOf,f={},h=f.toString,p=f.hasOwnProperty,v=p.toString,m=v.call(Object),g={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},b=function(e){return null!=e&&e===e.window},E=i.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,r){r=r||E;var n,i,o=r.createElement("script");if(o.text=e,t)for(n in S)i=t[n]||t.getAttribute&&t.getAttribute(n),i&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?f[h.call(e)]||"object":typeof e}var _="3.6.4",k=function(e,t){return new k.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,r=T(e);return!y(e)&&!b(e)&&("array"===r||0===t||"number"===typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:_,constructor:k,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"===typeof a&&(u=a,a=arguments[s]||{},s++),"object"===typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(u&&n&&(k.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],o=i&&!Array.isArray(r)?[]:i||k.isPlainObject(r)?r:{},i=!1,a[t]=k.extend(u,o,n)):void 0!==n&&(a[t]=n));return a},k.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==h.call(e))&&(t=s(e),!t||(r=p.call(t,"constructor")&&t.constructor,"function"===typeof r&&v.call(r)===m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){w(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(x(e)){for(r=e.length;n<r;n++)if(!1===t.call(e[n],n,e[n]))break}else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(x(Object(e))?k.merge(r,"string"===typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:d.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n,i=[],o=0,a=e.length,s=!r;o<a;o++)n=!t(e[o],o),n!==s&&i.push(e[o]);return i},map:function(e,t,r){var n,i,o=0,a=[];if(x(e))for(n=e.length;o<n;o++)i=t(e[o],o,r),null!=i&&a.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&a.push(i);return u(a)},guid:1,support:g}),"function"===typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var C=
/*!
 * Sizzle CSS Selector Engine v2.3.10
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2023-02-14
 */
function(e){var t,r,n,i,o,a,s,l,u,c,d,f,h,p,v,m,g,y,b,E="sizzle"+1*new Date,S=e.document,w=0,T=0,_=le(),k=le(),x=le(),C=le(),A=function(e,t){return e===t&&(d=!0),0},L={}.hasOwnProperty,D=[],R=D.pop,P=D.push,O=D.push,I=D.slice,F=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",$="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+M+"*("+$+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+M+"*\\]",U=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),q=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),H=new RegExp("^"+M+"*,"+M+"*"),V=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),K=new RegExp(M+"|>"),G=new RegExp(U),z=new RegExp("^"+$+"$"),W={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=Ee((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(D=I.call(S.childNodes),S.childNodes),D[S.childNodes.length].nodeType}catch(Ce){O={apply:D.length?function(e,t){P.apply(e,I.call(t))}:function(e,t){var r=e.length,n=0;while(e[r++]=t[n++]);e.length=r-1}}}function se(e,t,n,i){var o,s,u,c,d,p,g,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==S&&9!==S&&11!==S)return n;if(!i&&(f(t),t=t||h,v)){if(11!==S&&(d=Q.exec(e)))if(o=d[1]){if(9===S){if(!(u=t.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return n.push(u),n}else{if(d[2])return O.apply(n,t.getElementsByTagName(e)),n;if((o=d[3])&&r.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(o)),n}if(r.qsa&&!C[e+" "]&&(!m||!m.test(e))&&(1!==S||"object"!==t.nodeName.toLowerCase())){if(g=e,y=t,1===S&&(K.test(e)||V.test(e))){y=ee.test(e)&&ge(t.parentNode)||t,y===t&&r.scope||((c=t.getAttribute("id"))?c=c.replace(ne,ie):t.setAttribute("id",c=E)),p=a(e),s=p.length;while(s--)p[s]=(c?"#"+c:":scope")+" "+be(p[s]);g=p.join(",")}try{return O.apply(n,y.querySelectorAll(g)),n}catch(w){C(e,!0)}finally{c===E&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,n,i)}function le(){var e=[];function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}return t}function ue(e){return e[E]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){var r=e.split("|"),i=r.length;while(i--)n.attrHandle[r[i]]=t}function fe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)while(r=r.nextSibling)if(r===t)return-1;return e?1:-1}function he(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function pe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(r,n){var i,o=e([],r.length,t),a=o.length;while(a--)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))}))}))}function ge(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in r=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||r&&r.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:S;return a!=h&&9===a.nodeType&&a.documentElement?(h=a,p=h.documentElement,v=!o(h),S!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),r.scope=ce((function(e){return p.appendChild(e).appendChild(h.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.cssHas=ce((function(){try{return h.querySelector(":has(*,:jqfake)"),!1}catch(Ce){return!0}})),r.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ce((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=J.test(h.getElementsByClassName),r.getById=ce((function(e){return p.appendChild(e).id=E,!h.getElementsByName||!h.getElementsByName(E).length})),r.getById?(n.filter["ID"]=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&v){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter["ID"]=function(e){var t=e.replace(te,re);return function(e){var r="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&v){var r,n,i,o=t.getElementById(e);if(o){if(r=o.getAttributeNode("id"),r&&r.value===e)return[o];i=t.getElementsByName(e),n=0;while(o=i[n++])if(r=o.getAttributeNode("id"),r&&r.value===e)return[o]}return[]}}),n.find["TAG"]=r.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(r=o[i++])1===r.nodeType&&n.push(r);return n}return o},n.find["CLASS"]=r.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(r.qsa=J.test(h.querySelectorAll))&&(ce((function(e){var t;p.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+M+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),t=h.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){r.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",U)})),r.cssHas||m.push(":has"),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var r=9===e.nodeType&&e.documentElement||e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==h||e.ownerDocument==S&&b(S,e)?-1:t==h||t.ownerDocument==S&&b(S,t)?1:c?F(c,e)-F(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==h?-1:t==h?1:i?-1:o?1:c?F(c,e)-F(c,t):0;if(i===o)return fe(e,t);r=e;while(r=r.parentNode)a.unshift(r);r=t;while(r=r.parentNode)s.unshift(r);while(a[n]===s[n])n++;return n?fe(a[n],s[n]):a[n]==S?-1:s[n]==S?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),r.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ce){C(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var i=n.attrHandle[t.toLowerCase()],o=i&&L.call(n.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:r.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,o=0;if(d=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),d){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return c=null,e},i=se.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[n++])r+=i(t);return r},n=se.selectors={cacheLength:50,createPseudo:ue,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return W["CHILD"].test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&G.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&_(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(B," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var u,c,d,f,h,p,v=o!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){while(v){f=t;while(f=f[v])if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){f=m,d=f[E]||(f[E]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],h=u[0]===w&&u[1],b=h&&u[2],f=h&&m.childNodes[h];while(f=++h&&f&&f[v]||(b=h=0)||p.pop())if(1===f.nodeType&&++b&&f===t){c[e]=[w,h,b];break}}else if(y&&(f=t,d=f[E]||(f[E]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],h=u[0]===w&&u[1],b=h),!1===b)while(f=++h&&f&&f[v]||(b=h=0)||p.pop())if((s?f.nodeName.toLowerCase()===g:1===f.nodeType)&&++b&&(y&&(d=f[E]||(f[E]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[w,b]),f===t))break;return b-=i,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[E]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,r){var n,o=i(e,t),a=o.length;while(a--)n=F(e,o[a]),e[n]=!(r[n]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:ue((function(e){var t=[],r=[],n=s(e.replace(q,"$1"));return n[E]?ue((function(e,t,r,i){var o,a=n(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,re),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return z.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos["empty"](e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,r){return[r<0?r+t:r]})),even:me((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:me((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:me((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:me((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}},n.pseudos["nth"]=n.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function Ee(e,t,r){var n=t.dir,i=t.next,o=i||n,a=r&&"parentNode"===o,s=T++;return t.first?function(t,r,i){while(t=t[n])if(1===t.nodeType||a)return e(t,r,i);return!1}:function(t,r,l){var u,c,d,f=[w,s];if(l){while(t=t[n])if((1===t.nodeType||a)&&e(t,r,l))return!0}else while(t=t[n])if(1===t.nodeType||a)if(d=t[E]||(t[E]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[o])&&u[0]===w&&u[1]===s)return f[2]=u[2];if(c[o]=f,f[2]=e(t,r,l))return!0}return!1}}function Se(e){return e.length>1?function(t,r,n){var i=e.length;while(i--)if(!e[i](t,r,n))return!1;return!0}:e[0]}function we(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}function Te(e,t,r,n,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),u&&t.push(s)));return a}function _e(e,t,r,n,i,o){return n&&!n[E]&&(n=_e(n)),i&&!i[E]&&(i=_e(i,o)),ue((function(o,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=o||we(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?v:Te(v,f,e,s,l),g=r?i||(o?e:p||n)?[]:a:m;if(r&&r(m,g,s,l),n){u=Te(g,h),n(u,[],s,l),c=u.length;while(c--)(d=u[c])&&(g[h[c]]=!(m[h[c]]=d))}if(o){if(i||e){if(i){u=[],c=g.length;while(c--)(d=g[c])&&u.push(m[c]=d);i(null,g=[],u,l)}c=g.length;while(c--)(d=g[c])&&(u=i?F(o,d):f[c])>-1&&(o[u]=!(a[u]=d))}}else g=Te(g===a?g.splice(p,g.length):g),i?i(null,a,g,l):O.apply(a,g)}))}function ke(e){for(var t,r,i,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,c=Ee((function(e){return e===t}),s,!0),d=Ee((function(e){return F(t,e)>-1}),s,!0),f=[function(e,r,n){var i=!a&&(n||r!==u)||((t=r).nodeType?c(e,r,n):d(e,r,n));return t=null,i}];l<o;l++)if(r=n.relative[e[l].type])f=[Ee(Se(f),r)];else{if(r=n.filter[e[l].type].apply(null,e[l].matches),r[E]){for(i=++l;i<o;i++)if(n.relative[e[i].type])break;return _e(l>1&&Se(f),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),r,l<i&&ke(e.slice(l,i)),i<o&&ke(e=e.slice(i)),i<o&&be(e))}f.push(r)}return Se(f)}function xe(e,t){var r=t.length>0,i=e.length>0,o=function(o,a,s,l,c){var d,p,m,g=0,y="0",b=o&&[],E=[],S=u,T=o||i&&n.find["TAG"]("*",c),_=w+=null==S?1:Math.random()||.1,k=T.length;for(c&&(u=a==h||a||c);y!==k&&null!=(d=T[y]);y++){if(i&&d){p=0,a||d.ownerDocument==h||(f(d),s=!v);while(m=e[p++])if(m(d,a||h,s)){l.push(d);break}c&&(w=_)}r&&((d=!m&&d)&&g--,o&&b.push(d))}if(g+=y,r&&y!==g){p=0;while(m=t[p++])m(b,E,a,s);if(o){if(g>0)while(y--)b[y]||E[y]||(E[y]=R.call(l));E=Te(E)}O.apply(l,E),c&&!o&&E.length>0&&g+t.length>1&&se.uniqueSort(l)}return c&&(w=_,u=S),b};return r?ue(o):o}return ye.prototype=n.filters=n.pseudos,n.setFilters=new ye,a=se.tokenize=function(e,t){var r,i,o,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=n.preFilter;while(s){for(a in r&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=V.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(q," ")}),s=s.slice(r.length)),n.filter)!(i=W[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):k(e,l).slice(0)},s=se.compile=function(e,t){var r,n=[],i=[],o=x[e+" "];if(!o){t||(t=a(e)),r=t.length;while(r--)o=ke(t[r]),o[E]?n.push(o):i.push(o);o=x(e,xe(i,n)),o.selector=e}return o},l=se.select=function(e,t,r,i){var o,l,u,c,d,f="function"===typeof e&&e,h=!i&&a(e=f.selector||e);if(r=r||[],1===h.length){if(l=h[0]=h[0].slice(0),l.length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&v&&n.relative[l[1].type]){if(t=(n.find["ID"](u.matches[0].replace(te,re),t)||[])[0],!t)return r;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}o=W["needsContext"].test(e)?0:l.length;while(o--){if(u=l[o],n.relative[c=u.type])break;if((d=n.find[c])&&(i=d(u.matches[0].replace(te,re),ee.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),e=i.length&&be(l),!e)return O.apply(r,i),r;break}}}return(f||s(e,h))(i,t,!v,r,!t||ee.test(e)&&ge(t.parentNode)||t),r},r.sortStable=E.split("").sort(A).join("")===E,r.detectDuplicates=!!d,f(),r.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||de(N,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(i);k.find=C,k.expr=C.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=C.uniqueSort,k.text=C.getText,k.isXMLDoc=C.isXML,k.contains=C.contains,k.escapeSelector=C.escape;var A=function(e,t,r){var n=[],i=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(r))break;n.push(e)}return n},L=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},D=k.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,r){return y(t)?k.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?k.grep(e,(function(e){return e===t!==r})):"string"!==typeof t?k.grep(e,(function(e){return d.call(t,e)>-1!==r})):k.filter(t,e,r)}k.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?k.find.matchesSelector(n,e)?[n]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!==typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<n;t++)if(k.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)k.find(e,i[t],r);return n>1?k.uniqueSort(r):r},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"===typeof e&&D.test(e)?k(e):e||[],!1).length}});var I,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,N=k.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||I,"string"===typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:F.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),P.test(n[1])&&k.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=E.getElementById(n[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(k):k.makeArray(e,this)};N.prototype=k.fn,I=k(E);var M=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,o=[],a="string"!==typeof e&&k(e);if(!D.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&k.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?d.call(k(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,r){return A(e,"parentNode",r)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,r){return A(e,"nextSibling",r)},prevUntil:function(e,t,r){return A(e,"previousSibling",r)},siblings:function(e){return L((e.parentNode||{}).firstChild,e)},children:function(e){return L(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(R(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(r,n){var i=k.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"===typeof n&&(i=k.filter(n,i)),this.length>1&&($[e]||k.uniqueSort(i),M.test(e)&&i.reverse()),this.pushStack(i)}}));var U=/[^\x20\t\r\n\f]+/g;function B(e){var t={};return k.each(e.match(U)||[],(function(e,r){t[r]=!0})),t}function q(e){return e}function H(e){throw e}function V(e,t,r,n){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(r):e&&y(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}k.Callbacks=function(e){e="string"===typeof e?B(e):k.extend({},e);var t,r,n,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,n=t=!0;a.length;s=-1){r=a.shift();while(++s<o.length)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1)}e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},u={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){k.each(r,(function(r,n){y(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==T(n)&&t(n)}))}(arguments),r&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){var r;while((r=k.inArray(t,o,r))>-1)o.splice(r,1),r<=s&&s--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||t||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(r){k.each(t,(function(t,n){var i=y(e[n[4]])&&e[n[4]];o[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,n){var o=0;function a(e,t,r,n){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(e<o)){if(i=r.apply(s,l),i===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"===typeof i||"function"===typeof i)&&i.then,y(u)?n?u.call(i,a(o,t,q,n),a(o,t,H,n)):(o++,u.call(i,a(o,t,q,n),a(o,t,H,n),a(o,t,q,t.notifyWith))):(r!==q&&(s=void 0,l=[i]),(n||t.resolveWith)(s,l))}},c=n?u:function(){try{u()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(r!==H&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),i.setTimeout(c))}}return k.Deferred((function(i){t[0][3].add(a(0,i,y(n)?n:q,i.notifyWith)),t[1][3].add(a(0,i,y(e)?e:q)),t[2][3].add(a(0,i,y(r)?r:H))})).promise()},promise:function(e){return null!=e?k.extend(e,n):n}},o={};return k.each(t,(function(e,i){var a=i[2],s=i[5];n[i[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=l.call(arguments),o=k.Deferred(),a=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?l.call(arguments):r,--t||o.resolveWith(n,i)}};if(t<=1&&(V(e,o.done(a(r)).resolve,o.reject,!t),"pending"===o.state()||y(i[r]&&i[r].then)))return o.then();while(r--)V(i[r],a(r),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&K.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){i.setTimeout((function(){throw e}))};var G=k.Deferred();function z(){E.removeEventListener("DOMContentLoaded",z),i.removeEventListener("load",z),k.ready()}k.fn.ready=function(e){return G.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||G.resolveWith(E,[k]))}}),k.ready.then=G.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?i.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",z),i.addEventListener("load",z));var W=function(e,t,r,n,i,o,a){var s=0,l=e.length,u=null==r;if("object"===T(r))for(s in i=!0,r)W(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,y(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(k(e),r)})),t))for(;s<l;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:u?t.call(e):l?t(e[0],r):o},Y=/^-ms-/,Z=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function J(e){return e.replace(Y,"ms-").replace(Z,X)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ee(){this.expando=k.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"===typeof t)i[J(t)]=r;else for(n in t)i[J(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][J(t)]},access:function(e,t,r){return void 0===t||t&&"string"===typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(J):(t=J(t),t=t in n?[t]:t.match(U)||[]),r=t.length;while(r--)delete n[t[r]]}(void 0===t||k.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var te=new ee,re=new ee,ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ie=/[A-Z]/g;function oe(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ne.test(e)?JSON.parse(e):e)}function ae(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(ie,"-$&").toLowerCase(),r=e.getAttribute(n),"string"===typeof r){try{r=oe(r)}catch(i){}re.set(e,t,r)}else r=void 0;return r}k.extend({hasData:function(e){return re.hasData(e)||te.hasData(e)},data:function(e,t,r){return re.access(e,t,r)},removeData:function(e,t){re.remove(e,t)},_data:function(e,t,r){return te.access(e,t,r)},_removeData:function(e,t){te.remove(e,t)}}),k.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=re.get(o),1===o.nodeType&&!te.get(o,"hasDataAttrs"))){r=a.length;while(r--)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=J(n.slice(5)),ae(o,n,i[n])));te.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){re.set(this,e)})):W(this,(function(t){var r;if(o&&void 0===t)return r=re.get(o,e),void 0!==r?r:(r=ae(o,e),void 0!==r?r:void 0);this.each((function(){re.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){re.remove(this,e)}))}}),k.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=te.get(e,t),r&&(!n||Array.isArray(r)?n=te.access(e,t,k.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=k.queue(e,t),n=r.length,i=r.shift(),o=k._queueHooks(e,t),a=function(){k.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return te.get(e,r)||te.access(e,r,{empty:k.Callbacks("once memory").add((function(){te.remove(e,[t+"queue",r])}))})}}),k.fn.extend({queue:function(e,t){var r=2;return"string"!==typeof e&&(t=e,e="fx",r--),arguments.length<r?k.queue(this[0],e):void 0===t?this:this.each((function(){var r=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=k.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};"string"!==typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)r=te.get(o[a],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,le=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),ue=["Top","Right","Bottom","Left"],ce=E.documentElement,de=function(e){return k.contains(e.ownerDocument,e)},fe={composed:!0};ce.getRootNode&&(de=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(fe)===e.ownerDocument});var he=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&de(e)&&"none"===k.css(e,"display")};function pe(e,t,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return k.css(e,t,"")},l=s(),u=r&&r[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==u&&+l)&&le.exec(k.css(e,t));if(c&&c[3]!==u){l/=2,u=u||c[3],c=+l||1;while(a--)k.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+u),r=r||[]}return r&&(c=+c||+l||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=c,n.end=i)),i}var ve={};function me(e){var t,r=e.ownerDocument,n=e.nodeName,i=ve[n];return i||(t=r.body.appendChild(r.createElement(n)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ve[n]=i,i)}function ge(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;o++)n=e[o],n.style&&(r=n.style.display,t?("none"===r&&(i[o]=te.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&he(n)&&(i[o]=me(n))):"none"!==r&&(i[o]="none",te.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return ge(this,!0)},hide:function(){return ge(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){he(this)?k(this).show():k(this).hide()}))}});var ye=/^(?:checkbox|radio)$/i,be=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=E.createDocumentFragment(),t=e.appendChild(E.createElement("div")),r=E.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",g.option=!!t.lastChild})();var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var r;return r="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?k.merge([e],r):r}function Te(e,t){for(var r=0,n=e.length;r<n;r++)te.set(e[r],"globalEval",!t||te.get(t[r],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,g.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function ke(e,t,r,n,i){for(var o,a,s,l,u,c,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if(o=e[h],o||0===o)if("object"===T(o))k.merge(f,o.nodeType?[o]:o);else if(_e.test(o)){a=a||d.appendChild(t.createElement("div")),s=(be.exec(o)||["",""])[1].toLowerCase(),l=Se[s]||Se._default,a.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],c=l[0];while(c--)a=a.lastChild;k.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(t.createTextNode(o));d.textContent="",h=0;while(o=f[h++])if(n&&k.inArray(o,n)>-1)i&&i.push(o);else if(u=de(o),a=we(d.appendChild(o),"script"),u&&Te(a),r){c=0;while(o=a[c++])Ee.test(o.type||"")&&r.push(o)}return d}var xe=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ae(){return!1}function Le(e,t){return e===De()===("focus"===t)}function De(){try{return E.activeElement}catch(e){}}function Re(e,t,r,n,i,o){var a,s;if("object"===typeof t){for(s in"string"!==typeof r&&(n=n||r,r=void 0),t)Re(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"===typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Ae;else if(!i)return e;return 1===o&&(a=i,i=function(e){return k().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,n,r)}))}function Pe(e,t,r){r?(te.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,i,o=te.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),te.set(this,t,o),n=r(this,t),this[t](),i=te.get(this,t),o!==i||n?te.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(te.set(this,t,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===te.get(e,t)&&k.event.add(e,t,Ce)}k.event={global:{},add:function(e,t,r,n,i){var o,a,s,l,u,c,d,f,h,p,v,m=te.get(e);if(Q(e)){r.handler&&(o=r,r=o.handler,i=o.selector),i&&k.find.matchesSelector(ce,i),r.guid||(r.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return"undefined"!==typeof k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(U)||[""],u=t.length;while(u--)s=xe.exec(t[u])||[],h=v=s[1],p=(s[2]||"").split(".").sort(),h&&(d=k.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=k.event.special[h]||{},c=k.extend({type:h,origType:v,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,n,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),k.event.global[h]=!0)}},remove:function(e,t,r,n,i){var o,a,s,l,u,c,d,f,h,p,v,m=te.hasData(e)&&te.get(e);if(m&&(l=m.events)){t=(t||"").match(U)||[""],u=t.length;while(u--)if(s=xe.exec(t[u])||[],h=v=s[1],p=(s[2]||"").split(".").sort(),h){d=k.event.special[h]||{},h=(n?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;while(o--)c=f[o],!i&&v!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||k.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)k.event.remove(e,h+t[u],r,n,!0);k.isEmptyObject(l)&&te.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,a,s=new Array(arguments.length),l=k.event.fix(e),u=(te.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){a=k.event.handlers.call(this,l,u),t=0;while((i=a[t++])&&!l.isPropagationStopped()){l.currentTarget=i.elem,r=0;while((o=i.handlers[r++])&&!l.isImmediatePropagationStopped())l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,n=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==n&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,i,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},r=0;r<l;r++)n=t[r],i=n.selector+" ",void 0===a[i]&&(a[i]=n.needsContext?k(i,this).index(u)>-1:k.find(i,this,null,[u]).length),a[i]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ye.test(t.type)&&t.click&&R(t,"input")&&Pe(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ye.test(t.type)&&t.click&&R(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return ye.test(t.type)&&t.click&&R(t,"input")&&te.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Pe(this,e,Le),!1},trigger:function(){return Pe(this,e),!0},_default:function(t){return te.get(t.target,e)},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===n||k.contains(n,i))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}})),k.fn.extend({on:function(e,t,r,n){return Re(this,e,t,r,n)},one:function(e,t,r,n){return Re(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,k(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(r=t,t=void 0),!1===r&&(r=Ae),this.each((function(){k.event.remove(this,e,r,t)}))}});var Oe=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function $e(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var r,n,i,o,a,s,l;if(1===t.nodeType){if(te.hasData(e)&&(o=te.get(e),l=o.events,l))for(i in te.remove(t,"handle events"),l)for(r=0,n=l[i].length;r<n;r++)k.event.add(t,i,l[i][r]);re.hasData(e)&&(a=re.access(e),s=k.extend({},a),re.set(t,s))}}function Ue(e,t){var r=t.nodeName.toLowerCase();"input"===r&&ye.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Be(e,t,r,n){t=u(t);var i,o,a,s,l,c,d=0,f=e.length,h=f-1,p=t[0],v=y(p);if(v||f>1&&"string"===typeof p&&!g.checkClone&&Ie.test(p))return e.each((function(i){var o=e.eq(i);v&&(t[0]=p.call(this,i,o.html())),Be(o,t,r,n)}));if(f&&(i=ke(t,e[0].ownerDocument,!1,e,n),o=i.firstChild,1===i.childNodes.length&&(i=o),o||n)){for(a=k.map(we(i,"script"),Me),s=a.length;d<f;d++)l=i,d!==h&&(l=k.clone(l,!0,!0),s&&k.merge(a,we(l,"script"))),r.call(e[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,$e),d=0;d<s;d++)l=a[d],Ee.test(l.type||"")&&!te.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Fe,""),l,c))}return e}function qe(e,t,r){for(var n,i=t?k.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||k.cleanData(we(n)),n.parentNode&&(r&&de(n)&&Te(we(n,"script")),n.parentNode.removeChild(n));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),l=de(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!k.isXMLDoc(e))for(a=we(s),o=we(e),n=0,i=o.length;n<i;n++)Ue(o[n],a[n]);if(t)if(r)for(o=o||we(e),a=a||we(s),n=0,i=o.length;n<i;n++)je(o[n],a[n]);else je(e,s);return a=we(s,"script"),a.length>0&&Te(a,!l&&we(e,"script")),s},cleanData:function(e){for(var t,r,n,i=k.event.special,o=0;void 0!==(r=e[o]);o++)if(Q(r)){if(t=r[te.expando]){if(t.events)for(n in t.events)i[n]?k.event.remove(r,n):k.removeEvent(r,n,t.handle);r[te.expando]=void 0}r[re.expando]&&(r[re.expando]=void 0)}}}),k.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return W(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.appendChild(e)}}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Oe.test(e)&&!Se[(be.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;r<n;r++)t=this[r]||{},1===t.nodeType&&(k.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var r=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(we(this)),r&&r.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var r,n=[],i=k(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),k(i[a])[t](r),c.apply(n,r.get());return this.pushStack(n)}}));var He=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),Ve=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ge=function(e,t,r){var n,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=o[i];return n},ze=new RegExp(ue.join("|"),"i"),We="[\\x20\\t\\r\\n\\f]",Ye=new RegExp("^"+We+"+|((?:^|[^\\\\])(?:\\\\.)*)"+We+"+$","g");function Ze(e,t,r){var n,i,o,a,s=Ve.test(t),l=e.style;return r=r||Ke(e),r&&(a=r.getPropertyValue(t)||r[t],s&&a&&(a=a.replace(Ye,"$1")||void 0),""!==a||de(e)||(a=k.style(e,t)),!g.pixelBoxStyles()&&He.test(a)&&ze.test(t)&&(n=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=r.width,l.width=n,l.minWidth=i,l.maxWidth=o)),void 0!==a?a+"":a}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ce.appendChild(u).appendChild(c);var e=i.getComputedStyle(c);r="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),n=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ce.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var r,n,o,a,s,l,u=E.createElement("div"),c=E.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,r,n;return null==s&&(e=E.createElement("table"),t=E.createElement("tr"),r=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",ce.appendChild(e).appendChild(t).appendChild(r),n=i.getComputedStyle(t),s=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,ce.removeChild(e)),s}}))})();var Je=["Webkit","Moz","ms"],Qe=E.createElement("div").style,et={};function tt(e){var t=e[0].toUpperCase()+e.slice(1),r=Je.length;while(r--)if(e=Je[r]+t,e in Qe)return e}function rt(e){var t=k.cssProps[e]||et[e];return t||(e in Qe?e:et[e]=tt(e)||e)}var nt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function at(e,t,r){var n=le.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function st(e,t,r,n,i,o){var a="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(l+=k.css(e,r+ue[a],!0,i)),n?("content"===r&&(l-=k.css(e,"padding"+ue[a],!0,i)),"margin"!==r&&(l-=k.css(e,"border"+ue[a]+"Width",!0,i))):(l+=k.css(e,"padding"+ue[a],!0,i),"padding"!==r?l+=k.css(e,"border"+ue[a]+"Width",!0,i):s+=k.css(e,"border"+ue[a]+"Width",!0,i));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function lt(e,t,r){var n=Ke(e),i=!g.boxSizingReliable()||r,o=i&&"border-box"===k.css(e,"boxSizing",!1,n),a=o,s=Ze(e,t,n),l="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(s)){if(!r)return s;s="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&R(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,n),a=l in e,a&&(s=e[l])),s=parseFloat(s)||0,s+st(e,t,r||(o?"border":"content"),a,n,s)+"px"}function ut(e,t,r,n,i){return new ut.prototype.init(e,t,r,n,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ze(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=J(t),l=Ve.test(t),u=e.style;if(l||(t=rt(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:u[t];o=typeof r,"string"===o&&(i=le.exec(r))&&i[1]&&(r=pe(e,t,i),o="number"),null!=r&&r===r&&("number"!==o||l||(r+=i&&i[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(l?u.setProperty(t,r):u[t]=r))}},css:function(e,t,r,n){var i,o,a,s=J(t),l=Ve.test(t);return l||(t=rt(s)),a=k.cssHooks[t]||k.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=Ze(e,t,n)),"normal"===i&&t in ot&&(i=ot[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,r,n){if(r)return!nt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,n):Ge(e,it,(function(){return lt(e,t,n)}))},set:function(e,r,n){var i,o=Ke(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=a||n,l=s&&"border-box"===k.css(e,"boxSizing",!1,o),u=n?st(e,t,n,l,o):0;return l&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-st(e,t,"border",!1,o)-.5)),u&&(i=le.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=k.css(e,t)),at(e,r,u)}}})),k.cssHooks.marginLeft=Xe(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"===typeof r?r.split(" "):[r];n<4;n++)i[e+ue[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=at)})),k.fn.extend({css:function(e,t){return W(this,(function(e,t,r){var n,i,o={},a=0;if(Array.isArray(t)){for(n=Ke(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,n);return o}return void 0!==r?k.style(e,t,r):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ut,ut.prototype={constructor:ut,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(k.cssNumber[r]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,r=ut.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ut.propHooks._default.set(this),this}},ut.prototype.init.prototype=ut.prototype,ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ut.propHooks.scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ut.prototype.init,k.fx.step={};var ct,dt,ft=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function pt(){dt&&(!1===E.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(pt):i.setTimeout(pt,k.fx.interval),k.fx.tick())}function vt(){return i.setTimeout((function(){ct=void 0})),ct=Date.now()}function mt(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)r=ue[n],i["margin"+r]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function gt(e,t,r){for(var n,i=(Et.tweeners[t]||[]).concat(Et.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function yt(e,t,r){var n,i,o,a,s,l,u,c,d="width"in t||"height"in t,f=this,h={},p=e.style,v=e.nodeType&&he(e),m=te.get(e,"fxshow");for(n in r.queue||(a=k._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[n],ft.test(i)){if(delete t[n],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;v=!0}h[n]=m&&m[n]||k.style(e,n)}if(l=!k.isEmptyObject(t),l||!k.isEmptyObject(h))for(n in d&&1===e.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],u=m&&m.display,null==u&&(u=te.get(e,"display")),c=k.css(e,"display"),"none"===c&&(u?c=u:(ge([e],!0),u=e.style.display||u,c=k.css(e,"display"),ge([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(e,"float")&&(l||(f.done((function(){p.display=u})),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}))),l=!1,h)l||(m?"hidden"in m&&(v=m.hidden):m=te.access(e,"fxshow",{display:u}),o&&(m.hidden=!v),v&&ge([e],!0),f.done((function(){for(n in v||ge([e]),te.remove(e,"fxshow"),h)k.style(e,n,h[n])}))),l=gt(v?m[n]:0,n,f),n in m||(m[n]=l.start,v&&(l.end=l.start,l.start=0))}function bt(e,t){var r,n,i,o,a;for(r in e)if(n=J(r),i=t[n],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),a=k.cssHooks[n],a&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}function Et(e,t,r){var n,i,o=0,a=Et.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ct||vt(),r=Math.max(0,u.startTime+u.duration-t),n=r/u.duration||0,o=1-n,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,r]),o<1&&l?r:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},r),originalProperties:t,originalOptions:r,startTime:ct||vt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=k.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(bt(c,u.opts.specialEasing);o<a;o++)if(n=Et.prefilters[o].call(u,e,c,u.opts),n)return y(n.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,gt,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(Et,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return pe(r.elem,e,le.exec(t),r),r}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(U);for(var r,n=0,i=e.length;n<i;n++)r=e[n],Et.tweeners[r]=Et.tweeners[r]||[],Et.tweeners[r].unshift(t)},prefilters:[yt],prefilter:function(e,t){t?Et.prefilters.unshift(e):Et.prefilters.push(e)}}),k.speed=function(e,t,r){var n=e&&"object"===typeof e?k.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return k.fx.off?n.duration=0:"number"!==typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(e,t,r,n){return this.filter(he).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=k.isEmptyObject(e),o=k.speed(t,r,n),a=function(){var t=Et(this,k.extend({},e),o);(i||te.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!==typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,a=te.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&ht.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=te.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=k.timers,a=n?n.length:0;for(r.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var r=k.fn[t];k.fn[t]=function(e,n,i){return null==e||"boolean"===typeof e?r.apply(this,arguments):this.animate(mt(t,!0),e,n,i)}})),k.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),k.timers=[],k.fx.tick=function(){var e,t=0,r=k.timers;for(ct=Date.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||k.fx.stop(),ct=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){dt||(dt=!0,pt())},k.fx.stop=function(){dt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var n=i.setTimeout(t,e);r.stop=function(){i.clearTimeout(n)}}))},function(){var e=E.createElement("input"),t=E.createElement("select"),r=t.appendChild(E.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=r.selected,e=E.createElement("input"),e.value="t",e.type="radio",g.radioValue="t"===e.value}();var St,wt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?k.prop(e,t,r):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?St:void 0)),void 0!==r?null===r?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=k.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&R(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(U);if(i&&1===e.nodeType)while(r=i[n++])e.removeAttribute(r)}}),St={set:function(e,t,r){return!1===t?k.removeAttr(e,r):e.setAttribute(r,r),r}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=wt[t]||k.find.attr;wt[t]=function(e,t,n){var i,o,a=t.toLowerCase();return n||(o=wt[a],wt[a]=i,i=null!=r(e,t,n)?a:null,wt[a]=o),i}}));var Tt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function kt(e){var t=e.match(U)||[];return t.join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(U)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,r,n,i,o,a;return y(e)?this.each((function(t){k(this).addClass(e.call(this,t,xt(this)))})):(t=Ct(e),t.length?this.each((function(){if(n=xt(this),r=1===this.nodeType&&" "+kt(n)+" ",r){for(o=0;o<t.length;o++)i=t[o],r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=kt(r),n!==a&&this.setAttribute("class",a)}})):this)},removeClass:function(e){var t,r,n,i,o,a;return y(e)?this.each((function(t){k(this).removeClass(e.call(this,t,xt(this)))})):arguments.length?(t=Ct(e),t.length?this.each((function(){if(n=xt(this),r=1===this.nodeType&&" "+kt(n)+" ",r){for(o=0;o<t.length;o++){i=t[o];while(r.indexOf(" "+i+" ")>-1)r=r.replace(" "+i+" "," ")}a=kt(r),n!==a&&this.setAttribute("class",a)}})):this):this.attr("class","")},toggleClass:function(e,t){var r,n,i,o,a=typeof e,s="string"===a||Array.isArray(e);return y(e)?this.each((function(r){k(this).toggleClass(e.call(this,r,xt(this),t),t)})):"boolean"===typeof t&&s?t?this.addClass(e):this.removeClass(e):(r=Ct(e),this.each((function(){if(s)for(o=k(this),i=0;i<r.length;i++)n=r[i],o.hasClass(n)?o.removeClass(n):o.addClass(n);else void 0!==e&&"boolean"!==a||(n=xt(this),n&&te.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":te.get(this,"__className__")||""))})))},hasClass:function(e){var t,r,n=0;t=" "+e+" ";while(r=this[n++])if(1===r.nodeType&&(" "+kt(xt(r))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;k.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=y(e),this.each((function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,k(this).val()):e,null==i?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"===typeof r?r.replace(At,""):null==r?"":r)):void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,r,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(n=o<0?l:a?o:0;n<l;n++)if(r=i[n],(r.selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!R(r.parentNode,"optgroup"))){if(t=k(r).val(),a)return t;s.push(t)}return s},set:function(e,t){var r,n,i=e.options,o=k.makeArray(t),a=i.length;while(a--)n=i[a],(n.selected=k.inArray(k.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in i;var Lt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,r,n){var o,a,s,l,u,c,d,f,h=[r||E],v=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(a=f=s=r=r||E,3!==r.nodeType&&8!==r.nodeType&&!Lt.test(v+k.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),u=v.indexOf(":")<0&&"on"+v,e=e[k.expando]?e:new k.Event(v,"object"===typeof e&&e),e.isTrigger=n?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[v]||{},n||!d.trigger||!1!==d.trigger.apply(r,t))){if(!n&&!d.noBubble&&!b(r)){for(l=d.delegateType||v,Lt.test(l+v)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||E)&&h.push(s.defaultView||s.parentWindow||i)}o=0;while((a=h[o++])&&!e.isPropagationStopped())f=a,e.type=o>1?l:d.bindType||v,c=(te.get(a,"events")||Object.create(null))[e.type]&&te.get(a,"handle"),c&&c.apply(a,t),c=u&&a[u],c&&c.apply&&Q(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!Q(r)||u&&y(r[v])&&!b(r)&&(s=r[u],s&&(r[u]=null),k.event.triggered=v,e.isPropagationStopped()&&f.addEventListener(v,Dt),r[v](),e.isPropagationStopped()&&f.removeEventListener(v,Dt),k.event.triggered=void 0,s&&(r[u]=s)),e.result}},simulate:function(e,t,r){var n=k.extend(new k.Event,r,{type:e,isSimulated:!0});k.event.trigger(n,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return k.event.trigger(e,t,r,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=te.access(n,t);i||n.addEventListener(e,r,!0),te.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=te.access(n,t)-1;i?te.access(n,t,i):(n.removeEventListener(e,r,!0),te.remove(n,t))}}}));var Rt=i.location,Pt={guid:Date.now()},Ot=/\?/;k.parseXML=function(e){var t,r;if(!e||"string"!==typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(n){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||k.error("Invalid XML: "+(r?k.map(r.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var It=/\[\]$/,Ft=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function $t(e,t,r,n){var i;if(Array.isArray(t))k.each(t,(function(t,i){r||It.test(e)?n(e,i):$t(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==T(t))n(e,t);else for(i in t)$t(e+"["+i+"]",t[i],r,n)}k.param=function(e,t){var r,n=[],i=function(e,t){var r=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(r in e)$t(r,e[r],t,i);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Mt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ye.test(e))})).map((function(e,t){var r=k(this).val();return null==r?null:Array.isArray(r)?k.map(r,(function(e){return{name:t.name,value:e.replace(Ft,"\r\n")}})):{name:t.name,value:r.replace(Ft,"\r\n")}})).get()}});var jt=/%20/g,Ut=/#.*$/,Bt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Gt={},zt={},Wt="*/".concat("*"),Yt=E.createElement("a");function Zt(e){return function(t,r){"string"!==typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(U)||[];if(y(r))while(n=o[i++])"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Xt(e,t,r,n){var i={},o=e===zt;function a(s){var l;return i[s]=!0,k.each(e[s]||[],(function(e,s){var u=s(t,r,n);return"string"!==typeof u||o||i[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var r,n,i=k.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&k.extend(!0,e,n),e}function Qt(e,t,r){var n,i,o,a,s=e.contents,l=e.dataTypes;while("*"===l[0])l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)o=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),r[o]}function er(e,t,r,n){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift(),o)if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]],a)){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}Yt.href=Rt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:Ht.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,k.ajaxSettings),t):Jt(k.ajaxSettings,e)},ajaxPrefilter:Zt(Gt),ajaxTransport:Zt(zt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,n,o,a,s,l,u,c,d,f,h=k.ajaxSetup({},t),p=h.context||h,v=h.context&&(p.nodeType||p.jquery)?k(p):k.event,m=k.Deferred(),g=k.Callbacks("once memory"),y=h.statusCode||{},b={},S={},w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a){a={};while(t=qt.exec(o))a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)T.always(e[T.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),_(0,t),this}};if(m.promise(T),h.url=((e||h.url||Rt.href)+"").replace(Kt,Rt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(U)||[""],null==h.crossDomain){l=E.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Yt.protocol+"//"+Yt.host!==l.protocol+"//"+l.host}catch(x){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!==typeof h.data&&(h.data=k.param(h.data,h.traditional)),Xt(Gt,h,t,T),u)return T;for(d in c=k.event&&h.global,c&&0===k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Vt.test(h.type),n=h.url.replace(Ut,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(jt,"+")):(f=h.url.slice(n.length),h.data&&(h.processData||"string"===typeof h.data)&&(n+=(Ot.test(n)?"&":"?")+h.data,delete h.data),!1===h.cache&&(n=n.replace(Bt,"$1"),f=(Ot.test(n)?"&":"?")+"_="+Pt.guid+++f),h.url=n+f),h.ifModified&&(k.lastModified[n]&&T.setRequestHeader("If-Modified-Since",k.lastModified[n]),k.etag[n]&&T.setRequestHeader("If-None-Match",k.etag[n])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]),h.headers)T.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,T,h)||u))return T.abort();if(w="abort",g.add(h.complete),T.done(h.success),T.fail(h.error),r=Xt(zt,h,t,T),r){if(T.readyState=1,c&&v.trigger("ajaxSend",[T,h]),u)return T;h.async&&h.timeout>0&&(s=i.setTimeout((function(){T.abort("timeout")}),h.timeout));try{u=!1,r.send(b,_)}catch(x){if(u)throw x;_(-1,x)}}else _(-1,"No Transport");function _(e,t,a,l){var d,f,b,E,S,w=t;u||(u=!0,s&&i.clearTimeout(s),r=void 0,o=l||"",T.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(E=Qt(h,T,a)),!d&&k.inArray("script",h.dataTypes)>-1&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),E=er(h,E,T,d),d?(h.ifModified&&(S=T.getResponseHeader("Last-Modified"),S&&(k.lastModified[n]=S),S=T.getResponseHeader("etag"),S&&(k.etag[n]=S)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=E.state,f=E.data,b=E.error,d=!b)):(b=w,!e&&w||(w="error",e<0&&(e=0))),T.status=e,T.statusText=(t||w)+"",d?m.resolveWith(p,[f,w,T]):m.rejectWith(p,[T,w,b]),T.statusCode(y),y=void 0,c&&v.trigger(d?"ajaxSuccess":"ajaxError",[T,h,d?f:b]),g.fireWith(p,[T,w]),c&&(v.trigger("ajaxComplete",[T,h]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,r){return k.get(e,t,r,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,r,n,i){return y(r)&&(i=i||n,n=r,r=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:r,success:n},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,r){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,r)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(r){k(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var tr={0:200,1223:204},rr=k.ajaxSettings.xhr();g.cors=!!rr&&"withCredentials"in rr,g.ajax=rr=!!rr,k.ajaxTransport((function(e){var t,r;if(g.cors||rr&&!e.crossDomain)return{send:function(n,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)s.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!==typeof s.status?o(0,"error"):o(s.status,s.statusText):o(tr[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),E.head.appendChild(t[0])},abort:function(){r&&r()}}}));var nr=[],ir=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||k.expando+"_"+Pt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,r){var n,o,a,s=!1!==e.jsonp&&(ir.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ir.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ir,"$1"+n):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||k.error(n+" was not called"),a[0]},e.dataTypes[0]="json",o=i[n],i[n]=function(){a=arguments},r.always((function(){void 0===o?k(i).removeProp(n):i[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,nr.push(n)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=function(){var e=E.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),k.parseHTML=function(e,t,r){return"string"!==typeof e?[]:("boolean"===typeof t&&(r=t,t=!1),t||(g.createHTMLDocument?(t=E.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=E.location.href,t.head.appendChild(n)):t=E),i=P.exec(e),o=!r&&[],i?[t.createElement(i[1])]:(i=ke([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var n,i,o},k.fn.load=function(e,t,r){var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=kt(e.slice(s)),e=e.slice(0,s)),y(t)?(r=t,t=void 0):t&&"object"===typeof t&&(i="POST"),a.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(n?k("<div>").append(k.parseHTML(e)).find(n):e)})).always(r&&function(e,t){a.each((function(){r.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,r){var n,i,o,a,s,l,u,c=k.css(e,"position"),d=k(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=k.css(e,"top"),l=k.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(n=d.position(),a=n.top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,r,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===k.css(n,"position"))t=n.getBoundingClientRect();else{t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;while(e&&(e===r.body||e===r.documentElement)&&"static"===k.css(e,"position"))e=e.parentNode;e&&e!==n&&1===e.nodeType&&(i=k(e).offset(),i.top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(n,"marginTop",!0),left:t.left-i.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var e=this.offsetParent;while(e&&"static"===k.css(e,"position"))e=e.offsetParent;return e||ce}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;k.fn[e]=function(n){return W(this,(function(e,n,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i}),e,n,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Xe(g.pixelPosition,(function(e,r){if(r)return r=Ze(e,t),He.test(r)?k(e).position()[t]+"px":r}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){k.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!==typeof i),s=r||(!0===i||!0===o?"margin":"border");return W(this,(function(t,r,i){var o;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,r,s):k.style(t,r,i,s)}),t,a?i:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var or=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var r,n,i;if("string"===typeof t&&(r=e[t],t=e,e=r),y(e))return n=l.call(arguments,2),i=function(){return e.apply(t||this,n.concat(l.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=R,k.isFunction=y,k.isWindow=b,k.camelCase=J,k.type=T,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(or,"$1")},r=[],n=function(){return k}.apply(t,r),void 0===n||(e.exports=n);var ar=i.jQuery,sr=i.$;return k.noConflict=function(e){return i.$===k&&(i.$=sr),e&&i.jQuery===k&&(i.jQuery=ar),k},"undefined"===typeof o&&(i.jQuery=i.$=k),k}))},3693:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),n=t.cb||n;var i="function"==typeof n?n:n.pre||function(){},o=n.post||function(){};r(t,i,o,e,"",e)};function r(e,i,o,a,s,l,u,c,d,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var h in i(a,s,l,u,c,d,f),a){var p=a[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var v=0;v<p.length;v++)r(e,i,o,p[v],s+"/"+h+"/"+v,l,s,h,a,v)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,i,o,p[m],s+"/"+h+"/"+n(m),l,s,h,a,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,i,o,p,s+"/"+h,l,s,h,a)}o(a,s,l,u,c,d,f)}}function n(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},466:function(e,t){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(e,r){r(t)})(0,(function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}function s(e){var n="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),s="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t(s,l),c=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",d=e?"[\\uE000-\\uF8FF]":"[]",f=t(n,i,"[\\-\\.\\_\\~]",c),h=r(n+t(n,i,"[\\+\\-\\.]")+"*"),p=r(r(a+"|"+t(f,l,"[\\:]"))+"*"),v=(r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("[1-9]"+i)+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i)),m=r(v+"\\."+v+"\\."+v+"\\."+v),g=r(o+"{1,4}"),y=r(r(g+"\\:"+g)+"|"+m),b=r(r(g+"\\:")+"{6}"+y),E=r("\\:\\:"+r(g+"\\:")+"{5}"+y),S=r(r(g)+"?\\:\\:"+r(g+"\\:")+"{4}"+y),w=r(r(r(g+"\\:")+"{0,1}"+g)+"?\\:\\:"+r(g+"\\:")+"{3}"+y),T=r(r(r(g+"\\:")+"{0,2}"+g)+"?\\:\\:"+r(g+"\\:")+"{2}"+y),_=r(r(r(g+"\\:")+"{0,3}"+g)+"?\\:\\:"+g+"\\:"+y),k=r(r(r(g+"\\:")+"{0,4}"+g)+"?\\:\\:"+y),x=r(r(r(g+"\\:")+"{0,5}"+g)+"?\\:\\:"+g),C=r(r(r(g+"\\:")+"{0,6}"+g)+"?\\:\\:"),A=r([b,E,S,w,T,_,k,x,C].join("|")),L=r(r(f+"|"+a)+"+"),D=(r(A+"\\%25"+L),r(A+r("\\%25|\\%(?!"+o+"{2})")+L)),R=r("[vV]"+o+"+\\."+t(f,l,"[\\:]")+"+"),P=r("\\["+r(D+"|"+A+"|"+R)+"\\]"),O=r(r(a+"|"+t(f,l))+"*"),I=r(P+"|"+m+"(?!"+O+")|"+O),F=r(i+"*"),N=r(r(p+"@")+"?"+I+r("\\:"+F)+"?"),M=r(a+"|"+t(f,l,"[\\:\\@]")),$=r(M+"*"),j=r(M+"+"),U=r(r(a+"|"+t(f,l,"[\\@]"))+"+"),B=r(r("\\/"+$)+"*"),q=r("\\/"+r(j+B)+"?"),H=r(U+B),V=r(j+B),K="(?!"+M+")",G=(r(B+"|"+q+"|"+H+"|"+V+"|"+K),r(r(M+"|"+t("[\\/\\?]",d))+"*")),z=r(r(M+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+N+B)+"|"+q+"|"+V+"|"+K),Y=r(h+"\\:"+W+r("\\?"+G)+"?"+r("\\#"+z)+"?"),Z=r(r("\\/\\/"+N+B)+"|"+q+"|"+H+"|"+K),X=r(Z+r("\\?"+G)+"?"+r("\\#"+z)+"?");r(Y+"|"+X),r(h+"\\:"+W+r("\\?"+G)+"?"),r(r("\\/\\/("+r("("+p+")@")+"?("+I+")"+r("\\:("+F+")")+"?)")+"?("+B+"|"+q+"|"+V+"|"+K+")"),r("\\?("+G+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+p+")@")+"?("+I+")"+r("\\:("+F+")")+"?)")+"?("+B+"|"+q+"|"+H+"|"+K+")"),r("\\?("+G+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+p+")@")+"?("+I+")"+r("\\:("+F+")")+"?)")+"?("+B+"|"+q+"|"+V+"|"+K+")"),r("\\?("+G+")"),r("\\#("+z+")"),r("("+p+")@"),r("\\:("+F+")");return{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",f,l),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",f,l),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",f,l),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",f,l),"g"),NOT_QUERY:new RegExp(t("[^\\%]",f,l,"[\\:\\@\\/\\?]",d),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",f,l,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",f,l),"g"),UNRESERVED:new RegExp(f,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",f,u),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+m+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+L+")")+"?\\]?$")}}var l=s(!1),u=s(!0),c=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(l){i=!0,o=l}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},f=2147483647,h=36,p=1,v=26,m=38,g=700,y=72,b=128,E="-",S=/^xn--/,w=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=h-p,x=Math.floor,C=String.fromCharCode;function A(e){throw new RangeError(_[e])}function L(e,t){var r=[],n=e.length;while(n--)r[n]=t(e[n]);return r}function D(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(T,".");var i=e.split("."),o=L(i,t).join(".");return n+o}function R(e){var t=[],r=0,n=e.length;while(r<n){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var P=function(e){return String.fromCodePoint.apply(String,d(e))},O=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},I=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},F=function(e,t,r){var n=0;for(e=r?x(e/g):e>>1,e+=x(e/t);e>k*v>>1;n+=h)e=x(e/k);return x(n+(k+1)*e/(e+m))},N=function(e){var t=[],r=e.length,n=0,i=b,o=y,a=e.lastIndexOf(E);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&A("not-basic"),t.push(e.charCodeAt(s));for(var l=a>0?a+1:0;l<r;){for(var u=n,c=1,d=h;;d+=h){l>=r&&A("invalid-input");var m=O(e.charCodeAt(l++));(m>=h||m>x((f-n)/c))&&A("overflow"),n+=m*c;var g=d<=o?p:d>=o+v?v:d-o;if(m<g)break;var S=h-g;c>x(f/S)&&A("overflow"),c*=S}var w=t.length+1;o=F(n-u,w,0==u),x(n/w)>f-i&&A("overflow"),i+=x(n/w),n%=w,t.splice(n++,0,i)}return String.fromCodePoint.apply(String,t)},M=function(e){var t=[];e=R(e);var r=e.length,n=b,i=0,o=y,a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d<128&&t.push(C(d))}}catch(G){s=!0,l=G}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}var m=t.length,g=m;m&&t.push(E);while(g<r){var S=f,w=!0,T=!1,_=void 0;try{for(var k,L=e[Symbol.iterator]();!(w=(k=L.next()).done);w=!0){var D=k.value;D>=n&&D<S&&(S=D)}}catch(G){T=!0,_=G}finally{try{!w&&L.return&&L.return()}finally{if(T)throw _}}var P=g+1;S-n>x((f-i)/P)&&A("overflow"),i+=(S-n)*P,n=S;var O=!0,N=!1,M=void 0;try{for(var $,j=e[Symbol.iterator]();!(O=($=j.next()).done);O=!0){var U=$.value;if(U<n&&++i>f&&A("overflow"),U==n){for(var B=i,q=h;;q+=h){var H=q<=o?p:q>=o+v?v:q-o;if(B<H)break;var V=B-H,K=h-H;t.push(C(I(H+V%K,0))),B=x(V/K)}t.push(C(I(B,0))),o=F(i,P,g==m),i=0,++g}}}catch(G){N=!0,M=G}finally{try{!O&&j.return&&j.return()}finally{if(N)throw M}}++i,++n}return t.join("")},$=function(e){return D(e,(function(e){return S.test(e)?N(e.slice(4).toLowerCase()):e}))},j=function(e){return D(e,(function(e){return w.test(e)?"xn--"+M(e):e}))},U={version:"2.1.0",ucs2:{decode:R,encode:P},decode:N,encode:M,toASCII:j,toUnicode:$},B={};function q(e){var t=e.charCodeAt(0),r=void 0;return r=t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase(),r}function H(e){var t="",r=0,n=e.length;while(r<n){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function V(e,t){function r(e){var r=H(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,q).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,q).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,q).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,q).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,q).replace(t.PCT_ENCODED,i)),e}function K(e){return e.replace(/^0*(.*)/,"$1")||"0"}function G(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2),i=n[1];return i?i.split(".").map(K).join("."):e}function z(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=c(a,2),l=s[0],u=s[1],d=u?u.split(":").map(K):[],f=l.split(":").map(K),h=t.IPV4ADDRESS.test(f[f.length-1]),p=h?7:8,v=f.length-p,m=Array(p),g=0;g<p;++g)m[g]=d[g]||f[v+g]||"";h&&(m[p-1]=G(m[p-1],t));var y=m.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]),b=y.sort((function(e,t){return t.length-e.length}))[0],E=void 0;if(b&&b.length>1){var S=m.slice(0,b.index),w=m.slice(b.index+b.length);E=S.join(":")+"::"+w.join(":")}else E=m.join(":");return o&&(E+="%"+o),E}return e}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?u:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(W);if(i){Y?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=z(G(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=B[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)V(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=U.toASCII(r.host.replace(n.PCT_ENCODED,H).toLowerCase())}catch(a){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+a}V(r,l)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function X(e,t){var r=!1!==t.iri?u:l,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(z(G(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var J=/^\.\.?\//,Q=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function re(e){var t=[];while(e.length)if(e.match(J))e=e.replace(J,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(te);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?u:l,n=[],i=B[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?U.toUnicode(e.host):U.toASCII(e.host.replace(r.PCT_ENCODED,H).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}V(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=X(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var a=e.path;t.absolutePath||i&&i.absolutePath||(a=re(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),n.push(a)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=Z(ne(e,r),r),t=Z(ne(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=re(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=re(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function oe(e,t,r){var n=a({scheme:"null"},r);return ne(ie(Z(e,n),Z(t,n),n,!0),n)}function ae(e,t){return"string"===typeof e?e=ne(Z(e,t),t):"object"===n(e)&&(e=Z(ne(e,t),t)),e}function se(e,t,r){return"string"===typeof e?e=ne(Z(e,r),r):"object"===n(e)&&(e=ne(e,r)),"string"===typeof t?t=ne(Z(t,r),r):"object"===n(t)&&(t=ne(t,r)),e===t}function le(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:l.ESCAPE,q)}function ue(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:l.PCT_ENCODED,H)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},de={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function fe(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var he={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=fe(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(fe(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:he.domainHost,parse:he.parse,serialize:he.serialize},ve={},me=!0,ge="[A-Za-z0-9\\-\\.\\_\\~"+(me?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",ye="[0-9A-Fa-f]",be=r(r("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+r("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+r("%"+ye+ye)),Ee="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Se="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",we=t(Se,'[\\"\\\\]'),Te="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",_e=new RegExp(ge,"g"),ke=new RegExp(be,"g"),xe=new RegExp(t("[^]",Ee,"[\\.]",'[\\"]',we),"g"),Ce=new RegExp(t("[^]",ge,Te),"g"),Ae=Ce;function Le(e){var t=H(e);return t.match(_e)?t:e}var De={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),d=0,f=c.length;d<f;++d)n.push(c[d]);break;case"subject":r.subject=ue(u[1],t);break;case"body":r.body=ue(u[1],t);break;default:i=!0,o[ue(u[0],t)]=ue(u[1],t);break}}i&&(r.headers=o)}r.query=void 0;for(var h=0,p=n.length;h<p;++h){var v=n[h].split("@");if(v[0]=ue(v[0]),t.unicodeSupport)v[1]=ue(v[1],t).toLowerCase();else try{v[1]=U.toASCII(ue(v[1],t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+m}n[h]=v.join("@")}return r},serialize:function(e,t){var r=e,n=o(e.to);if(n){for(var a=0,s=n.length;a<s;++a){var l=String(n[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(ke,Le).replace(ke,i).replace(xe,q),d=l.slice(u+1);try{d=t.iri?U.toUnicode(d):U.toASCII(ue(d,t).toLowerCase())}catch(v){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+v}n[a]=c+"@"+d}r.path=n.join(",")}var f=e.headers=e.headers||{};e.subject&&(f["subject"]=e.subject),e.body&&(f["body"]=e.body);var h=[];for(var p in f)f[p]!==ve[p]&&h.push(p.replace(ke,Le).replace(ke,i).replace(Ce,q)+"="+f[p].replace(ke,Le).replace(ke,i).replace(Ae,q));return h.length&&(r.query=h.join("&")),r}},Re=/^([^\:]+)\:(.*)/,Pe={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(Re),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),a=r[2],s=i+":"+(t.nid||o),l=B[s];n.nid=o,n.nss=a,n.path=void 0,l&&(n=l.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=B[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+":"+s,a}},Oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ie={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Oe)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};B[ce.scheme]=ce,B[de.scheme]=de,B[he.scheme]=he,B[pe.scheme]=pe,B[De.scheme]=De,B[Pe.scheme]=Pe,B[Ie.scheme]=Ie,e.SCHEMES=B,e.pctEncChar=q,e.pctDecChars=H,e.parse=Z,e.removeDotSegments=re,e.serialize=ne,e.resolveComponents=ie,e.resolve=oe,e.normalize=ae,e.equal=se,e.escapeComponent=le,e.unescapeComponent=ue,Object.defineProperty(e,"__esModule",{value:!0})}))},4260:(e,t)=>{"use strict";t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r}},9740:(e,t,r)=>{"use strict";r.d(t,{WB:()=>de,Q_:()=>Te});var n=r(1959),i=r(3673),o=!1;function a(e,t,r){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,r),r):(e[t]=r,r)}function s(){return l().__VUE_DEVTOOLS_GLOBAL_HOOK__}function l(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{}}const u="function"===typeof Proxy,c="devtools-plugin:setup",d="plugin:settings:set";let f,h,p;function v(){var e;return void 0!==f||("undefined"!==typeof window&&window.performance?(f=!0,h=window.performance):"undefined"!==typeof r.g&&(null===(e=r.g.perf_hooks)||void 0===e?void 0:e.performance)?(f=!0,h=r.g.perf_hooks.performance):f=!1),f}function m(){return v()?h.now():Date.now()}class g{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const a in e.settings){const t=e.settings[a];r[a]=t.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(o){}i=e},now(){return m()}},t&&t.on(d,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((r=>{this.targetQueue.push({method:t,args:e,resolve:r})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function y(e,t){const r=e,n=l(),i=s(),o=u&&r.enableEarlyProxy;if(!i||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new g(r,i):null,a=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];a.push({pluginDescriptor:r,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(c,e,t)}const b=e=>p=e,E=Symbol();function S(e){return e&&"object"===typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!==typeof e.toJSON}var w;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(w||(w={}));const T="undefined"!==typeof window,_=!1,k=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof r.g&&r.g.global===r.g?r.g:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function x(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function C(e,t,r){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){P(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function A(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function L(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}const D="object"===typeof navigator?navigator:{userAgent:""},R=(()=>/Macintosh/.test(D.userAgent)&&/AppleWebKit/.test(D.userAgent)&&!/Safari/.test(D.userAgent))(),P=T?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!R?O:"msSaveOrOpenBlob"in D?I:F:()=>{};function O(e,t="download",r){const n=document.createElement("a");n.download=t,n.rel="noopener","string"===typeof e?(n.href=e,n.origin!==location.origin?A(n.href)?C(e,t,r):(n.target="_blank",L(n)):L(n)):(n.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(n.href)}),4e4),setTimeout((function(){L(n)}),0))}function I(e,t="download",r){if("string"===typeof e)if(A(e))C(e,t,r);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){L(t)}))}else navigator.msSaveOrOpenBlob(x(e,r),t)}function F(e,t,r,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"===typeof e)return C(e,t,r);const i="application/octet-stream"===e.type,o=/constructor/i.test(String(k.HTMLElement))||"safari"in k,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o||R)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw n=null,new Error("Wrong reader.result type");e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location.assign(e),n=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);n?n.location.assign(t):location.href=t,n=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function N(e,t){const r="🍍 "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(r,t):"error"===t?console.error(r):"warn"===t?console.warn(r):console.log(r)}function M(e){return"_a"in e&&"install"in e}function $(){if(!("clipboard"in navigator))return N("Your browser doesn't support the Clipboard API","error"),!0}function j(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(N('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function U(e){if(!$())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),N("Global state copied to clipboard.")}catch(t){if(j(t))return;N("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function B(e){if(!$())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),N("Global state pasted from clipboard.")}catch(t){if(j(t))return;N("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function q(e){try{P(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){N("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let H;function V(){function e(){return new Promise(((e,t)=>{H.onchange=async()=>{const t=H.files;if(!t)return e(null);const r=t.item(0);return e(r?{text:await r.text(),file:r}:null)},H.oncancel=()=>e(null),H.onerror=t,H.click()}))}return H||(H=document.createElement("input"),H.type="file",H.accept=".json"),e}async function K(e){try{const t=await V(),r=await t();if(!r)return;const{text:n,file:i}=r;e.state.value=JSON.parse(n),N(`Global state imported from "${i.name}".`)}catch(t){N("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function G(e){return{_custom:{display:e}}}const z="🍍 Pinia (root)",W="_root";function Y(e){return M(e)?{id:W,label:z}:{id:e.$id,label:e.$id}}function Z(e){if(M(e)){const t=Array.from(e._s.keys()),r=e._s,n={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>r.get(e)._getters)).map((e=>{const t=r.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,r)=>(e[r]=t[r],e)),{})}}))};return n}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function X(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:G(e.type),key:G(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function J(e){switch(e){case w.direct:return"mutation";case w.patchFunction:return"$patch";case w.patchObject:return"$patch";default:return"unknown"}}let Q=!0;const ee=[],te="pinia:mutations",re="pinia",{assign:ne}=Object,ie=e=>"🍍 "+e;function oe(e,t){y({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e},(r=>{"function"!==typeof r.now&&N("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:te,label:"Pinia 🍍",color:15064968}),r.addInspector({id:re,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{U(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await B(t),r.sendInspectorTree(re),r.sendInspectorState(re)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{q(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await K(t),r.sendInspectorTree(re),r.sendInspectorState(re)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:e=>{const r=t._s.get(e);r?r._isOptionsAPI?(r.$reset(),N(`Store "${e}" reset.`)):N(`Cannot reset "${e}" store because it's a setup store.`,"warn"):N(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent(((e,t)=>{const r=e.componentInstance&&e.componentInstance.proxy;if(r&&r._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:ie(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,n.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,r)=>(e[r]=t.$state[r],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:ie(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,r)=>{try{e[r]=t[r]}catch(n){e[r]=n}return e}),{})})}))}})),r.on.getInspectorTree((r=>{if(r.app===e&&r.inspectorId===re){let e=[t];e=e.concat(Array.from(t._s.values())),r.rootNodes=(r.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(r.filter.toLowerCase()):z.toLowerCase().includes(r.filter.toLowerCase()))):e).map(Y)}})),r.on.getInspectorState((r=>{if(r.app===e&&r.inspectorId===re){const e=r.nodeId===W?t:t._s.get(r.nodeId);if(!e)return;e&&(r.state=Z(e))}})),r.on.editInspectorState(((r,n)=>{if(r.app===e&&r.inspectorId===re){const e=r.nodeId===W?t:t._s.get(r.nodeId);if(!e)return N(`store "${r.nodeId}" not found`,"error");const{path:n}=r;M(e)?n.unshift("state"):1===n.length&&e._customProperties.has(n[0])&&!(n[0]in e.$state)||n.unshift("$state"),Q=!1,r.set(e,n,r.state.value),Q=!0}})),r.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const r=e.type.replace(/^🍍\s*/,""),n=t._s.get(r);if(!n)return N(`store "${r}" not found`,"error");const{path:i}=e;if("state"!==i[0])return N(`Invalid path for store "${r}":\n${i}\nOnly state can be modified.`);i[0]="$state",Q=!1,e.set(n,i,e.state.value),Q=!0}}))}))}function ae(e,t){ee.includes(ie(t.$id))||ee.push(ie(t.$id)),y({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const r="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:n,onError:i,name:o,args:a})=>{const s=le++;e.addTimelineEvent({layerId:te,event:{time:r(),title:"🛫 "+o,subtitle:"start",data:{store:G(t.$id),action:G(o),args:a},groupId:s}}),n((n=>{se=void 0,e.addTimelineEvent({layerId:te,event:{time:r(),title:"🛬 "+o,subtitle:"end",data:{store:G(t.$id),action:G(o),args:a,result:n},groupId:s}})})),i((n=>{se=void 0,e.addTimelineEvent({layerId:te,event:{time:r(),logType:"error",title:"💥 "+o,subtitle:"end",data:{store:G(t.$id),action:G(o),args:a,error:n},groupId:s}})}))}),!0),t._customProperties.forEach((o=>{(0,i.YP)((()=>(0,n.SU)(t[o])),((t,n)=>{e.notifyComponentUpdate(),e.sendInspectorState(re),Q&&e.addTimelineEvent({layerId:te,event:{time:r(),title:"Change",subtitle:o,data:{newValue:t,oldValue:n},groupId:se}})}),{deep:!0})})),t.$subscribe((({events:n,type:i},o)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(re),!Q)return;const a={time:r(),title:J(i),data:ne({store:G(t.$id)},X(n)),groupId:se};se=void 0,i===w.patchFunction?a.subtitle="⤵️":i===w.patchObject?a.subtitle="🧩":n&&!Array.isArray(n)&&(a.subtitle=n.type),n&&(a.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:n}}),e.addTimelineEvent({layerId:te,event:a})}),{detached:!0,flush:"sync"});const o=t._hotUpdate;t._hotUpdate=(0,n.Xl)((n=>{o(n),e.addTimelineEvent({layerId:te,event:{time:r(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:G(t.$id),info:G("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(re),e.sendInspectorState(re)}));const{$dispose:a}=t;t.$dispose=()=>{a(),e.notifyComponentUpdate(),e.sendInspectorTree(re),e.sendInspectorState(re),e.getSettings().logStoreChanges&&N(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(re),e.sendInspectorState(re),e.getSettings().logStoreChanges&&N(`"${t.$id}" store installed 🆕`)}))}let se,le=0;function ue(e,t){const r=t.reduce(((t,r)=>(t[r]=(0,n.IU)(e)[r],t)),{});for(const n in r)e[n]=function(){const t=le,i=new Proxy(e,{get(...e){return se=t,Reflect.get(...e)},set(...e){return se=t,Reflect.set(...e)}});return r[n].apply(i,arguments)}}function ce({app:e,store:t,options:r}){if(!t.$id.startsWith("__hot:")){if(r.state&&(t._isOptionsAPI=!0),"function"===typeof r.state){ue(t,Object.keys(r.actions));const e=t._hotUpdate;(0,n.IU)(t)._hotUpdate=function(r){e.apply(this,arguments),ue(t,Object.keys(r._hmrPayload.actions))}}ae(e,t)}}function de(){const e=(0,n.B)(!0),t=e.run((()=>(0,n.iH)({})));let r=[],i=[];const a=(0,n.Xl)({install(e){b(a),o||(a._a=e,e.provide(E,a),e.config.globalProperties.$pinia=a,_&&oe(e,a),i.forEach((e=>r.push(e))),i=[])},use(e){return this._a||o?r.push(e):i.push(e),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return _&&"undefined"!==typeof Proxy&&a.use(ce),a}const fe=()=>{};function he(e,t,r,i=fe){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!r&&(0,n.nZ)()&&(0,n.EB)(o),o}function pe(e,...t){e.slice().forEach((e=>{e(...t)}))}function ve(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,r)=>e.set(r,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],o=e[r];S(o)&&S(i)&&e.hasOwnProperty(r)&&!(0,n.dq)(i)&&!(0,n.PG)(i)?e[r]=ve(o,i):e[r]=i}return e}const me=Symbol(),ge=new WeakMap;function ye(e){return o?!ge.has(e):!S(e)||!e.hasOwnProperty(me)}const{assign:be}=Object;function Ee(e){return!(!(0,n.dq)(e)||!e.effect)}function Se(e,t,r,s){const{state:l,actions:u,getters:c}=t,d=r.state.value[e];let f;function h(){d||(o?a(r.state.value,e,l?l():{}):r.state.value[e]=l?l():{});const t=(0,n.BK)(r.state.value[e]);return be(t,u,Object.keys(c||{}).reduce(((t,a)=>(t[a]=(0,n.Xl)((0,i.Fl)((()=>{b(r);const t=r._s.get(e);if(!o||t._r)return c[a].call(t,t)}))),t)),{}))}return f=we(e,h,t,r,s,!0),f.$reset=function(){const e=l?l():{};this.$patch((t=>{be(t,e)}))},f}function we(e,t,r={},s,l,u){let c;const d=be({actions:{}},r);const f={deep:!0};let h,p;let v,m=(0,n.Xl)([]),g=(0,n.Xl)([]);const y=s.state.value[e];u||y||(o?a(s.state.value,e,{}):s.state.value[e]={});const E=(0,n.iH)({});let S;function T(t){let r;h=p=!1,"function"===typeof t?(t(s.state.value[e]),r={type:w.patchFunction,storeId:e,events:v}):(ve(s.state.value[e],t),r={type:w.patchObject,payload:t,storeId:e,events:v});const n=S=Symbol();(0,i.Y3)().then((()=>{S===n&&(h=!0)})),p=!0,pe(m,r,s.state.value[e])}const k=fe;function x(){c.stop(),m=[],g=[],s._s.delete(e)}function C(t,r){return function(){b(s);const n=Array.from(arguments),i=[],o=[];function a(e){i.push(e)}function l(e){o.push(e)}let u;pe(g,{args:n,name:t,store:D,after:a,onError:l});try{u=r.apply(this&&this.$id===e?this:D,n)}catch(c){throw pe(o,c),c}return u instanceof Promise?u.then((e=>(pe(i,e),e))).catch((e=>(pe(o,e),Promise.reject(e)))):(pe(i,u),u)}}const A=(0,n.Xl)({actions:{},getters:{},state:[],hotState:E}),L={_p:s,$id:e,$onAction:he.bind(null,g),$patch:T,$reset:k,$subscribe(t,r={}){const n=he(m,t,r.detached,(()=>o())),o=c.run((()=>(0,i.YP)((()=>s.state.value[e]),(n=>{("sync"===r.flush?p:h)&&t({storeId:e,type:w.direct,events:v},n)}),be({},f,r))));return n},$dispose:x};o&&(L._r=!1);const D=(0,n.qj)(_?be({_hmrPayload:A,_customProperties:(0,n.Xl)(new Set)},L):L);s._s.set(e,D);const R=s._e.run((()=>(c=(0,n.B)(),c.run((()=>t())))));for(const i in R){const t=R[i];if((0,n.dq)(t)&&!Ee(t)||(0,n.PG)(t))u||(y&&ye(t)&&((0,n.dq)(t)?t.value=y[i]:ve(t,y[i])),o?a(s.state.value[e],i,t):s.state.value[e][i]=t);else if("function"===typeof t){const e=C(i,t);o?a(R,i,e):R[i]=e,d.actions[i]=t}else 0}if(o?Object.keys(R).forEach((e=>{a(D,e,R[e])})):(be(D,R),be((0,n.IU)(D),R)),Object.defineProperty(D,"$state",{get:()=>s.state.value[e],set:e=>{T((t=>{be(t,e)}))}}),_){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(D,t,be({value:D[t]},e))}))}return o&&(D._r=!0),s._p.forEach((e=>{if(_){const t=c.run((()=>e({store:D,app:s._a,pinia:s,options:d})));Object.keys(t||{}).forEach((e=>D._customProperties.add(e))),be(D,t)}else be(D,c.run((()=>e({store:D,app:s._a,pinia:s,options:d}))))})),y&&u&&r.hydrate&&r.hydrate(D.$state,y),h=!0,p=!0,D}function Te(e,t,r){let n,o;const a="function"===typeof t;function s(e,r){const s=(0,i.FN)();e=e||s&&(0,i.f3)(E,null),e&&b(e),e=p,e._s.has(n)||(a?we(n,t,o,e):Se(n,o,e));const l=e._s.get(n);return l}return"string"===typeof e?(n=e,o=a?r:t):(o=e,n=e.id),s.$id=n,s}},3340:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{BC:()=>n})},8339:(e,t,r)=>{"use strict";r.d(t,{PO:()=>j,p7:()=>tt,tv:()=>it});var n=r(3673),i=r(1959);
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function l(e,t){const r={};for(const n in t){const i=t[n];r[n]=c(i)?i.map(e):e(i)}return r}const u=()=>{},c=Array.isArray;const d=/\/$/,f=e=>e.replace(d,"");function h(e,t,r="/"){let n,i={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),i=e(o)),s>-1&&(n=n||t.slice(0,s),a=t.slice(s,t.length)),n=S(null!=n?n:t,r),{fullPath:n+(o&&"?")+o+a,path:n,query:i,hash:a}}function p(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function v(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function m(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&g(t.matched[n],r.matched[i])&&y(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function g(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!b(e[r],t[r]))return!1;return!0}function b(e,t){return c(e)?E(e,t):c(t)?E(t,e):e===t}function E(e,t){return c(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}function S(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let i,o,a=r.length-1;for(i=0;i<n.length;i++)if(o=n[i],"."!==o){if(".."!==o)break;a>1&&a--}return r.slice(0,a).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var w,T;(function(e){e["pop"]="pop",e["push"]="push"})(w||(w={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(T||(T={}));function _(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),f(e)}const k=/^[^#]+#/;function x(e,t){return e.replace(k,"#")+t}function C(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function L(e){let t;if("el"in e){const r=e.el,n="string"===typeof r&&r.startsWith("#");0;const i="string"===typeof r?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=C(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function D(e,t){const r=history.state?history.state.position-t:-1;return r+e}const R=new Map;function P(e,t){R.set(e,t)}function O(e){const t=R.get(e);return R.delete(e),t}let I=()=>location.protocol+"//"+location.host;function F(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,r=i.slice(t);return"/"!==r[0]&&(r="/"+r),v(r,"")}const a=v(r,e);return a+n+i}function N(e,t,r,n){let i=[],o=[],a=null;const l=({state:o})=>{const s=F(e,location),l=r.value,u=t.value;let c=0;if(o){if(r.value=s,t.value=o,a&&a===l)return void(a=null);c=u?o.position-u.position:0}else n(s);i.forEach((e=>{e(r.value,l,{delta:c,type:w.pop,direction:c?c>0?T.forward:T.back:T.unknown})}))};function u(){a=r.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:A()}),"")}function f(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:c,destroy:f}}function M(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?A():null}}function $(e){const{history:t,location:r}=window,n={value:F(e,r)},i={value:t.state};function o(n,o,a){const s=e.indexOf("#"),l=s>-1?(r.host&&document.querySelector("base")?e:e.slice(s))+n:I()+e+n;try{t[a?"replaceState":"pushState"](o,"",l),i.value=o}catch(u){console.error(u),r[a?"replace":"assign"](l)}}function a(e,r){const a=s({},t.state,M(i.value.back,e,i.value.forward,!0),r,{position:i.value.position});o(e,a,!0),n.value=e}function l(e,r){const a=s({},i.value,t.state,{forward:e,scroll:A()});o(a.current,a,!0);const l=s({},M(n.value,e,null),{position:a.position+1},r);o(e,l,!1),n.value=e}return i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:n,state:i,push:l,replace:a}}function j(e){e=_(e);const t=$(e),r=N(e,t.state,t.location,t.replace);function n(e,t=!0){t||r.pauseListeners(),history.go(e)}const i=s({location:"",base:e,go:n,createHref:x.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function U(e){return"string"===typeof e||e&&"object"===typeof e}function B(e){return"string"===typeof e||"symbol"===typeof e}const q={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},H=Symbol("");var V;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(V||(V={}));function K(e,t){return s(new Error,{type:e,[H]:!0},t)}function G(e,t){return e instanceof Error&&H in e&&(null==t||!!(e.type&t))}const z="[^/]+?",W={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function Z(e,t){const r=s({},W,t),n=[];let i=r.start?"^":"";const o=[];for(const s of e){const e=s.length?[]:[90];r.strict&&!s.length&&(i+="/");for(let t=0;t<s.length;t++){const n=s[t];let a=40+(r.sensitive?.25:0);if(0===n.type)t||(i+="/"),i+=n.value.replace(Y,"\\$&"),a+=40;else if(1===n.type){const{value:e,repeatable:r,optional:l,regexp:u}=n;o.push({name:e,repeatable:r,optional:l});const c=u||z;if(c!==z){a+=10;try{new RegExp(`(${c})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+d.message)}}let f=r?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(f=l&&s.length<2?`(?:/${f})`:"/"+f),l&&(f+="?"),i+=f,a+=20,l&&(a+=-8),r&&(a+=-20),".*"===c&&(a+=-50)}e.push(a)}n.push(e)}if(r.strict&&r.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function l(e){const t=e.match(a),r={};if(!t)return null;for(let n=1;n<t.length;n++){const e=t[n]||"",i=o[n-1];r[i.name]=e&&i.repeatable?e.split("/"):e}return r}function u(t){let r="",n=!1;for(const i of e){n&&r.endsWith("/")||(r+="/"),n=!1;for(const e of i)if(0===e.type)r+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(c(l)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(r.endsWith("/")?r=r.slice(0,-1):n=!0)}r+=u}}return r||"/"}return{re:a,score:n,keys:o,parse:l,stringify:u}}function X(e,t){let r=0;while(r<e.length&&r<t.length){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function J(e,t){let r=0;const n=e.score,i=t.score;while(r<n.length&&r<i.length){const e=X(n[r],i[r]);if(e)return e;r++}if(1===Math.abs(i.length-n.length)){if(Q(n))return 1;if(Q(i))return-1}return i.length-n.length}function Q(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function re(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${u}": ${e}`)}let r=0,n=r;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,l=0,u="",c="";function d(){u&&(0===r?o.push({type:0,value:u}):1===r||2===r||3===r?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),u="")}function f(){u+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===r)switch(r){case 0:"/"===s?(u&&d(),a()):":"===s?(d(),r=1):f();break;case 4:f(),r=n;break;case 1:"("===s?r=2:te.test(s)?f():(d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:r=3:c+=s;break;case 3:d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,c="";break;default:t("Unknown state");break}else n=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function ne(e,t,r){const n=Z(re(e.path),r);const i=s(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ie(e,t){const r=[],n=new Map;function i(e){return n.get(e)}function o(e,r,n){const i=!n,l=ae(e);l.aliasOf=n&&n.record;const d=ce(t,e),f=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(s({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l}))}let h,p;for(const t of f){const{path:s}=t;if(r&&"/"!==s[0]){const e=r.record.path,n="/"===e[e.length-1]?"":"/";t.path=r.record.path+(s&&n+s)}if(h=ne(t,r,d),n?n.alias.push(h):(p=p||h,p!==h&&p.alias.push(h),i&&e.name&&!le(h)&&a(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],h,n&&n.children[t])}n=n||h,(h.record.components&&Object.keys(h.record.components).length||h.record.name||h.record.redirect)&&c(h)}return p?()=>{a(p)}:u}function a(e){if(B(e)){const t=n.get(e);t&&(n.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function l(){return r}function c(e){let t=0;while(t<r.length&&J(e,r[t])>=0&&(e.record.path!==r[t].record.path||!de(e,r[t])))t++;r.splice(t,0,e),e.record.name&&!le(e)&&n.set(e.record.name,e)}function d(e,t){let i,o,a,l={};if("name"in e&&e.name){if(i=n.get(e.name),!i)throw K(1,{location:e});0,a=i.record.name,l=s(oe(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&oe(e.params,i.keys.map((e=>e.name)))),o=i.stringify(l)}else if("path"in e)o=e.path,i=r.find((e=>e.re.test(o))),i&&(l=i.parse(o),a=i.record.name);else{if(i=t.name?n.get(t.name):r.find((e=>e.re.test(t.path))),!i)throw K(1,{location:e,currentLocation:t});a=i.record.name,l=s({},t.params,e.params),o=i.stringify(l)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:l,matched:u,meta:ue(u)}}return t=ce({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function oe(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function ae(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:se(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function se(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]="boolean"===typeof r?r:r[n];return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ue(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function ce(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const fe=/#/g,he=/&/g,pe=/\//g,ve=/=/g,me=/\?/g,ge=/\+/g,ye=/%5B/g,be=/%5D/g,Ee=/%5E/g,Se=/%60/g,we=/%7B/g,Te=/%7C/g,_e=/%7D/g,ke=/%20/g;function xe(e){return encodeURI(""+e).replace(Te,"|").replace(ye,"[").replace(be,"]")}function Ce(e){return xe(e).replace(we,"{").replace(_e,"}").replace(Ee,"^")}function Ae(e){return xe(e).replace(ge,"%2B").replace(ke,"+").replace(fe,"%23").replace(he,"%26").replace(Se,"`").replace(we,"{").replace(_e,"}").replace(Ee,"^")}function Le(e){return Ae(e).replace(ve,"%3D")}function De(e){return xe(e).replace(fe,"%23").replace(me,"%3F")}function Re(e){return null==e?"":De(e).replace(pe,"%2F")}function Pe(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Oe(e){const t={};if(""===e||"?"===e)return t;const r="?"===e[0],n=(r?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const e=n[i].replace(ge," "),r=e.indexOf("="),o=Pe(r<0?e:e.slice(0,r)),a=r<0?null:Pe(e.slice(r+1));if(o in t){let e=t[o];c(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function Ie(e){let t="";for(let r in e){const n=e[r];if(r=Le(r),null==n){void 0!==n&&(t+=(t.length?"&":"")+r);continue}const i=c(n)?n.map((e=>e&&Ae(e))):[n&&Ae(n)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))}))}return t}function Fe(e){const t={};for(const r in e){const n=e[r];void 0!==n&&(t[r]=c(n)?n.map((e=>null==e?null:""+e)):null==n?n:""+n)}return t}const Ne=Symbol(""),Me=Symbol(""),$e=Symbol(""),je=Symbol(""),Ue=Symbol("");function Be(){let e=[];function t(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function qe(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const l=e=>{!1===e?s(K(4,{from:r,to:t})):e instanceof Error?s(e):U(e)?s(K(2,{from:t,to:e})):(o&&n.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),a())},u=e.call(n&&n.instances[i],t,r,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>s(e)))}))}function He(e,t,r,n){const i=[];for(const o of e){0;for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ve(s)){const a=s.__vccOpts||s,l=a[t];l&&i.push(qe(l,r,n,o,e))}else{let l=s();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=a(i)?i.default:i;o.components[e]=s;const l=s.__vccOpts||s,u=l[t];return u&&qe(u,r,n,o,e)()}))))}}}return i}function Ve(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ke(e){const t=(0,n.f3)($e),r=(0,n.f3)(je),o=(0,n.Fl)((()=>t.resolve((0,i.SU)(e.to)))),a=(0,n.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,n=e[t-1],i=r.matched;if(!n||!i.length)return-1;const a=i.findIndex(g.bind(null,n));if(a>-1)return a;const s=Ze(e[t-2]);return t>1&&Ze(n)===s&&i[i.length-1].path!==s?i.findIndex(g.bind(null,e[t-2])):a})),s=(0,n.Fl)((()=>a.value>-1&&Ye(r.params,o.value.params))),l=(0,n.Fl)((()=>a.value>-1&&a.value===r.matched.length-1&&y(r.params,o.value.params)));function c(r={}){return We(r)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(u):Promise.resolve()}return{route:o,href:(0,n.Fl)((()=>o.value.href)),isActive:s,isExactActive:l,navigate:c}}const Ge=(0,n.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ke,setup(e,{slots:t}){const r=(0,i.qj)(Ke(e)),{options:o}=(0,n.f3)($e),a=(0,n.Fl)((()=>({[Xe(e.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[Xe(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const i=t.default&&t.default(r);return e.custom?i:(0,n.h)("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),ze=Ge;function We(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const r in t){const n=t[r],i=e[r];if("string"===typeof n){if(n!==i)return!1}else if(!c(i)||i.length!==n.length||n.some(((e,t)=>e!==i[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xe=(e,t,r)=>null!=e?e:null!=t?t:r,Je=(0,n.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const o=(0,n.f3)(Ue),a=(0,n.Fl)((()=>e.route||o.value)),l=(0,n.f3)(Me,0),u=(0,n.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=a.value;let r;while((r=t[e])&&!r.components)e++;return e})),c=(0,n.Fl)((()=>a.value.matched[u.value]));(0,n.JJ)(Me,(0,n.Fl)((()=>u.value+1))),(0,n.JJ)(Ne,c),(0,n.JJ)(Ue,a);const d=(0,i.iH)();return(0,n.YP)((()=>[d.value,c.value,e.name]),(([e,t,r],[n,i,o])=>{t&&(t.instances[r]=e,i&&i!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&g(t,i)&&n||(t.enterCallbacks[r]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=a.value,o=e.name,l=c.value,u=l&&l.components[o];if(!u)return Qe(r.default,{Component:u,route:i});const f=l.props[o],h=f?!0===f?i.params:"function"===typeof f?f(i):f:null,p=e=>{e.component.isUnmounted&&(l.instances[o]=null)},v=(0,n.h)(u,s({},h,t,{onVnodeUnmounted:p,ref:d}));return Qe(r.default,{Component:v,route:i})||v}}});function Qe(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const et=Je;function tt(e){const t=ie(e.routes,e),r=e.parseQuery||Oe,a=e.stringifyQuery||Ie,d=e.history;const f=Be(),v=Be(),g=Be(),y=(0,i.XI)(q);let b=q;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=l.bind(null,(e=>""+e)),S=l.bind(null,Re),T=l.bind(null,Pe);function _(e,r){let n,i;return B(e)?(n=t.getRecordMatcher(e),i=r):i=e,t.addRoute(i,n)}function k(e){const r=t.getRecordMatcher(e);r&&t.removeRoute(r)}function x(){return t.getRoutes().map((e=>e.record))}function C(e){return!!t.getRecordMatcher(e)}function R(e,n){if(n=s({},n||y.value),"string"===typeof e){const i=h(r,e,n.path),o=t.resolve({path:i.path},n),a=d.createHref(i.fullPath);return s(i,o,{params:T(o.params),hash:Pe(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=s({},e,{path:h(r,e.path,n.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];i=s({},e,{params:S(e.params)}),n.params=S(n.params)}const o=t.resolve(i,n),l=e.hash||"";o.params=E(T(o.params));const u=p(a,s({},e,{hash:Ce(l),path:o.path})),c=d.createHref(u);return s({fullPath:u,hash:l,query:a===Ie?Fe(e.query):e.query||{}},o,{redirectedFrom:void 0,href:c})}function I(e){return"string"===typeof e?h(r,e,y.value.path):s({},e)}function F(e,t){if(b!==e)return K(8,{from:t,to:e})}function N(e){return j(e)}function M(e){return N(s(I(e),{replace:!0}))}function $(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let n="function"===typeof r?r(e):r;return"string"===typeof n&&(n=n.includes("?")||n.includes("#")?n=I(n):{path:n},n.params={}),s({query:e.query,hash:e.hash,params:"path"in n?{}:e.params},n)}}function j(e,t){const r=b=R(e),n=y.value,i=e.state,o=e.force,l=!0===e.replace,u=$(r);if(u)return j(s(I(u),{state:"object"===typeof u?s({},i,u.state):i,force:o,replace:l}),t||r);const c=r;let d;return c.redirectedFrom=t,!o&&m(a,n,r)&&(d=K(16,{to:c,from:n}),re(n,n,!0,!1)),(d?Promise.resolve(d):H(c,n)).catch((e=>G(e)?G(e,2)?e:te(e):Q(e,c,n))).then((e=>{if(e){if(G(e,2))return j(s({replace:l},I(e.to),{state:"object"===typeof e.to?s({},i,e.to.state):i,force:o}),t||c)}else e=z(c,n,!0,l,i);return V(c,n,e),e}))}function U(e,t){const r=F(e,t);return r?Promise.reject(r):Promise.resolve()}function H(e,t){let r;const[n,i,o]=nt(e,t);r=He(n.reverse(),"beforeRouteLeave",e,t);for(const s of n)s.leaveGuards.forEach((n=>{r.push(qe(n,e,t))}));const a=U.bind(null,e,t);return r.push(a),rt(r).then((()=>{r=[];for(const n of f.list())r.push(qe(n,e,t));return r.push(a),rt(r)})).then((()=>{r=He(i,"beforeRouteUpdate",e,t);for(const n of i)n.updateGuards.forEach((n=>{r.push(qe(n,e,t))}));return r.push(a),rt(r)})).then((()=>{r=[];for(const n of e.matched)if(n.beforeEnter&&!t.matched.includes(n))if(c(n.beforeEnter))for(const i of n.beforeEnter)r.push(qe(i,e,t));else r.push(qe(n.beforeEnter,e,t));return r.push(a),rt(r)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),r=He(o,"beforeRouteEnter",e,t),r.push(a),rt(r)))).then((()=>{r=[];for(const n of v.list())r.push(qe(n,e,t));return r.push(a),rt(r)})).catch((e=>G(e,8)?e:Promise.reject(e)))}function V(e,t,r){for(const n of g.list())n(e,t,r)}function z(e,t,r,n,i){const a=F(e,t);if(a)return a;const l=t===q,u=o?history.state:{};r&&(n||l?d.replace(e.fullPath,s({scroll:l&&u&&u.scroll},i)):d.push(e.fullPath,i)),y.value=e,re(e,t,r,l),te()}let W;function Y(){W||(W=d.listen(((e,t,r)=>{if(!se.listening)return;const n=R(e),i=$(n);if(i)return void j(s(i,{replace:!0}),n).catch(u);b=n;const a=y.value;o&&P(D(a.fullPath,r.delta),A()),H(n,a).catch((e=>G(e,12)?e:G(e,2)?(j(e.to,n).then((e=>{G(e,20)&&!r.delta&&r.type===w.pop&&d.go(-1,!1)})).catch(u),Promise.reject()):(r.delta&&d.go(-r.delta,!1),Q(e,n,a)))).then((e=>{e=e||z(n,a,!1),e&&(r.delta&&!G(e,8)?d.go(-r.delta,!1):r.type===w.pop&&G(e,20)&&d.go(-1,!1)),V(n,a,e)})).catch(u)})))}let Z,X=Be(),J=Be();function Q(e,t,r){te(e);const n=J.list();return n.length?n.forEach((n=>n(e,t,r))):console.error(e),Promise.reject(e)}function ee(){return Z&&y.value!==q?Promise.resolve():new Promise(((e,t)=>{X.add([e,t])}))}function te(e){return Z||(Z=!e,Y(),X.list().forEach((([t,r])=>e?r(e):t())),X.reset()),e}function re(t,r,i,a){const{scrollBehavior:s}=e;if(!o||!s)return Promise.resolve();const l=!i&&O(D(t.fullPath,0))||(a||!i)&&history.state&&history.state.scroll||null;return(0,n.Y3)().then((()=>s(t,r,l))).then((e=>e&&L(e))).catch((e=>Q(e,t,r)))}const ne=e=>d.go(e);let oe;const ae=new Set,se={currentRoute:y,listening:!0,addRoute:_,removeRoute:k,hasRoute:C,getRoutes:x,resolve:R,options:e,push:N,replace:M,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:f.add,beforeResolve:v.add,afterEach:g.add,onError:J.add,isReady:ee,install(e){const t=this;e.component("RouterLink",ze),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),o&&!oe&&y.value===q&&(oe=!0,N(d.location).catch((e=>{0})));const r={};for(const i in q)r[i]=(0,n.Fl)((()=>y.value[i]));e.provide($e,t),e.provide(je,(0,i.qj)(r)),e.provide(Ue,y);const a=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(b=q,W&&W(),W=null,y.value=q,oe=!1,Z=!1),a()}}};return se}function rt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function nt(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>g(e,o)))?n.push(o):r.push(o));const s=e.matched[a];s&&(t.matched.find((e=>g(e,s)))||i.push(s))}return[r,n,i]}function it(){return(0,n.f3)($e)}},9614:(e,t,r)=>{function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}r(6701),e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},1661:(e,t,r)=>{var n=r(9614);function i(e,t,r){n(e,t),t.set(e,r)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},2250:(e,t,r)=>{var n=r(1800);function i(e,t,r){return t=n(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},2058:(e,t,r)=>{r(6701);var n=r(1506)["default"];function i(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},1800:(e,t,r)=>{var n=r(1506)["default"],i=r(2058);function o(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},1506:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},4775:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},8593:e=>{"use strict";e.exports=JSON.parse('{"_args":[["axios@0.21.4","C:\\\\Users\\\\SSVUser\\\\Desktop\\\\project me\\\\trinhhong1"]],"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"C:\\\\Users\\\\SSVUser\\\\Desktop\\\\project me\\\\trinhhong1","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}}]);