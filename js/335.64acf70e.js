(globalThis["webpackChunkntv"]=globalThis["webpackChunkntv"]||[]).push([[335],{4446:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var n=s(2250),r=s.n(n);class i{getRepository(e){const t=s(7044)(`./${e}.repository`);return t.default}}const a=new i;class o{constructor(e){r()(this,"serviceName",void 0),r()(this,"dao",void 0),this.serviceName=e,this.dao=a.getRepository(e)}}var c=s(539);class l extends o{async login(e){const{signIn:t}=(0,c.t)(),s=await this.dao.login(e),{code:n,payload:r}=s;0===n&&t(r)}async checklogin(){const{signIn:e,signOut:t}=(0,c.t)();try{const t=await this.dao.checklogin(),{code:s,payload:n}=t;0===s&&e(n)}catch(s){t()}}async getDashboards(){const e=await this.dao.getDashboards(),{code:t,payload:s}=e;return 0===t?s:null}async getListContent(e){const t=await this.dao.getListContent(e),{code:s,payload:n}=t;return 0===s?n:null}async getContentById(e){const t=await this.dao.getContentById(e),{code:s,payload:n}=t;return 0===s?n:null}async getListTag(){const e=await this.dao.getListTag(),{code:t,payload:s}=e;return 0===t?s:null}async getSuggestList(){const e=await this.dao.getSuggestList(),{code:t,payload:s}=e;return 0===t?s:{}}async updateUser(e){const t=await this.dao.updateUser(e),{message:s}=t;return s}async deleteReport(e){const t=await this.dao.deleteReport(e),{message:s}=t;return s}async updateViewMember(e,t){const s=await this.dao.updateViewMember(e,t),{code:n}=s;return 0===n}async getNotices(){const e=await this.dao.getNotices(),{code:t,payload:s}=e;return 0===t?s:null}}const u=new l("member")},1701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var n=s(2250),r=s.n(n),i=s(1661),a=s.n(i),o=s(52),c=s.n(o),l=s(397),u=s(9533),d=s(539);function g(e,t){const s=Object.assign(t||{},{params:e});return s}var h=new WeakMap,p=new WeakMap;class w{constructor(e){a()(this,h,{writable:!0,value:void 0}),a()(this,p,{writable:!0,value:void 0}),r()(this,"onRequest",(async e=>{await this.extendTokenValidityPeriod();const{token:t}=(0,d.t)();return e.headers&&(e.headers.Authorization=`Bearer ${t}`),e})),this.client=this.createAxiosClient(),this.servicePath=e}createAxiosClient(){const e=c().create({baseURL:void 0,headers:{"Content-type":"application/json","x-api-key":void 0}});return e.interceptors.request.use(this.onRequest,this.onRequestError),e}onRequestError(e){return Promise.reject(e)}async extendTokenValidityPeriod(){}request(e,t,s,n){const{setLoading:r}=(0,u.q)();return new Promise(((i,a)=>{r(!0);const o=Object.assign(n,{url:`${this.servicePath}${t}`,method:e,data:s});this.client.request(o).then((e=>{const t=e.data;0!==t.code&&(l.Z.error(t.message),a(t)),i(t)})).catch((e=>{if(c().isAxiosError(e))if(e.response)if(e.response.data){const t=e.response.data;a(t)}else a(e);else e.request,a(e);else a(e);l.Z.exception(e)})).finally((()=>{r(!1)}))}))}get(e,t,s){const n=g(t,s);return this.request("GET",e,null,n)}post(e,t,s){const n=g(t,s);return this.request("POST",e,t,n)}put(e,t,s){const n=g(t,s);return this.request("PUT",e,t,n)}delete(e,t,s){const n=g(t,s);return this.request("DELETE",e,null,n)}}class y{constructor(e){r()(this,"client",void 0),this.client=new w(e)}}},2703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(1701);class r extends n["default"]{constructor(){super("/member")}find(e){return this.client.get("",e)}login(e){return this.client.post("/login",e)}checklogin(){return this.client.get("/checklogin")}getDashboards(){return this.client.get("/dashboards")}getListContent(e){return this.client.get("/contents",e)}getContentById(e){return this.client.get(`/contents/${e}`)}getListTag(){return this.client.get("/tags")}deleteReport(e){return this.client.delete(`/reports/${e}`)}getSuggestList(){return this.client.get("/suggest-title")}updateUser(e){return this.client.put("/users",e)}updateViewMember(e,t){return this.client.post(`/contents/${e}/viewed`,t)}getNotices(){return this.client.get("/notices")}}const i=new r},397:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s(6701);var n=s(6417);class r{success(e){n.Z.create({type:"positive",message:e})}warning(e){n.Z.create({type:"warning",message:e})}error(e){n.Z.create({type:"negative",message:e})}exception(e){e instanceof Error?this.error(e.message):this.error("An unexpected error occurred")}}const i=new r},2335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});s(5663);var n=s(3673),r=s(1959),i=s(2323),a=s(4446),o=s(9533);const c={class:"col-12 q-pa-sm"},l={key:0,class:"tw-absolute tw-top-2 tw-right-2 text-red"},u={key:0,class:"row text-right"},d={class:"col-12"},g={__name:"List",setup(e){const{isLoading:t}=(0,o.q)(),s=(0,r.iH)([]),g=(0,r.iH)([]),h=async()=>{const e=await a.Z.getNotices();s.value=e,g.value=s.value.splice(0,20)},p=()=>{s.value.length>0&&g.value.push(...s.value.splice(0,20))};return(0,n.bv)((()=>{h()})),(e,a)=>{const o=(0,n.up)("q-skeleton"),h=(0,n.up)("q-btn");return(0,r.SU)(t)?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"full-height",square:""})):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,i.C_)(["row tw-border-b",{"tw-relative":"000000000"===e.companyid}]),key:e.id},[(0,n._)("div",c,[(0,n._)("div",null,(0,i.zw)(e.datepublish),1),(0,n._)("div",null,[(0,n._)("b",null,(0,i.zw)(e.title),1)])]),"000000000"===e.companyid?((0,n.wg)(),(0,n.iD)("div",l," [運営からのお知らせ] ")):(0,n.kq)("",!0)],2)))),128)),s.value.length>0?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",d,[(0,n.Wm)(h,{flat:"",class:"tw-text-lg",onClick:p},{default:(0,n.w5)((()=>[(0,n.Uk)("もっと見る")])),_:1})])])):(0,n.kq)("",!0)],64))}}};var h=s(4103),p=s(8240),w=s(7518),y=s.n(w);const v=g,m=v;y()(g,"components",{QSkeleton:h.ZP,QBtn:p.Z})},7044:(e,t,s)=>{var n={"./base.repository":1701,"./member.repository":2703};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=7044}}]);