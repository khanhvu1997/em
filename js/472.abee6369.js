(globalThis["webpackChunkntv"]=globalThis["webpackChunkntv"]||[]).push([[472],{4446:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var r=s(2250),n=s.n(r);class i{getRepository(t){const e=s(7044)(`./${t}.repository`);return e.default}}const a=new i;class o{constructor(t){n()(this,"serviceName",void 0),n()(this,"dao",void 0),this.serviceName=t,this.dao=a.getRepository(t)}}var c=s(539);class l extends o{async login(t){const{signIn:e}=(0,c.t)(),s=await this.dao.login(t),{code:r,payload:n}=s;0===r&&e(n)}async checklogin(){const{signIn:t,signOut:e}=(0,c.t)();try{const e=await this.dao.checklogin(),{code:s,payload:r}=e;0===s&&t(r)}catch(s){e()}}async getDashboards(){const t=await this.dao.getDashboards(),{code:e,payload:s}=t;return 0===e?s:null}async getListContent(t){const e=await this.dao.getListContent(t),{code:s,payload:r}=e;return 0===s?r:null}async getContentById(t){const e=await this.dao.getContentById(t),{code:s,payload:r}=e;return 0===s?r:null}async getListTag(){const t=await this.dao.getListTag(),{code:e,payload:s}=t;return 0===e?s:null}async getSuggestList(){const t=await this.dao.getSuggestList(),{code:e,payload:s}=t;return 0===e?s:{}}async updateUser(t){const e=await this.dao.updateUser(t),{message:s}=e;return s}async deleteReport(t){const e=await this.dao.deleteReport(t),{message:s}=e;return s}async updateViewMember(t,e){const s=await this.dao.updateViewMember(t,e),{code:r}=s;return 0===r}async getNotices(){const t=await this.dao.getNotices(),{code:e,payload:s}=t;return 0===e?s:null}}const d=new l("member")},1701:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>v});var r=s(2250),n=s.n(r),i=s(1661),a=s.n(i),o=s(52),c=s.n(o),l=s(397),d=s(9533),u=s(539);function g(t,e){const s=Object.assign(e||{},{params:t});return s}var h=new WeakMap,p=new WeakMap;class w{constructor(t){a()(this,h,{writable:!0,value:void 0}),a()(this,p,{writable:!0,value:void 0}),n()(this,"onRequest",(async t=>{await this.extendTokenValidityPeriod();const{token:e}=(0,u.t)();return t.headers&&(t.headers.Authorization=`Bearer ${e}`),t})),this.client=this.createAxiosClient(),this.servicePath=t}createAxiosClient(){const t=c().create({baseURL:void 0,headers:{"Content-type":"application/json","x-api-key":void 0}});return t.interceptors.request.use(this.onRequest,this.onRequestError),t}onRequestError(t){return Promise.reject(t)}async extendTokenValidityPeriod(){}request(t,e,s,r){const{setLoading:n}=(0,d.q)();return new Promise(((i,a)=>{n(!0);const o=Object.assign(r,{url:`${this.servicePath}${e}`,method:t,data:s});this.client.request(o).then((t=>{const e=t.data;0!==e.code&&(l.Z.error(e.message),a(e)),i(e)})).catch((t=>{if(c().isAxiosError(t))if(t.response)if(t.response.data){const e=t.response.data;a(e)}else a(t);else t.request,a(t);else a(t);l.Z.exception(t)})).finally((()=>{n(!1)}))}))}get(t,e,s){const r=g(e,s);return this.request("GET",t,null,r)}post(t,e,s){const r=g(e,s);return this.request("POST",t,e,r)}put(t,e,s){const r=g(e,s);return this.request("PUT",t,e,r)}delete(t,e,s){const r=g(e,s);return this.request("DELETE",t,null,r)}}class v{constructor(t){n()(this,"client",void 0),this.client=new w(t)}}},2703:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var r=s(1701);class n extends r["default"]{constructor(){super("/member")}find(t){return this.client.get("",t)}login(t){return this.client.post("/login",t)}checklogin(){return this.client.get("/checklogin")}getDashboards(){return this.client.get("/dashboards")}getListContent(t){return this.client.get("/contents",t)}getContentById(t){return this.client.get(`/contents/${t}`)}getListTag(){return this.client.get("/tags")}deleteReport(t){return this.client.delete(`/reports/${t}`)}getSuggestList(){return this.client.get("/suggest-title")}updateUser(t){return this.client.put("/users",t)}updateViewMember(t,e){return this.client.post(`/contents/${t}/viewed`,e)}getNotices(){return this.client.get("/notices")}}const i=new n},397:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});s(6701);var r=s(6417);class n{success(t){r.Z.create({type:"positive",message:t})}warning(t){r.Z.create({type:"warning",message:t})}error(t){r.Z.create({type:"negative",message:t})}exception(t){t instanceof Error?this.error(t.message):this.error("An unexpected error occurred")}}const i=new n},4472:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>U});var r=s(3673),n=s(1959),i=s(2323),a=(s(4446),s(9533));const o=(0,r._)("div",{class:"row q-mb-md"},[(0,r._)("h4",{class:"tw-text-2xl"},"新着コンテンツ")],-1),c={class:"col-4 q-pa-sm"},l={class:"col-8 q-pa-sm"},d={class:"row"},u={class:"col-12"},g={class:"tw-text-lg"},h={class:"row"},p={class:"col-8"},w={class:"row"},v={class:"row"},y={class:"col-4"},m={class:"row text-right"},b={class:"col-12"},_=(0,r._)("div",{class:"row q-my-md"},[(0,r._)("h4",{class:"tw-text-2xl"},"新着お知らせ")],-1),k={class:"col-12 q-pa-sm"},x={key:0,class:"tw-absolute tw-top-2 tw-right-2 text-red"},q={class:"row text-right"},f={class:"col-12"},D={__name:"Index",setup(t){const{isLoading:e}=(0,a.q)(),s=(0,n.iH)(""),D=(0,n.iH)("");return(0,r.bv)((async()=>{})),(t,a)=>{const L=(0,r.up)("q-skeleton"),C=(0,r.up)("q-img"),T=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o,(0,n.SU)(e)?((0,r.wg)(),(0,r.j4)(L,{key:0,class:"full-height",square:""})):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.value,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"row tw-border-b",key:t.id},[(0,r._)("div",c,[(0,r.Wm)(C,{src:t.thumbnail},null,8,["src"])]),(0,r._)("div",l,[(0,r._)("div",d,[(0,r._)("div",u,[(0,r._)("h4",g,(0,i.zw)(t.title),1)])]),(0,r._)("div",h,[(0,r._)("div",p,[(0,r._)("div",w," 投稿日: "+(0,i.zw)(t.datepublish),1),(0,r._)("div",v," 提出期限: "+(0,i.zw)(t.datereport),1)]),(0,r._)("div",y,[(0,r.Wm)(C,{src:"images/pencil_blue.png",style:{"max-width":"20px"}})])])])])))),128)),(0,r._)("div",m,[(0,r._)("div",b,[(0,r.Wm)(T,{to:{path:"/forgot-password"},class:"tw-text-lg"},{default:(0,r.w5)((()=>[(0,r.Uk)("もっと見る")])),_:1})])])],64)),D.value.length?((0,r.wg)(),(0,r.iD)(r.HY,{key:2},[_,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(D.value,(t=>((0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(["row tw-border-b",{"tw-relative":"000000000"===t.companyid}]),key:t.id},[(0,r._)("div",k,[(0,r._)("div",null,(0,i.zw)(t.datepublish),1),(0,r._)("div",null,[(0,r._)("b",null,(0,i.zw)(t.title),1)])]),"000000000"===t.companyid?((0,r.wg)(),(0,r.iD)("div",x," [運営からのお知らせ] ")):(0,r.kq)("",!0)],2)))),128)),(0,r._)("div",q,[(0,r._)("div",f,[(0,r.Wm)(T,{to:{path:"/notices"},class:"tw-text-lg"},{default:(0,r.w5)((()=>[(0,r.Uk)("もっと見る")])),_:1})])])],64)):(0,r.kq)("",!0)],64)}}};var L=s(4103),C=s(4027),T=s(7518),E=s.n(T);const R=D,U=R;E()(D,"components",{QSkeleton:L.ZP,QImg:C.Z})},7044:(t,e,s)=>{var r={"./base.repository":1701,"./member.repository":2703};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id=7044}}]);